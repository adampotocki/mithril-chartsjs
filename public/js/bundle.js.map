{"version":3,"file":"bundle.js","sources":["../../node_modules/color-convert/conversions.js","../../node_modules/chartjs-color-string/color-string.js","../../node_modules/moment/src/lib/utils/hooks.js","../../node_modules/moment/src/lib/utils/is-array.js","../../node_modules/moment/src/lib/utils/is-object.js","../../node_modules/moment/src/lib/utils/is-object-empty.js","../../node_modules/moment/src/lib/utils/is-undefined.js","../../node_modules/moment/src/lib/utils/is-number.js","../../node_modules/moment/src/lib/utils/is-date.js","../../node_modules/moment/src/lib/utils/map.js","../../node_modules/moment/src/lib/utils/has-own-prop.js","../../node_modules/moment/src/lib/utils/extend.js","../../node_modules/moment/src/lib/create/utc.js","../../node_modules/moment/src/lib/create/parsing-flags.js","../../node_modules/moment/src/lib/create/valid.js","../../node_modules/moment/src/lib/moment/constructor.js","../../node_modules/moment/src/lib/utils/abs-floor.js","../../node_modules/moment/src/lib/utils/to-int.js","../../node_modules/moment/src/lib/utils/compare-arrays.js","../../node_modules/moment/src/lib/utils/deprecate.js","../../node_modules/moment/src/lib/utils/is-function.js","../../node_modules/moment/src/lib/locale/set.js","../../node_modules/moment/src/lib/locale/constructor.js","../../node_modules/moment/src/lib/locale/calendar.js","../../node_modules/moment/src/lib/locale/formats.js","../../node_modules/moment/src/lib/locale/invalid.js","../../node_modules/moment/src/lib/locale/ordinal.js","../../node_modules/moment/src/lib/locale/relative.js","../../node_modules/moment/src/lib/units/aliases.js","../../node_modules/moment/src/lib/units/priorities.js","../../node_modules/moment/src/lib/moment/get-set.js","../../node_modules/moment/src/lib/utils/zero-fill.js","../../node_modules/moment/src/lib/format/format.js","../../node_modules/moment/src/lib/parse/regex.js","../../node_modules/moment/src/lib/parse/token.js","../../node_modules/moment/src/lib/units/month.js","../../node_modules/moment/src/lib/units/year.js","../../node_modules/moment/src/lib/create/date-from-array.js","../../node_modules/moment/src/lib/units/week-calendar-utils.js","../../node_modules/moment/src/lib/units/week.js","../../node_modules/moment/src/lib/units/day-of-week.js","../../node_modules/moment/src/lib/units/hour.js","../../node_modules/moment/src/lib/locale/locales.js","../../node_modules/moment/src/lib/create/check-overflow.js","../../node_modules/moment/src/lib/create/from-string.js","../../node_modules/moment/src/lib/utils/defaults.js","../../node_modules/moment/src/lib/create/from-array.js","../../node_modules/moment/src/lib/create/from-string-and-format.js","../../node_modules/moment/src/lib/create/from-string-and-array.js","../../node_modules/moment/src/lib/create/from-object.js","../../node_modules/moment/src/lib/create/from-anything.js","../../node_modules/moment/src/lib/create/local.js","../../node_modules/moment/src/lib/moment/min-max.js","../../node_modules/moment/src/lib/duration/valid.js","../../node_modules/moment/src/lib/duration/constructor.js","../../node_modules/moment/src/lib/utils/abs-round.js","../../node_modules/moment/src/lib/units/offset.js","../../node_modules/moment/src/lib/duration/create.js","../../node_modules/moment/src/lib/moment/add-subtract.js","../../node_modules/moment/src/lib/moment/calendar.js","../../node_modules/moment/src/lib/moment/clone.js","../../node_modules/moment/src/lib/moment/compare.js","../../node_modules/moment/src/lib/moment/diff.js","../../node_modules/moment/src/lib/moment/format.js","../../node_modules/moment/src/lib/moment/from.js","../../node_modules/moment/src/lib/moment/to.js","../../node_modules/moment/src/lib/moment/locale.js","../../node_modules/moment/src/lib/moment/start-end-of.js","../../node_modules/moment/src/lib/moment/to-type.js","../../node_modules/moment/src/lib/moment/valid.js","../../node_modules/moment/src/lib/moment/creation-data.js","../../node_modules/moment/src/lib/units/week-year.js","../../node_modules/moment/src/lib/units/quarter.js","../../node_modules/moment/src/lib/units/day-of-year.js","../../node_modules/moment/src/lib/units/millisecond.js","../../node_modules/moment/src/lib/units/timezone.js","../../node_modules/moment/src/lib/moment/moment.js","../../node_modules/moment/src/lib/locale/pre-post-format.js","../../node_modules/moment/src/lib/locale/lists.js","../../node_modules/moment/src/lib/duration/abs.js","../../node_modules/moment/src/lib/duration/add-subtract.js","../../node_modules/moment/src/lib/utils/abs-ceil.js","../../node_modules/moment/src/lib/duration/bubble.js","../../node_modules/moment/src/lib/duration/as.js","../../node_modules/moment/src/lib/duration/get.js","../../node_modules/moment/src/lib/duration/humanize.js","../../node_modules/moment/src/lib/duration/iso-string.js","../../node_modules/mithril/mithril.js","../../src/utils/index.js","../../src/models/barModel.js","../../src/models/barModelTwo.js","../../src/models/lineModel.js","../../src/models/doughnutModel.js","../../src/layout.js","../../node_modules/chart.js/src/core/core.js","../../node_modules/color-convert/index.js","../../node_modules/color-name/index.js","../../node_modules/chartjs-color/index.js","../../node_modules/chart.js/src/core/core.helpers.js","../../node_modules/chart.js/src/platforms/platform.dom.js","../../node_modules/chart.js/src/platforms/platform.js","../../node_modules/chart.js/src/core/core.canvasHelpers.js","../../node_modules/chart.js/src/core/core.element.js","../../node_modules/chart.js/src/core/core.plugin.js","../../node_modules/chart.js/src/core/core.animation.js","../../node_modules/chart.js/src/core/core.controller.js","../../node_modules/chart.js/src/core/core.datasetController.js","../../node_modules/chart.js/src/core/core.layoutService.js","../../node_modules/chart.js/src/core/core.scaleService.js","../../node_modules/chart.js/src/core/core.ticks.js","../../node_modules/chart.js/src/core/core.scale.js","../../node_modules/chart.js/src/core/core.interaction.js","../../node_modules/chart.js/src/core/core.tooltip.js","../../node_modules/chart.js/src/elements/element.arc.js","../../node_modules/chart.js/src/elements/element.line.js","../../node_modules/chart.js/src/elements/element.point.js","../../node_modules/chart.js/src/elements/element.rectangle.js","../../node_modules/chart.js/src/scales/scale.linearbase.js","../../node_modules/chart.js/src/scales/scale.category.js","../../node_modules/chart.js/src/scales/scale.linear.js","../../node_modules/chart.js/src/scales/scale.logarithmic.js","../../node_modules/chart.js/src/scales/scale.radialLinear.js","../../node_modules/moment/src/lib/utils/some.js","../../node_modules/moment/src/lib/utils/keys.js","../../node_modules/moment/src/lib/units/constants.js","../../node_modules/moment/src/lib/utils/index-of.js","../../node_modules/moment/src/lib/locale/base-config.js","../../node_modules/moment/src/lib/moment/now.js","../../node_modules/moment/src/lib/units/day-of-month.js","../../node_modules/moment/src/lib/units/minute.js","../../node_modules/moment/src/lib/units/second.js","../../node_modules/moment/src/lib/moment/prototype.js","../../node_modules/moment/src/lib/locale/prototype.js","../../node_modules/moment/src/lib/locale/en.js","../../node_modules/moment/src/lib/locale/locale.js","../../node_modules/moment/src/lib/duration/prototype.js","../../node_modules/moment/src/lib/units/timestamp.js","../../node_modules/moment/src/moment.js","../../node_modules/chart.js/src/scales/scale.time.js","../../node_modules/chart.js/src/controllers/controller.bar.js","../../node_modules/chart.js/src/controllers/controller.bubble.js","../../node_modules/chart.js/src/controllers/controller.doughnut.js","../../node_modules/chart.js/src/controllers/controller.line.js","../../node_modules/chart.js/src/controllers/controller.polarArea.js","../../node_modules/chart.js/src/controllers/controller.radar.js","../../node_modules/chart.js/src/charts/Chart.Bar.js","../../node_modules/chart.js/src/charts/Chart.Bubble.js","../../node_modules/chart.js/src/charts/Chart.Doughnut.js","../../node_modules/chart.js/src/charts/Chart.Line.js","../../node_modules/chart.js/src/charts/Chart.PolarArea.js","../../node_modules/chart.js/src/charts/Chart.Radar.js","../../node_modules/chart.js/src/charts/Chart.Scatter.js","../../node_modules/chart.js/src/plugins/plugin.filler.js","../../node_modules/chart.js/src/plugins/plugin.legend.js","../../node_modules/chart.js/src/plugins/plugin.title.js","../../node_modules/chart.js/src/chart.js","../../src/components/chartComponent.js","../../src/views/allCharts.js","../../src/views/barCharts.js","../../src/views/lineCharts.js","../../src/views/doughnutCharts.js","../../src/entry.js"],"sourcesContent":["/* MIT license */\n\nmodule.exports = {\n  rgb2hsl: rgb2hsl,\n  rgb2hsv: rgb2hsv,\n  rgb2hwb: rgb2hwb,\n  rgb2cmyk: rgb2cmyk,\n  rgb2keyword: rgb2keyword,\n  rgb2xyz: rgb2xyz,\n  rgb2lab: rgb2lab,\n  rgb2lch: rgb2lch,\n\n  hsl2rgb: hsl2rgb,\n  hsl2hsv: hsl2hsv,\n  hsl2hwb: hsl2hwb,\n  hsl2cmyk: hsl2cmyk,\n  hsl2keyword: hsl2keyword,\n\n  hsv2rgb: hsv2rgb,\n  hsv2hsl: hsv2hsl,\n  hsv2hwb: hsv2hwb,\n  hsv2cmyk: hsv2cmyk,\n  hsv2keyword: hsv2keyword,\n\n  hwb2rgb: hwb2rgb,\n  hwb2hsl: hwb2hsl,\n  hwb2hsv: hwb2hsv,\n  hwb2cmyk: hwb2cmyk,\n  hwb2keyword: hwb2keyword,\n\n  cmyk2rgb: cmyk2rgb,\n  cmyk2hsl: cmyk2hsl,\n  cmyk2hsv: cmyk2hsv,\n  cmyk2hwb: cmyk2hwb,\n  cmyk2keyword: cmyk2keyword,\n\n  keyword2rgb: keyword2rgb,\n  keyword2hsl: keyword2hsl,\n  keyword2hsv: keyword2hsv,\n  keyword2hwb: keyword2hwb,\n  keyword2cmyk: keyword2cmyk,\n  keyword2lab: keyword2lab,\n  keyword2xyz: keyword2xyz,\n\n  xyz2rgb: xyz2rgb,\n  xyz2lab: xyz2lab,\n  xyz2lch: xyz2lch,\n\n  lab2xyz: lab2xyz,\n  lab2rgb: lab2rgb,\n  lab2lch: lab2lch,\n\n  lch2lab: lch2lab,\n  lch2xyz: lch2xyz,\n  lch2rgb: lch2rgb\n}\n\n\nfunction rgb2hsl(rgb) {\n  var r = rgb[0]/255,\n      g = rgb[1]/255,\n      b = rgb[2]/255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, l;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g)/ delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  l = (min + max) / 2;\n\n  if (max == min)\n    s = 0;\n  else if (l <= 0.5)\n    s = delta / (max + min);\n  else\n    s = delta / (2 - max - min);\n\n  return [h, s * 100, l * 100];\n}\n\nfunction rgb2hsv(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      delta = max - min,\n      h, s, v;\n\n  if (max == 0)\n    s = 0;\n  else\n    s = (delta/max * 1000)/10;\n\n  if (max == min)\n    h = 0;\n  else if (r == max)\n    h = (g - b) / delta;\n  else if (g == max)\n    h = 2 + (b - r) / delta;\n  else if (b == max)\n    h = 4 + (r - g) / delta;\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0)\n    h += 360;\n\n  v = ((max / 255) * 1000) / 10;\n\n  return [h, s, v];\n}\n\nfunction rgb2hwb(rgb) {\n  var r = rgb[0],\n      g = rgb[1],\n      b = rgb[2],\n      h = rgb2hsl(rgb)[0],\n      w = 1/255 * Math.min(r, Math.min(g, b)),\n      b = 1 - 1/255 * Math.max(r, Math.max(g, b));\n\n  return [h, w * 100, b * 100];\n}\n\nfunction rgb2cmyk(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255,\n      c, m, y, k;\n\n  k = Math.min(1 - r, 1 - g, 1 - b);\n  c = (1 - r - k) / (1 - k) || 0;\n  m = (1 - g - k) / (1 - k) || 0;\n  y = (1 - b - k) / (1 - k) || 0;\n  return [c * 100, m * 100, y * 100, k * 100];\n}\n\nfunction rgb2keyword(rgb) {\n  return reverseKeywords[JSON.stringify(rgb)];\n}\n\nfunction rgb2xyz(rgb) {\n  var r = rgb[0] / 255,\n      g = rgb[1] / 255,\n      b = rgb[2] / 255;\n\n  // assume sRGB\n  r = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n  g = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n  b = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n  var x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n  var y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n  var z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n  return [x * 100, y *100, z * 100];\n}\n\nfunction rgb2lab(rgb) {\n  var xyz = rgb2xyz(rgb),\n        x = xyz[0],\n        y = xyz[1],\n        z = xyz[2],\n        l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction rgb2lch(args) {\n  return lab2lch(rgb2lab(args));\n}\n\nfunction hsl2rgb(hsl) {\n  var h = hsl[0] / 360,\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      t1, t2, t3, rgb, val;\n\n  if (s == 0) {\n    val = l * 255;\n    return [val, val, val];\n  }\n\n  if (l < 0.5)\n    t2 = l * (1 + s);\n  else\n    t2 = l + s - l * s;\n  t1 = 2 * l - t2;\n\n  rgb = [0, 0, 0];\n  for (var i = 0; i < 3; i++) {\n    t3 = h + 1 / 3 * - (i - 1);\n    t3 < 0 && t3++;\n    t3 > 1 && t3--;\n\n    if (6 * t3 < 1)\n      val = t1 + (t2 - t1) * 6 * t3;\n    else if (2 * t3 < 1)\n      val = t2;\n    else if (3 * t3 < 2)\n      val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n    else\n      val = t1;\n\n    rgb[i] = val * 255;\n  }\n\n  return rgb;\n}\n\nfunction hsl2hsv(hsl) {\n  var h = hsl[0],\n      s = hsl[1] / 100,\n      l = hsl[2] / 100,\n      sv, v;\n\n  if(l === 0) {\n      // no need to do calc on black\n      // also avoids divide by 0 error\n      return [0, 0, 0];\n  }\n\n  l *= 2;\n  s *= (l <= 1) ? l : 2 - l;\n  v = (l + s) / 2;\n  sv = (2 * s) / (l + s);\n  return [h, sv * 100, v * 100];\n}\n\nfunction hsl2hwb(args) {\n  return rgb2hwb(hsl2rgb(args));\n}\n\nfunction hsl2cmyk(args) {\n  return rgb2cmyk(hsl2rgb(args));\n}\n\nfunction hsl2keyword(args) {\n  return rgb2keyword(hsl2rgb(args));\n}\n\n\nfunction hsv2rgb(hsv) {\n  var h = hsv[0] / 60,\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      hi = Math.floor(h) % 6;\n\n  var f = h - Math.floor(h),\n      p = 255 * v * (1 - s),\n      q = 255 * v * (1 - (s * f)),\n      t = 255 * v * (1 - (s * (1 - f))),\n      v = 255 * v;\n\n  switch(hi) {\n    case 0:\n      return [v, t, p];\n    case 1:\n      return [q, v, p];\n    case 2:\n      return [p, v, t];\n    case 3:\n      return [p, q, v];\n    case 4:\n      return [t, p, v];\n    case 5:\n      return [v, p, q];\n  }\n}\n\nfunction hsv2hsl(hsv) {\n  var h = hsv[0],\n      s = hsv[1] / 100,\n      v = hsv[2] / 100,\n      sl, l;\n\n  l = (2 - s) * v;\n  sl = s * v;\n  sl /= (l <= 1) ? l : 2 - l;\n  sl = sl || 0;\n  l /= 2;\n  return [h, sl * 100, l * 100];\n}\n\nfunction hsv2hwb(args) {\n  return rgb2hwb(hsv2rgb(args))\n}\n\nfunction hsv2cmyk(args) {\n  return rgb2cmyk(hsv2rgb(args));\n}\n\nfunction hsv2keyword(args) {\n  return rgb2keyword(hsv2rgb(args));\n}\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nfunction hwb2rgb(hwb) {\n  var h = hwb[0] / 360,\n      wh = hwb[1] / 100,\n      bl = hwb[2] / 100,\n      ratio = wh + bl,\n      i, v, f, n;\n\n  // wh + bl cant be > 1\n  if (ratio > 1) {\n    wh /= ratio;\n    bl /= ratio;\n  }\n\n  i = Math.floor(6 * h);\n  v = 1 - bl;\n  f = 6 * h - i;\n  if ((i & 0x01) != 0) {\n    f = 1 - f;\n  }\n  n = wh + f * (v - wh);  // linear interpolation\n\n  switch (i) {\n    default:\n    case 6:\n    case 0: r = v; g = n; b = wh; break;\n    case 1: r = n; g = v; b = wh; break;\n    case 2: r = wh; g = v; b = n; break;\n    case 3: r = wh; g = n; b = v; break;\n    case 4: r = n; g = wh; b = v; break;\n    case 5: r = v; g = wh; b = n; break;\n  }\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction hwb2hsl(args) {\n  return rgb2hsl(hwb2rgb(args));\n}\n\nfunction hwb2hsv(args) {\n  return rgb2hsv(hwb2rgb(args));\n}\n\nfunction hwb2cmyk(args) {\n  return rgb2cmyk(hwb2rgb(args));\n}\n\nfunction hwb2keyword(args) {\n  return rgb2keyword(hwb2rgb(args));\n}\n\nfunction cmyk2rgb(cmyk) {\n  var c = cmyk[0] / 100,\n      m = cmyk[1] / 100,\n      y = cmyk[2] / 100,\n      k = cmyk[3] / 100,\n      r, g, b;\n\n  r = 1 - Math.min(1, c * (1 - k) + k);\n  g = 1 - Math.min(1, m * (1 - k) + k);\n  b = 1 - Math.min(1, y * (1 - k) + k);\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction cmyk2hsl(args) {\n  return rgb2hsl(cmyk2rgb(args));\n}\n\nfunction cmyk2hsv(args) {\n  return rgb2hsv(cmyk2rgb(args));\n}\n\nfunction cmyk2hwb(args) {\n  return rgb2hwb(cmyk2rgb(args));\n}\n\nfunction cmyk2keyword(args) {\n  return rgb2keyword(cmyk2rgb(args));\n}\n\n\nfunction xyz2rgb(xyz) {\n  var x = xyz[0] / 100,\n      y = xyz[1] / 100,\n      z = xyz[2] / 100,\n      r, g, b;\n\n  r = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n  g = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n  b = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n  // assume sRGB\n  r = r > 0.0031308 ? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n    : r = (r * 12.92);\n\n  g = g > 0.0031308 ? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n    : g = (g * 12.92);\n\n  b = b > 0.0031308 ? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n    : b = (b * 12.92);\n\n  r = Math.min(Math.max(0, r), 1);\n  g = Math.min(Math.max(0, g), 1);\n  b = Math.min(Math.max(0, b), 1);\n\n  return [r * 255, g * 255, b * 255];\n}\n\nfunction xyz2lab(xyz) {\n  var x = xyz[0],\n      y = xyz[1],\n      z = xyz[2],\n      l, a, b;\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\n  y = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\n  z = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\n\n  l = (116 * y) - 16;\n  a = 500 * (x - y);\n  b = 200 * (y - z);\n\n  return [l, a, b];\n}\n\nfunction xyz2lch(args) {\n  return lab2lch(xyz2lab(args));\n}\n\nfunction lab2xyz(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      x, y, z, y2;\n\n  if (l <= 8) {\n    y = (l * 100) / 903.3;\n    y2 = (7.787 * (y / 100)) + (16 / 116);\n  } else {\n    y = 100 * Math.pow((l + 16) / 116, 3);\n    y2 = Math.pow(y / 100, 1/3);\n  }\n\n  x = x / 95.047 <= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.pow((a / 500) + y2, 3);\n\n  z = z / 108.883 <= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.pow(y2 - (b / 200), 3);\n\n  return [x, y, z];\n}\n\nfunction lab2lch(lab) {\n  var l = lab[0],\n      a = lab[1],\n      b = lab[2],\n      hr, h, c;\n\n  hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n  if (h < 0) {\n    h += 360;\n  }\n  c = Math.sqrt(a * a + b * b);\n  return [l, c, h];\n}\n\nfunction lab2rgb(args) {\n  return xyz2rgb(lab2xyz(args));\n}\n\nfunction lch2lab(lch) {\n  var l = lch[0],\n      c = lch[1],\n      h = lch[2],\n      a, b, hr;\n\n  hr = h / 360 * 2 * Math.PI;\n  a = c * Math.cos(hr);\n  b = c * Math.sin(hr);\n  return [l, a, b];\n}\n\nfunction lch2xyz(args) {\n  return lab2xyz(lch2lab(args));\n}\n\nfunction lch2rgb(args) {\n  return lab2rgb(lch2lab(args));\n}\n\nfunction keyword2rgb(keyword) {\n  return cssKeywords[keyword];\n}\n\nfunction keyword2hsl(args) {\n  return rgb2hsl(keyword2rgb(args));\n}\n\nfunction keyword2hsv(args) {\n  return rgb2hsv(keyword2rgb(args));\n}\n\nfunction keyword2hwb(args) {\n  return rgb2hwb(keyword2rgb(args));\n}\n\nfunction keyword2cmyk(args) {\n  return rgb2cmyk(keyword2rgb(args));\n}\n\nfunction keyword2lab(args) {\n  return rgb2lab(keyword2rgb(args));\n}\n\nfunction keyword2xyz(args) {\n  return rgb2xyz(keyword2rgb(args));\n}\n\nvar cssKeywords = {\n  aliceblue:  [240,248,255],\n  antiquewhite: [250,235,215],\n  aqua: [0,255,255],\n  aquamarine: [127,255,212],\n  azure:  [240,255,255],\n  beige:  [245,245,220],\n  bisque: [255,228,196],\n  black:  [0,0,0],\n  blanchedalmond: [255,235,205],\n  blue: [0,0,255],\n  blueviolet: [138,43,226],\n  brown:  [165,42,42],\n  burlywood:  [222,184,135],\n  cadetblue:  [95,158,160],\n  chartreuse: [127,255,0],\n  chocolate:  [210,105,30],\n  coral:  [255,127,80],\n  cornflowerblue: [100,149,237],\n  cornsilk: [255,248,220],\n  crimson:  [220,20,60],\n  cyan: [0,255,255],\n  darkblue: [0,0,139],\n  darkcyan: [0,139,139],\n  darkgoldenrod:  [184,134,11],\n  darkgray: [169,169,169],\n  darkgreen:  [0,100,0],\n  darkgrey: [169,169,169],\n  darkkhaki:  [189,183,107],\n  darkmagenta:  [139,0,139],\n  darkolivegreen: [85,107,47],\n  darkorange: [255,140,0],\n  darkorchid: [153,50,204],\n  darkred:  [139,0,0],\n  darksalmon: [233,150,122],\n  darkseagreen: [143,188,143],\n  darkslateblue:  [72,61,139],\n  darkslategray:  [47,79,79],\n  darkslategrey:  [47,79,79],\n  darkturquoise:  [0,206,209],\n  darkviolet: [148,0,211],\n  deeppink: [255,20,147],\n  deepskyblue:  [0,191,255],\n  dimgray:  [105,105,105],\n  dimgrey:  [105,105,105],\n  dodgerblue: [30,144,255],\n  firebrick:  [178,34,34],\n  floralwhite:  [255,250,240],\n  forestgreen:  [34,139,34],\n  fuchsia:  [255,0,255],\n  gainsboro:  [220,220,220],\n  ghostwhite: [248,248,255],\n  gold: [255,215,0],\n  goldenrod:  [218,165,32],\n  gray: [128,128,128],\n  green:  [0,128,0],\n  greenyellow:  [173,255,47],\n  grey: [128,128,128],\n  honeydew: [240,255,240],\n  hotpink:  [255,105,180],\n  indianred:  [205,92,92],\n  indigo: [75,0,130],\n  ivory:  [255,255,240],\n  khaki:  [240,230,140],\n  lavender: [230,230,250],\n  lavenderblush:  [255,240,245],\n  lawngreen:  [124,252,0],\n  lemonchiffon: [255,250,205],\n  lightblue:  [173,216,230],\n  lightcoral: [240,128,128],\n  lightcyan:  [224,255,255],\n  lightgoldenrodyellow: [250,250,210],\n  lightgray:  [211,211,211],\n  lightgreen: [144,238,144],\n  lightgrey:  [211,211,211],\n  lightpink:  [255,182,193],\n  lightsalmon:  [255,160,122],\n  lightseagreen:  [32,178,170],\n  lightskyblue: [135,206,250],\n  lightslategray: [119,136,153],\n  lightslategrey: [119,136,153],\n  lightsteelblue: [176,196,222],\n  lightyellow:  [255,255,224],\n  lime: [0,255,0],\n  limegreen:  [50,205,50],\n  linen:  [250,240,230],\n  magenta:  [255,0,255],\n  maroon: [128,0,0],\n  mediumaquamarine: [102,205,170],\n  mediumblue: [0,0,205],\n  mediumorchid: [186,85,211],\n  mediumpurple: [147,112,219],\n  mediumseagreen: [60,179,113],\n  mediumslateblue:  [123,104,238],\n  mediumspringgreen:  [0,250,154],\n  mediumturquoise:  [72,209,204],\n  mediumvioletred:  [199,21,133],\n  midnightblue: [25,25,112],\n  mintcream:  [245,255,250],\n  mistyrose:  [255,228,225],\n  moccasin: [255,228,181],\n  navajowhite:  [255,222,173],\n  navy: [0,0,128],\n  oldlace:  [253,245,230],\n  olive:  [128,128,0],\n  olivedrab:  [107,142,35],\n  orange: [255,165,0],\n  orangered:  [255,69,0],\n  orchid: [218,112,214],\n  palegoldenrod:  [238,232,170],\n  palegreen:  [152,251,152],\n  paleturquoise:  [175,238,238],\n  palevioletred:  [219,112,147],\n  papayawhip: [255,239,213],\n  peachpuff:  [255,218,185],\n  peru: [205,133,63],\n  pink: [255,192,203],\n  plum: [221,160,221],\n  powderblue: [176,224,230],\n  purple: [128,0,128],\n  rebeccapurple: [102, 51, 153],\n  red:  [255,0,0],\n  rosybrown:  [188,143,143],\n  royalblue:  [65,105,225],\n  saddlebrown:  [139,69,19],\n  salmon: [250,128,114],\n  sandybrown: [244,164,96],\n  seagreen: [46,139,87],\n  seashell: [255,245,238],\n  sienna: [160,82,45],\n  silver: [192,192,192],\n  skyblue:  [135,206,235],\n  slateblue:  [106,90,205],\n  slategray:  [112,128,144],\n  slategrey:  [112,128,144],\n  snow: [255,250,250],\n  springgreen:  [0,255,127],\n  steelblue:  [70,130,180],\n  tan:  [210,180,140],\n  teal: [0,128,128],\n  thistle:  [216,191,216],\n  tomato: [255,99,71],\n  turquoise:  [64,224,208],\n  violet: [238,130,238],\n  wheat:  [245,222,179],\n  white:  [255,255,255],\n  whitesmoke: [245,245,245],\n  yellow: [255,255,0],\n  yellowgreen:  [154,205,50]\n};\n\nvar reverseKeywords = {};\nfor (var key in cssKeywords) {\n  reverseKeywords[JSON.stringify(cssKeywords[key])] = key;\n}\n","/* MIT license */\r\nvar colorNames = require('color-name');\r\n\r\nmodule.exports = {\r\n   getRgba: getRgba,\r\n   getHsla: getHsla,\r\n   getRgb: getRgb,\r\n   getHsl: getHsl,\r\n   getHwb: getHwb,\r\n   getAlpha: getAlpha,\r\n\r\n   hexString: hexString,\r\n   rgbString: rgbString,\r\n   rgbaString: rgbaString,\r\n   percentString: percentString,\r\n   percentaString: percentaString,\r\n   hslString: hslString,\r\n   hslaString: hslaString,\r\n   hwbString: hwbString,\r\n   keyword: keyword\r\n}\r\n\r\nfunction getRgba(string) {\r\n   if (!string) {\r\n      return;\r\n   }\r\n   var abbr =  /^#([a-fA-F0-9]{3})$/,\r\n       hex =  /^#([a-fA-F0-9]{6})$/,\r\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\r\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/,\r\n       keyword = /(\\w+)/;\r\n\r\n   var rgb = [0, 0, 0],\r\n       a = 1,\r\n       match = string.match(abbr);\r\n   if (match) {\r\n      match = match[1];\r\n      for (var i = 0; i < rgb.length; i++) {\r\n         rgb[i] = parseInt(match[i] + match[i], 16);\r\n      }\r\n   }\r\n   else if (match = string.match(hex)) {\r\n      match = match[1];\r\n      for (var i = 0; i < rgb.length; i++) {\r\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\r\n      }\r\n   }\r\n   else if (match = string.match(rgba)) {\r\n      for (var i = 0; i < rgb.length; i++) {\r\n         rgb[i] = parseInt(match[i + 1]);\r\n      }\r\n      a = parseFloat(match[4]);\r\n   }\r\n   else if (match = string.match(per)) {\r\n      for (var i = 0; i < rgb.length; i++) {\r\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\r\n      }\r\n      a = parseFloat(match[4]);\r\n   }\r\n   else if (match = string.match(keyword)) {\r\n      if (match[1] == \"transparent\") {\r\n         return [0, 0, 0, 0];\r\n      }\r\n      rgb = colorNames[match[1]];\r\n      if (!rgb) {\r\n         return;\r\n      }\r\n   }\r\n\r\n   for (var i = 0; i < rgb.length; i++) {\r\n      rgb[i] = scale(rgb[i], 0, 255);\r\n   }\r\n   if (!a && a != 0) {\r\n      a = 1;\r\n   }\r\n   else {\r\n      a = scale(a, 0, 1);\r\n   }\r\n   rgb[3] = a;\r\n   return rgb;\r\n}\r\n\r\nfunction getHsla(string) {\r\n   if (!string) {\r\n      return;\r\n   }\r\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\r\n   var match = string.match(hsl);\r\n   if (match) {\r\n      var alpha = parseFloat(match[4]);\r\n      var h = scale(parseInt(match[1]), 0, 360),\r\n          s = scale(parseFloat(match[2]), 0, 100),\r\n          l = scale(parseFloat(match[3]), 0, 100),\r\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\r\n      return [h, s, l, a];\r\n   }\r\n}\r\n\r\nfunction getHwb(string) {\r\n   if (!string) {\r\n      return;\r\n   }\r\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\r\n   var match = string.match(hwb);\r\n   if (match) {\r\n    var alpha = parseFloat(match[4]);\r\n      var h = scale(parseInt(match[1]), 0, 360),\r\n          w = scale(parseFloat(match[2]), 0, 100),\r\n          b = scale(parseFloat(match[3]), 0, 100),\r\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\r\n      return [h, w, b, a];\r\n   }\r\n}\r\n\r\nfunction getRgb(string) {\r\n   var rgba = getRgba(string);\r\n   return rgba && rgba.slice(0, 3);\r\n}\r\n\r\nfunction getHsl(string) {\r\n  var hsla = getHsla(string);\r\n  return hsla && hsla.slice(0, 3);\r\n}\r\n\r\nfunction getAlpha(string) {\r\n   var vals = getRgba(string);\r\n   if (vals) {\r\n      return vals[3];\r\n   }\r\n   else if (vals = getHsla(string)) {\r\n      return vals[3];\r\n   }\r\n   else if (vals = getHwb(string)) {\r\n      return vals[3];\r\n   }\r\n}\r\n\r\n// generators\r\nfunction hexString(rgb) {\r\n   return \"#\" + hexDouble(rgb[0]) + hexDouble(rgb[1])\r\n              + hexDouble(rgb[2]);\r\n}\r\n\r\nfunction rgbString(rgba, alpha) {\r\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\r\n      return rgbaString(rgba, alpha);\r\n   }\r\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\r\n}\r\n\r\nfunction rgbaString(rgba, alpha) {\r\n   if (alpha === undefined) {\r\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\r\n   }\r\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\r\n           + \", \" + alpha + \")\";\r\n}\r\n\r\nfunction percentString(rgba, alpha) {\r\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\r\n      return percentaString(rgba, alpha);\r\n   }\r\n   var r = Math.round(rgba[0]/255 * 100),\r\n       g = Math.round(rgba[1]/255 * 100),\r\n       b = Math.round(rgba[2]/255 * 100);\r\n\r\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\r\n}\r\n\r\nfunction percentaString(rgba, alpha) {\r\n   var r = Math.round(rgba[0]/255 * 100),\r\n       g = Math.round(rgba[1]/255 * 100),\r\n       b = Math.round(rgba[2]/255 * 100);\r\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\r\n}\r\n\r\nfunction hslString(hsla, alpha) {\r\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\r\n      return hslaString(hsla, alpha);\r\n   }\r\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\r\n}\r\n\r\nfunction hslaString(hsla, alpha) {\r\n   if (alpha === undefined) {\r\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\r\n   }\r\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\r\n           + alpha + \")\";\r\n}\r\n\r\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\r\n// (hwb have alpha optional & 1 is default value)\r\nfunction hwbString(hwb, alpha) {\r\n   if (alpha === undefined) {\r\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\r\n   }\r\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\r\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\r\n}\r\n\r\nfunction keyword(rgb) {\r\n  return reverseNames[rgb.slice(0, 3)];\r\n}\r\n\r\n// helpers\r\nfunction scale(num, min, max) {\r\n   return Math.min(Math.max(min, num), max);\r\n}\r\n\r\nfunction hexDouble(num) {\r\n  var str = num.toString(16).toUpperCase();\r\n  return (str.length < 2) ? \"0\" + str : str;\r\n}\r\n\r\n\r\n//create a list of reverse color names\r\nvar reverseNames = {};\r\nfor (var name in colorNames) {\r\n   reverseNames[colorNames[name]] = name;\r\n}\r\n","export { hooks, setHookCallback };\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n","export default function isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n","export default function isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n","export default function isObjectEmpty(obj) {\n    var k;\n    for (k in obj) {\n        // even if its not own property I'd still call it non-empty\n        return false;\n    }\n    return true;\n}\n","export default function isUndefined(input) {\n    return input === void 0;\n}\n","export default function isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n","export default function isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n","export default function map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n","export default function hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n","import hasOwnProp from './has-own-prop';\n\nexport default function extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n","import { createLocalOrUTC } from './from-anything';\n\nexport function createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n","function defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null,\n        rfc2822         : false,\n        weekdayMismatch : false\n    };\n}\n\nexport default function getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n","import extend from '../utils/extend';\nimport { createUTC } from './utc';\nimport getParsingFlags from '../create/parsing-flags';\nimport some from '../utils/some';\n\nexport function isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nexport function createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n","import { hooks } from '../utils/hooks';\nimport hasOwnProp from '../utils/has-own-prop';\nimport isUndefined from '../utils/is-undefined';\nimport getParsingFlags from '../create/parsing-flags';\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nexport function copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i = 0; i < momentProperties.length; i++) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nexport function Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nexport function isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n","export default function absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n","import absFloor from './abs-floor';\n\nexport default function toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n","import toInt from './to-int';\n\n// compare two arrays, return the number of differences\nexport default function compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n","import extend from './extend';\nimport { hooks } from './hooks';\nimport isUndefined from './is-undefined';\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nexport function deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nexport function deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n","export default function isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n","import isFunction from '../utils/is-function';\nimport extend from '../utils/extend';\nimport isObject from '../utils/is-object';\nimport hasOwnProp from '../utils/has-own-prop';\n\nexport function set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    this._dayOfMonthOrdinalParseLenient = new RegExp(\n        (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n            '|' + (/\\d{1,2}/).source);\n}\n\nexport function mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n","export function Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n","export var defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nimport isFunction from '../utils/is-function';\n\nexport function calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n","export var defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nexport function longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n","export var defaultInvalidDate = 'Invalid date';\n\nexport function invalidDate () {\n    return this._invalidDate;\n}\n","export var defaultOrdinal = '%d';\nexport var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\nexport function ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\n","export var defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    ss : '%d seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nimport isFunction from '../utils/is-function';\n\nexport function relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nexport function pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n","import hasOwnProp from '../utils/has-own-prop';\n\nvar aliases = {};\n\nexport function addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nexport function normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nexport function normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\n","var priorities = {};\n\nexport function addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nexport function getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n","import { normalizeUnits, normalizeObjectUnits } from '../units/aliases';\nimport { getPrioritizedUnits } from '../units/priorities';\nimport { hooks } from '../utils/hooks';\nimport isFunction from '../utils/is-function';\n\n\nexport function makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nexport function get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nexport function set (mom, unit, value) {\n    if (mom.isValid()) {\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n    }\n}\n\n// MOMENTS\n\nexport function stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nexport function stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n","export default function zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n","import zeroFill from '../utils/zero-fill';\nimport isFunction from '../utils/is-function';\n\nexport var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nexport var formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nexport function addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nexport function formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nexport function expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n","export var match1         = /\\d/;            //       0 - 9\nexport var match2         = /\\d\\d/;          //      00 - 99\nexport var match3         = /\\d{3}/;         //     000 - 999\nexport var match4         = /\\d{4}/;         //    0000 - 9999\nexport var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nexport var match1to2      = /\\d\\d?/;         //       0 - 99\nexport var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nexport var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nexport var match1to3      = /\\d{1,3}/;       //       0 - 999\nexport var match1to4      = /\\d{1,4}/;       //       0 - 9999\nexport var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nexport var matchUnsigned  = /\\d+/;           //       0 - inf\nexport var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nexport var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nexport var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nexport var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nexport var matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n\nimport hasOwnProp from '../utils/has-own-prop';\nimport isFunction from '../utils/is-function';\n\nvar regexes = {};\n\nexport function addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nexport function getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nexport function regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n","import hasOwnProp from '../utils/has-own-prop';\nimport isNumber from '../utils/is-number';\nimport toInt from '../utils/to-int';\n\nvar tokens = {};\n\nexport function addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nexport function addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nexport function addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n","import { get } from '../moment/get-set';\nimport hasOwnProp from '../utils/has-own-prop';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2, matchWord, regexEscape } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { hooks } from '../utils/hooks';\nimport { MONTH } from './constants';\nimport toInt from '../utils/to-int';\nimport isArray from '../utils/is-array';\nimport isNumber from '../utils/is-number';\nimport indexOf from '../utils/index-of';\nimport { createUTC } from '../create/utc';\nimport getParsingFlags from '../create/parsing-flags';\n\nexport function daysInMonth(year, month) {\n    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nexport var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nexport function localeMonths (m, format) {\n    if (!m) {\n        return isArray(this._months) ? this._months :\n            this._months['standalone'];\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nexport var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nexport function localeMonthsShort (m, format) {\n    if (!m) {\n        return isArray(this._monthsShort) ? this._monthsShort :\n            this._monthsShort['standalone'];\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nexport function localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nexport function setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nexport function getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nexport function getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nexport function monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nexport function monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match1to4, match1to6, match2, match4, match6, matchSigned } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { hooks } from '../utils/hooks';\nimport { YEAR } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nexport function daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nfunction isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nexport var getSetYear = makeGetSet('FullYear', true);\n\nexport function getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n","export function createDate (y, m, d, h, M, s, ms) {\n    // can't just apply() to create a date:\n    // https://stackoverflow.com/q/181348\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    // the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nexport function createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    // the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n","import { daysInYear } from './year';\nimport { createLocal } from '../create/local';\nimport { createUTCDate } from '../create/date-from-array';\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nexport function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nexport function weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nexport function weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addWeekParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\nimport { createLocal } from '../create/local';\nimport { weekOfYear } from './week-calendar-utils';\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nexport function localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nexport var defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nexport function localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nexport function localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nexport function getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nexport function getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, matchWord, regexEscape } from '../parse/regex';\nimport { addWeekParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\nimport isArray from '../utils/is-array';\nimport indexOf from '../utils/index-of';\nimport hasOwnProp from '../utils/has-own-prop';\nimport { createUTC } from '../create/utc';\nimport getParsingFlags from '../create/parsing-flags';\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nexport var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nexport function localeWeekdays (m, format) {\n    if (!m) {\n        return isArray(this._weekdays) ? this._weekdays :\n            this._weekdays['standalone'];\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nexport var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nexport function localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nexport var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nexport function localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nexport function localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nexport function getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nexport function getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nexport function getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nexport function weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nexport function weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nexport function weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2, match3to4, match5to6 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { HOUR, MINUTE, SECOND } from './constants';\nimport toInt from '../utils/to-int';\nimport zeroFill from '../utils/zero-fill';\nimport getParsingFlags from '../create/parsing-flags';\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('k',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\naddRegexToken('kk', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['k', 'kk'], function (input, array, config) {\n    var kInput = toInt(input);\n    array[HOUR] = kInput === 24 ? 0 : kInput;\n});\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nexport function localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nexport var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nexport function localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nexport var getSetHour = makeGetSet('Hours', true);\n","import isArray from '../utils/is-array';\nimport hasOwnProp from '../utils/has-own-prop';\nimport isUndefined from '../utils/is-undefined';\nimport compareArrays from '../utils/compare-arrays';\nimport { deprecateSimple } from '../utils/deprecate';\nimport { mergeConfigs } from './set';\nimport { Locale } from './constructor';\nimport keys from '../utils/keys';\n\nimport { baseConfig } from './base-config';\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            require('./locale/' + name);\n            // because defineLocale currently also sets the global locale, we\n            // want to undo that for lazy loaded locales\n            getSetGlobalLocale(oldLocale);\n        } catch (e) { }\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nexport function getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nexport function defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nexport function updateLocale(name, config) {\n    if (config != null) {\n        var locale, parentConfig = baseConfig;\n        // MERGE\n        if (locales[name] != null) {\n            parentConfig = locales[name]._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nexport function getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nexport function listLocales() {\n    return keys(locales);\n}\n","import { daysInMonth } from '../units/month';\nimport { YEAR, MONTH, DATE, HOUR, MINUTE, SECOND, MILLISECOND, WEEK, WEEKDAY } from '../units/constants';\nimport getParsingFlags from '../create/parsing-flags';\n\nexport default function checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n","import { configFromStringAndFormat } from './from-string-and-format';\nimport { hooks } from '../utils/hooks';\nimport { deprecate } from '../utils/deprecate';\nimport getParsingFlags from './parsing-flags';\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nexport function configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\nvar basicRfcRegex = /^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d?\\d\\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(?:\\d\\d)?\\d\\d\\s)(\\d\\d:\\d\\d)(\\:\\d\\d)?(\\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\\d{4}))$/;\n\n// date and time from ref 2822 format\nexport function configFromRFC2822(config) {\n    var string, match, dayFormat,\n        dateFormat, timeFormat, tzFormat;\n    var timezones = {\n        ' GMT': ' +0000',\n        ' EDT': ' -0400',\n        ' EST': ' -0500',\n        ' CDT': ' -0500',\n        ' CST': ' -0600',\n        ' MDT': ' -0600',\n        ' MST': ' -0700',\n        ' PDT': ' -0700',\n        ' PST': ' -0800'\n    };\n    var military = 'YXWVUTSRQPONZABCDEFGHIKLM';\n    var timezone, timezoneIndex;\n\n    string = config._i\n        .replace(/\\([^\\)]*\\)|[\\n\\t]/g, ' ') // Remove comments and folding whitespace\n        .replace(/(\\s\\s+)/g, ' ') // Replace multiple-spaces with a single space\n        .replace(/^\\s|\\s$/g, ''); // Remove leading and trailing spaces\n    match = basicRfcRegex.exec(string);\n\n    if (match) {\n        dayFormat = match[1] ? 'ddd' + ((match[1].length === 5) ? ', ' : ' ') : '';\n        dateFormat = 'D MMM ' + ((match[2].length > 10) ? 'YYYY ' : 'YY ');\n        timeFormat = 'HH:mm' + (match[4] ? ':ss' : '');\n\n        // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n        if (match[1]) { // day of week given\n            var momentDate = new Date(match[2]);\n            var momentDay = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][momentDate.getDay()];\n\n            if (match[1].substr(0,3) !== momentDay) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return;\n            }\n        }\n\n        switch (match[5].length) {\n            case 2: // military\n                if (timezoneIndex === 0) {\n                    timezone = ' +0000';\n                } else {\n                    timezoneIndex = military.indexOf(match[5][1].toUpperCase()) - 12;\n                    timezone = ((timezoneIndex < 0) ? ' -' : ' +') +\n                        (('' + timezoneIndex).replace(/^-?/, '0')).match(/..$/)[0] + '00';\n                }\n                break;\n            case 4: // Zone\n                timezone = timezones[match[5]];\n                break;\n            default: // UT or +/-9999\n                timezone = timezones[' GMT'];\n        }\n        match[5] = timezone;\n        config._i = match.splice(1).join('');\n        tzFormat = ' ZZ';\n        config._f = dayFormat + dateFormat + timeFormat + tzFormat;\n        configFromStringAndFormat(config);\n        getParsingFlags(config).rfc2822 = true;\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nexport function configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    configFromRFC2822(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    // Final attempt, use Input Fallback\n    hooks.createFromInputFallback(config);\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n","// Pick the first defined of two or three arguments.\nexport default function defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n","import { hooks } from '../utils/hooks';\nimport { createDate, createUTCDate } from './date-from-array';\nimport { daysInYear } from '../units/year';\nimport { weekOfYear, weeksInYear, dayOfYearFromWeeks } from '../units/week-calendar-utils';\nimport { YEAR, MONTH, DATE, HOUR, MINUTE, SECOND, MILLISECOND } from '../units/constants';\nimport { createLocal } from './local';\nimport defaults from '../utils/defaults';\nimport getParsingFlags from './parsing-flags';\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nexport function configFromArray (config) {\n    var i, date, input = [], currentDate, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear != null) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n","import { configFromISO, configFromRFC2822 } from './from-string';\nimport { configFromArray } from './from-array';\nimport { getParseRegexForToken }   from '../parse/regex';\nimport { addTimeToArrayFromToken } from '../parse/token';\nimport { expandFormat, formatTokenFunctions, formattingTokens } from '../format/format';\nimport checkOverflow from './check-overflow';\nimport { HOUR } from '../units/constants';\nimport { hooks } from '../utils/hooks';\nimport getParsingFlags from './parsing-flags';\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// constant that refers to the RFC 2822 form\nhooks.RFC_2822 = function () {};\n\n// date from string and format string\nexport function configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n    if (config._f === hooks.RFC_2822) {\n        configFromRFC2822(config);\n        return;\n    }\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n","import { copyConfig } from '../moment/constructor';\nimport { configFromStringAndFormat } from './from-string-and-format';\nimport getParsingFlags from './parsing-flags';\nimport { isValid } from './valid';\nimport extend from '../utils/extend';\n\n// date from string and array of format strings\nexport function configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n","import { normalizeObjectUnits } from '../units/aliases';\nimport { configFromArray } from './from-array';\nimport map from '../utils/map';\n\nexport function configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n","import isArray from '../utils/is-array';\nimport isObject from '../utils/is-object';\nimport isObjectEmpty from '../utils/is-object-empty';\nimport isUndefined from '../utils/is-undefined';\nimport isNumber from '../utils/is-number';\nimport isDate from '../utils/is-date';\nimport map from '../utils/map';\nimport { createInvalid } from './valid';\nimport { Moment, isMoment } from '../moment/constructor';\nimport { getLocale } from '../locale/locales';\nimport { hooks } from '../utils/hooks';\nimport checkOverflow from './check-overflow';\nimport { isValid } from './valid';\n\nimport { configFromStringAndArray }  from './from-string-and-array';\nimport { configFromStringAndFormat } from './from-string-and-format';\nimport { configFromString }          from './from-string';\nimport { configFromArray }           from './from-array';\nimport { configFromObject }          from './from-object';\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nexport function prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (isUndefined(input)) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (isObject(input)) {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nexport function createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n","import { createLocalOrUTC } from './from-anything';\n\nexport function createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n","import { deprecate } from '../utils/deprecate';\nimport isArray from '../utils/is-array';\nimport { createLocal } from '../create/local';\nimport { createInvalid } from '../create/valid';\n\nexport var prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nexport var prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nexport function min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nexport function max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n","import toInt from '../utils/to-int';\nimport {Duration} from './constructor';\nimport {createDuration} from './create';\n\nvar ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\nexport default function isDurationValid(m) {\n    for (var key in m) {\n        if (!(ordering.indexOf(key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n            return false;\n        }\n    }\n\n    var unitHasDecimal = false;\n    for (var i = 0; i < ordering.length; ++i) {\n        if (m[ordering[i]]) {\n            if (unitHasDecimal) {\n                return false; // only allow non-integers for smallest unit\n            }\n            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                unitHasDecimal = true;\n            }\n        }\n    }\n\n    return true;\n}\n\nexport function isValid() {\n    return this._isValid;\n}\n\nexport function createInvalid() {\n    return createDuration(NaN);\n}\n","import { normalizeObjectUnits } from '../units/aliases';\nimport { getLocale } from '../locale/locales';\nimport isDurationValid from './valid.js';\n\nexport function Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    this._isValid = isDurationValid(normalizedInput);\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nexport function isDuration (obj) {\n    return obj instanceof Duration;\n}\n","export default function absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n","import zeroFill from '../utils/zero-fill';\nimport { createDuration } from '../duration/create';\nimport { addSubtract } from '../moment/add-subtract';\nimport { isMoment, copyConfig } from '../moment/constructor';\nimport { addFormatToken } from '../format/format';\nimport { addRegexToken, matchOffset, matchShortOffset } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { createLocal } from '../create/local';\nimport { prepareConfig } from '../create/from-anything';\nimport { createUTC } from '../create/utc';\nimport isDate from '../utils/is-date';\nimport toInt from '../utils/to-int';\nimport isUndefined from '../utils/is-undefined';\nimport compareArrays from '../utils/compare-arrays';\nimport { hooks } from '../utils/hooks';\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nexport function cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nexport function getSetOffset (input, keepLocalTime, keepMinutes) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16 && !keepMinutes) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nexport function getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nexport function setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nexport function setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nexport function setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm, false, true);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nexport function hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nexport function isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nexport function isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nexport function isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nexport function isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nexport function isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n","import { Duration, isDuration } from './constructor';\nimport isNumber from '../utils/is-number';\nimport toInt from '../utils/to-int';\nimport absRound from '../utils/abs-round';\nimport hasOwnProp from '../utils/has-own-prop';\nimport { DATE, HOUR, MINUTE, SECOND, MILLISECOND } from '../units/constants';\nimport { cloneWithOffset } from '../units/offset';\nimport { createLocal } from '../create/local';\nimport { createInvalid as invalid } from './valid';\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;\n\nexport function createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = invalid;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n","import { get, set } from './get-set';\nimport { setMonth } from '../units/month';\nimport { createDuration } from '../duration/create';\nimport { deprecateSimple } from '../utils/deprecate';\nimport { hooks } from '../utils/hooks';\nimport absRound from '../utils/abs-round';\n\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nexport function addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (days) {\n        set(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nexport var add      = createAdder(1, 'add');\nexport var subtract = createAdder(-1, 'subtract');\n\n","import { createLocal } from '../create/local';\nimport { cloneWithOffset } from '../units/offset';\nimport isFunction from '../utils/is-function';\nimport { hooks } from '../utils/hooks';\n\nexport function getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nexport function calendar (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n","import { Moment } from './constructor';\n\nexport function clone () {\n    return new Moment(this);\n}\n","import { isMoment } from './constructor';\nimport { normalizeUnits } from '../units/aliases';\nimport { createLocal } from '../create/local';\nimport isUndefined from '../utils/is-undefined';\n\nexport function isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nexport function isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nexport function isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nexport function isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nexport function isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nexport function isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n","import absFloor from '../utils/abs-floor';\nimport { cloneWithOffset } from '../units/offset';\nimport { normalizeUnits } from '../units/aliases';\n\nexport function diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    if (units === 'year' || units === 'month' || units === 'quarter') {\n        output = monthDiff(this, that);\n        if (units === 'quarter') {\n            output = output / 3;\n        } else if (units === 'year') {\n            output = output / 12;\n        }\n    } else {\n        delta = this - that;\n        output = units === 'second' ? delta / 1e3 : // 1000\n            units === 'minute' ? delta / 6e4 : // 1000 * 60\n            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n            delta;\n    }\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n","import { formatMoment } from '../format/format';\nimport { hooks } from '../utils/hooks';\nimport isFunction from '../utils/is-function';\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nexport function toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nexport function toISOString() {\n    if (!this.isValid()) {\n        return null;\n    }\n    var m = this.clone().utc();\n    if (m.year() < 0 || m.year() > 9999) {\n        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n    }\n    if (isFunction(Date.prototype.toISOString)) {\n        // native implementation is ~50x faster, use it when we can\n        return this.toDate().toISOString();\n    }\n    return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nexport function inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nexport function format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n","import { createDuration } from '../duration/create';\nimport { createLocal } from '../create/local';\nimport { isMoment } from '../moment/constructor';\n\nexport function from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nexport function fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n","import { createDuration } from '../duration/create';\nimport { createLocal } from '../create/local';\nimport { isMoment } from '../moment/constructor';\n\nexport function to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nexport function toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n","import { getLocale } from '../locale/locales';\nimport { deprecate } from '../utils/deprecate';\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nexport function locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nexport var lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nexport function localeData () {\n    return this._locale;\n}\n","import { normalizeUnits } from '../units/aliases';\n\nexport function startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nexport function endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n","export function valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nexport function unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nexport function toDate () {\n    return new Date(this.valueOf());\n}\n\nexport function toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nexport function toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nexport function toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n","import { isValid as _isValid } from '../create/valid';\nimport extend from '../utils/extend';\nimport getParsingFlags from '../create/parsing-flags';\n\nexport function isValid () {\n    return _isValid(this);\n}\n\nexport function parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nexport function invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n","export function creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match1to4, match1to6, match2, match4, match6, matchSigned } from '../parse/regex';\nimport { addWeekParseToken } from '../parse/token';\nimport { weekOfYear, weeksInYear, dayOfYearFromWeeks } from './week-calendar-utils';\nimport toInt from '../utils/to-int';\nimport { hooks } from '../utils/hooks';\nimport { createLocal } from '../create/local';\nimport { createUTCDate } from '../create/date-from-array';\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nexport function getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nexport function getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nexport function getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nexport function getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { MONTH } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nexport function getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match3, match1to3 } from '../parse/regex';\nimport { daysInYear } from './year';\nimport { createUTCDate } from '../create/date-from-array';\nimport { addParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nexport function getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1, match2, match3, match1to3, matchUnsigned } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { MILLISECOND } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nexport var getSetMillisecond = makeGetSet('Milliseconds', false);\n","import { addFormatToken } from '../format/format';\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nexport function getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nexport function getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n","import { createLocal } from '../create/local';\nimport { createUTC } from '../create/utc';\nimport { createInvalid } from '../create/valid';\nimport { isMoment } from './constructor';\nimport { min, max } from './min-max';\nimport { now } from './now';\nimport momentPrototype from './prototype';\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nexport {\n    now,\n    min,\n    max,\n    isMoment,\n    createUTC,\n    createUnix,\n    createLocal,\n    createInZone,\n    createInvalid,\n    momentPrototype\n};\n","export function preParsePostFormat (string) {\n    return string;\n}\n","import isNumber from '../utils/is-number';\nimport { getLocale } from './locales';\nimport { createUTC } from '../create/utc';\n\nfunction get (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nexport function listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nexport function listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nexport function listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nexport function listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nexport function listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n","var mathAbs = Math.abs;\n\nexport function abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n","import { createDuration } from './create';\n\nfunction addSubtract (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nexport function add (input, value) {\n    return addSubtract(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nexport function subtract (input, value) {\n    return addSubtract(this, input, value, -1);\n}\n","export default function absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n","import absFloor from '../utils/abs-floor';\nimport absCeil from '../utils/abs-ceil';\nimport { createUTCDate } from '../create/date-from-array';\n\nexport function bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nexport function daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nexport function monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n","import { daysToMonths, monthsToDays } from './bubble';\nimport { normalizeUnits } from '../units/aliases';\nimport toInt from '../utils/to-int';\n\nexport function as (units) {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nexport function valueOf () {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nexport var asMilliseconds = makeAs('ms');\nexport var asSeconds      = makeAs('s');\nexport var asMinutes      = makeAs('m');\nexport var asHours        = makeAs('h');\nexport var asDays         = makeAs('d');\nexport var asWeeks        = makeAs('w');\nexport var asMonths       = makeAs('M');\nexport var asYears        = makeAs('y');\n","import { normalizeUnits } from '../units/aliases';\nimport absFloor from '../utils/abs-floor';\n\nexport function get (units) {\n    units = normalizeUnits(units);\n    return this.isValid() ? this[units + 's']() : NaN;\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this.isValid() ? this._data[name] : NaN;\n    };\n}\n\nexport var milliseconds = makeGetter('milliseconds');\nexport var seconds      = makeGetter('seconds');\nexport var minutes      = makeGetter('minutes');\nexport var hours        = makeGetter('hours');\nexport var days         = makeGetter('days');\nexport var months       = makeGetter('months');\nexport var years        = makeGetter('years');\n\nexport function weeks () {\n    return absFloor(this.days() / 7);\n}\n","import { createDuration } from './create';\n\nvar round = Math.round;\nvar thresholds = {\n    ss: 44,         // a few seconds to seconds\n    s : 45,         // seconds to minute\n    m : 45,         // minutes to hour\n    h : 22,         // hours to day\n    d : 26,         // days to month\n    M : 11          // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds <= thresholds.ss && ['s', seconds]  ||\n            seconds < thresholds.s   && ['ss', seconds] ||\n            minutes <= 1             && ['m']           ||\n            minutes < thresholds.m   && ['mm', minutes] ||\n            hours   <= 1             && ['h']           ||\n            hours   < thresholds.h   && ['hh', hours]   ||\n            days    <= 1             && ['d']           ||\n            days    < thresholds.d   && ['dd', days]    ||\n            months  <= 1             && ['M']           ||\n            months  < thresholds.M   && ['MM', months]  ||\n            years   <= 1             && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nexport function getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nexport function getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nexport function humanize (withSuffix) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var locale = this.localeData();\n    var output = relativeTime(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n","import absFloor from '../utils/abs-floor';\nvar abs = Math.abs;\n\nexport function toISOString() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var seconds = abs(this._milliseconds) / 1000;\n    var days         = abs(this._days);\n    var months       = abs(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds;\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    return (total < 0 ? '-' : '') +\n        'P' +\n        (Y ? Y + 'Y' : '') +\n        (M ? M + 'M' : '') +\n        (D ? D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? h + 'H' : '') +\n        (m ? m + 'M' : '') +\n        (s ? s + 'S' : '');\n}\n",";(function() {\n\"use strict\"\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, _state: undefined, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, attrs, children) {\n\tvar hasAttrs = false, childList, text\n\tvar className = attrs.className || attrs.class\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className !== undefined) {\n\t\tif (attrs.class !== undefined) {\n\t\t\tattrs.class = undefined\n\t\t\tattrs.className = className\n\t\t}\n\t\tif (state.attrs.className != null) {\n\t\t\tattrs.className = state.attrs.className + \" \" + className\n\t\t}\n\t}\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\thasAttrs = true\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\ttext = children[0].children\n\t} else {\n\t\tchildList = children\n\t}\n\treturn Vnode(state.tag, attrs.key, hasAttrs ? attrs : undefined, childList, text)\n}\nfunction hyperscript(selector) {\n\t// Because sloppy mode sucks\n\tvar attrs = arguments[1], start = 2, children\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tif (typeof selector === \"string\") {\n\t\tvar cached = selectorCache[selector] || compileSelector(selector)\n\t}\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = 1\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\tvar normalized = Vnode.normalizeChildren(children)\n\tif (typeof selector === \"string\") {\n\t\treturn execSelector(cached, attrs, normalized)\n\t} else {\n\t\treturn Vnode(selector, attrs.key, attrs, normalized)\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode(\"[\", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar FILE_PROTOCOL_REGEX = new RegExp(\"^file://\", \"i\")\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === \"function\") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === \"string\") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = \"GET\"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = (args.method === \"GET\" || args.method === \"TRACE\") ? false : (typeof args.useBody === \"boolean\" ? args.useBody : true)\n\t\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== \"function\") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || FILE_PROTOCOL_REGEX.test(args.url)) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || \"callback\"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== \"\") {\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === \"function\") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase \"<\": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase \"[\": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match1[1]] || \"div\"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tswitch (vnode.tag) {\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\n\t\t}\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tvnode._state = vnode.state\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tinitLifecycle(vnode._state, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, undefined)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) {\n\t\t\t\tvar pool = old.pool\n\t\t\t\told = old.concat(old.pool)\n\t\t\t}\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldStart >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldIndex >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, undefined, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode._state = old._state\n\t\t\tvnode.events = old.events\n\t\t\tif (!recycling && shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tif (recycling) {\n\t\t\t\t\t\tvnode.state = {}\n\t\t\t\t\t\tinitLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t\t}\n\t\t\t\t\telse updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tswitch (vnode.tag) {\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\n\t\t}\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tif (recycling) {\n\t\t\tinitComponent(vnode, hooks)\n\t\t} else {\n\t\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tupdateLifecycle(vnode._state, vnode, hooks)\n\t\t}\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode.attrs.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode._state.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") vnode.attrs.onremove.call(vnode.state, vnode)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onremove === \"function\") vnode._state.onremove.call(vnode.state, vnode)\n\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\telse {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tvar element = vnode.dom\n\t\tif (key2 === \"key\" || key2 === \"is\" || (old === value && !isFormAttribute(vnode, key2)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key2)) return\n\t\tvar nsLastIndex = key2.indexOf(\":\")\n\t\tif (nsLastIndex > -1 && key2.substr(0, nsLastIndex) === \"xlink\") {\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key2.slice(nsLastIndex + 1), value)\n\t\t}\n\t\telse if (key2[0] === \"o\" && key2[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key2, value)\n\t\telse if (key2 === \"style\") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\tif (vnode.tag === \"input\" && key2 === \"value\" && vnode.dom.value == value && vnode.dom === $doc.activeElement) return\n\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\tif (vnode.tag === \"select\" && key2 === \"value\" && vnode.dom.value == value && vnode.dom === $doc.activeElement) return\n\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\tif (vnode.tag === \"option\" && key2 === \"value\" && vnode.dom.value == value) return\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error0 will occur.\n\t\t\tif (vnode.tag === \"input\" && key2 === \"type\") {\n\t\t\t\telement.setAttribute(key2, value)\n\t\t\t\treturn\n\t\t\t}\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) element.setAttribute(key2, \"\")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === \"className\" ? \"class\" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === \"select\" && attrs2 != null) {\n\t\t\tif (\"value\" in attrs2) setAttr(vnode, \"value\", null, attrs2.value, undefined)\n\t\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === \"className\") key2 = \"class\"\n\t\t\t\t\tif (key2[0] === \"o\" && key2[1] === \"n\" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== \"key\") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf(\"-\") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) element.style.cssText = \"\", old = null\n\t\tif (style == null) element.style.cssText = \"\"\n\t\telse if (typeof style === \"string\") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t\tif (old != null && typeof old !== \"string\") {\n\t\t\t\tfor (var key2 in old) {\n\t\t\t\t\tif (!(key2 in style)) element.style[key2] = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tvar element = vnode.dom\n\t\tvar callback = typeof onevent !== \"function\" ? value : function(e) {\n\t\t\tvar result = value.call(element, e)\n\t\t\tonevent.call(element, e)\n\t\t\treturn result\n\t\t}\n\t\tif (key2 in element) element[key2] = typeof value === \"function\" ? callback : null\n\t\telse {\n\t\t\tvar eventName = key2.slice(2)\n\t\t\tif (vnode.events === undefined) vnode.events = {}\n\t\t\tif (vnode.events[key2] === callback) return\n\t\t\tif (vnode.events[key2] != null) element.removeEventListener(eventName, vnode.events[key2], false)\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvnode.events[key2] = callback\n\t\t\t\telement.addEventListener(eventName, vnode.events[key2], false)\n\t\t\t}\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeupdate === \"function\") forceComponentUpdate = vnode._state.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\t// First time0 rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, undefined)\n\t\tdom.vnodes = vnodes\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t\tif ($doc.activeElement !== active) active.focus()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar time = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar now = Date.now()\n\t\tif (last === 0 || now - last >= time) {\n\t\t\tlast = now\n\t\t\tcallback()\n\t\t}\n\t\telse if (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, time - (now - last))\n\t\t}\n\t}\n}\nvar _11 = function($window) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw !== false) redraw()\n\t})\n\tvar callbacks = []\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, throttle(callback))\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction redraw() {\n\t\tfor (var i = 1; i < callbacks.length; i += 2) {\n\t\t\tcallbacks[i]()\n\t\t}\n\t}\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\tredrawService0.redraw()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback0) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback0()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize1(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize1(\"search\").slice(router.prefix.length) + normalize1(\"hash\")\n\t\t\tdefault: return normalize1(\"pathname\").slice(router.prefix.length) + normalize1(\"search\") + normalize1(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tvar run1 = function() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\trun1()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t\tredrawService0.subscribe(root, run1)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) options = {replace: true}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\troute.link = function(vnode1) {\n\t\tvnode1.dom.setAttribute(\"href\", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, undefined)\n\t\t}\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key3 !== \"undefined\") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback1, context) {\n\treturn function(e) {\n\t\tcallback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"1.1.1\"\nm.vnode = Vnode\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}());","'use strict';\n\nexport const chartColors = {\n  red: 'rgb(255, 99, 132)',\n  orange: 'rgb(255, 159, 64)',\n  yellow: 'rgb(255, 205, 86)',\n  green: 'rgb(75, 192, 192)',\n  blue: 'rgb(54, 162, 235)',\n  purple: 'rgb(153, 102, 255)',\n  grey: 'rgb(201, 203, 207)'\n};\n\nexport const randomScalingFactor = () => Math.round(Math.random() * 100);\n\nexport const reloadData = model => {\n  model.loaded = false;\n  model.getData();\n};\n\nexport const randomizeData = model => {\n  model.config.data.datasets.forEach(dataset => {\n    dataset.data = dataset.data.map(() => randomScalingFactor());\n  });\n  model.instance.update();\n}\n","'use strict';\n\nimport m from 'mithril';\nimport { chartColors } from '../utils';\n\nexport default {\n  loaded: false,\n  instance: undefined,\n  config: {\n    type: 'horizontalBar',\n    data: {\n      labels: [],\n      datasets: [{\n        label: 'Rooms',\n        data: [],\n        backgroundColor: [\n          chartColors.green,\n          chartColors.blue,\n          chartColors.purple,\n          chartColors.red\n        ]\n      }]\n    },\n    options: {\n      responsive: true,\n      title: {\n        display: true,\n        text: 'Rooms By Building'\n      },\n      scales: {\n        xAxes: [{\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      }\n    }\n  },\n  getData() {\n    if (!this.loaded) {\n      m.request({\n        method: 'GET',\n        url: '../data/bar.json',\n      })\n      .then(items => {\n        this.config.data.labels = items.labels;\n        this.config.data.datasets[0].data = items.rooms;\n        this.loaded = true;\n      });\n    }\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\nimport { chartColors } from '../utils';\n\nexport default {\n  loaded: false,\n  instance: undefined,\n  config: {\n    type: 'horizontalBar',\n    data: {\n      labels: [\n        'CoRe',\n        'Hill Center',\n        'C8IM Module Bldg',\n        'Loree Classroom-Office',\n      ],\n      datasets: [{\n        label: 'Rooms',\n        data: [\n          177,\n          42,\n          93,\n          23\n        ],\n        backgroundColor: [\n          chartColors.green,\n          chartColors.blue,\n          chartColors.purple,\n          chartColors.red\n        ]\n      }]\n    },\n    options: {\n      responsive: true,\n      title: {\n        display: true,\n        text: 'Rooms By Building'\n      },\n      scales: {\n        xAxes: [{\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      }\n    }\n  },\n  getData() {\n    const self = this;\n    setTimeout(function() {\n      m.request({\n        method: 'GET',\n        url: '../data/bar2.json',\n      })\n      .then(items => {\n        self.config.data.labels = items.labels;\n        self.config.data.datasets[0].data = items.rooms;\n        self.loaded = true;\n      });\n    }, 5000);\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\nimport { chartColors } from '../utils';\n\nexport default {\n  loaded: false,\n  config: {\n    type: 'line',\n    data: {\n      labels: [],\n      datasets: [{\n        label: 'Majors',\n        backgroundColor: chartColors.red,\n        borderColor: chartColors.red,\n        data: [],\n        fill: false,\n      }, {\n        label: 'Minors',\n        fill: false,\n        backgroundColor: chartColors.blue,\n        borderColor: chartColors.blue,\n        data: [],\n      }]\n    },\n    options: {\n      responsive: true,\n      title: {\n        display: true,\n        text: 'Declared Majors and Minors'\n      },\n      tooltips: {\n        mode: 'point',\n        intersect: false,\n      },\n      hover: {\n        mode: 'point',\n        intersect: false\n      },\n      scales: {\n        xAxes: [{\n          display: true,\n          scaleLabel: {\n            display: true,\n            labelString: 'Semester'\n          }\n        }],\n        yAxes: [{\n          display: true,\n          scaleLabel: {\n            display: true,\n            labelString: 'Declared'\n          }\n        }]\n      }\n    }\n  },\n  getData() {\n    m.request({\n      method: 'GET',\n      url: '../data/line.json',\n    })\n    .then(items => {\n      this.config.data.labels = items.labels;\n      this.config.data.datasets[0].data = items.majors;\n      this.config.data.datasets[1].data = items.minors;\n      this.loaded = true;\n    });\n  },\n  randomizeData() {\n    this.config.data.datasets.forEach(dataset => {\n      dataset.data = dataset.data.map(() => randomScalingFactor());\n    });\n    this.instance.update();\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\nimport { chartColors } from '../utils';\n\nexport default {\n  loaded: false,\n  instance: undefined,\n  config: {\n    type: 'doughnut',\n    data: {\n      labels: [],\n      datasets: [{\n        label: 'Dataset 1',\n        data: [],\n        backgroundColor: [\n          chartColors.red,\n          chartColors.orange,\n          chartColors.yellow,\n          chartColors.green,\n          chartColors.blue,\n          chartColors.gray\n        ]\n      }]\n    },\n    options: {\n      responsive: true,\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: true,\n        text: 'Employees'\n      },\n      animation: {\n        animateScale: true,\n        animateRotate: true\n      }\n    }\n  },\n  getData() {\n    m.request({\n      method: 'GET',\n      url: '../data/doughnut.json',\n    })\n    .then(items => {\n      this.config.data.labels = items.labels;\n      this.config.data.datasets[0].data = items.employees;\n      this.loaded = true;\n    });\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\n\nconst links = [\n  { href: '/', title: 'All Charts' },\n  { href: '/bar', title: 'Bar Chart' },\n  { href: '/line', title: 'Line Chart' },\n  { href: '/doughnut', title: 'Doughnut Chart' },\n];\n\nconst layout = {\n  view(vnode) {\n    return [\n      m(`nav.nav.has-shadow`, [\n        m('.nav-left', [\n          m('a.nav-item[href=\"/\"]', {\n            oncreate: m.route.link\n          }, 'Mithril + Charts.js')\n        ]),\n        m('span.nav-toggle', [\n          m('span', ''),\n          m('span', ''),\n          m('span', '')\n        ]),\n        m('.nav-right.nav-menu', [\n          links.map(link => {\n            return m(`a.nav-item.is-tab[href=${link.href}]`, {\n              class: m.route.get() === link.href ? 'is-active' : '',\n              oncreate: m.route.link\n            }, link.title);\n          })\n        ])\n      ]),\n      m(`section.section`, [\n        m(`.container`, vnode.children)\n      ])\n    ];\n  }\n};\n\nexport default function(view) {\n  return {\n    render: () => m(layout, m(view))\n  };\n}\n","'use strict';\n\nmodule.exports = function() {\n\n\t// Occupy the global variable of Chart, and create a simple base class\n\tvar Chart = function(item, config) {\n\t\tthis.construct(item, config);\n\t\treturn this;\n\t};\n\n\t// Globally expose the defaults to allow for user updating/changing\n\tChart.defaults = {\n\t\tglobal: {\n\t\t\tresponsive: true,\n\t\t\tresponsiveAnimationDuration: 0,\n\t\t\tmaintainAspectRatio: true,\n\t\t\tevents: ['mousemove', 'mouseout', 'click', 'touchstart', 'touchmove'],\n\t\t\thover: {\n\t\t\t\tonHover: null,\n\t\t\t\tmode: 'nearest',\n\t\t\t\tintersect: true,\n\t\t\t\tanimationDuration: 400\n\t\t\t},\n\t\t\tonClick: null,\n\t\t\tdefaultColor: 'rgba(0,0,0,0.1)',\n\t\t\tdefaultFontColor: '#666',\n\t\t\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\t\t\tdefaultFontSize: 12,\n\t\t\tdefaultFontStyle: 'normal',\n\t\t\tshowLines: true,\n\n\t\t\t// Element defaults defined in element extensions\n\t\t\telements: {},\n\n\t\t\t// Legend callback string\n\t\t\tlegendCallback: function(chart) {\n\t\t\t\tvar text = [];\n\t\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\t\t\t\tfor (var i = 0; i < chart.data.datasets.length; i++) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + chart.data.datasets[i].backgroundColor + '\"></span>');\n\t\t\t\t\tif (chart.data.datasets[i].label) {\n\t\t\t\t\t\ttext.push(chart.data.datasets[i].label);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t\ttext.push('</ul>');\n\n\t\t\t\treturn text.join('');\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.Chart = Chart;\n\n\treturn Chart;\n};\n","var conversions = require(\"./conversions\");\n\nvar convert = function() {\n   return new Converter();\n}\n\nfor (var func in conversions) {\n  // export Raw versions\n  convert[func + \"Raw\"] =  (function(func) {\n    // accept array or plain args\n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      return conversions[func](arg);\n    }\n  })(func);\n\n  var pair = /(\\w+)2(\\w+)/.exec(func),\n      from = pair[1],\n      to = pair[2];\n\n  // export rgb2hsl and [\"rgb\"][\"hsl\"]\n  convert[from] = convert[from] || {};\n\n  convert[from][to] = convert[func] = (function(func) { \n    return function(arg) {\n      if (typeof arg == \"number\")\n        arg = Array.prototype.slice.call(arguments);\n      \n      var val = conversions[func](arg);\n      if (typeof val == \"string\" || val === undefined)\n        return val; // keyword\n\n      for (var i = 0; i < val.length; i++)\n        val[i] = Math.round(val[i]);\n      return val;\n    }\n  })(func);\n}\n\n\n/* Converter does lazy conversion and caching */\nvar Converter = function() {\n   this.convs = {};\n};\n\n/* Either get the values for a space or\n  set the values for a space, depending on args */\nConverter.prototype.routeSpace = function(space, args) {\n   var values = args[0];\n   if (values === undefined) {\n      // color.rgb()\n      return this.getValues(space);\n   }\n   // color.rgb(10, 10, 10)\n   if (typeof values == \"number\") {\n      values = Array.prototype.slice.call(args);        \n   }\n\n   return this.setValues(space, values);\n};\n  \n/* Set the values for a space, invalidating cache */\nConverter.prototype.setValues = function(space, values) {\n   this.space = space;\n   this.convs = {};\n   this.convs[space] = values;\n   return this;\n};\n\n/* Get the values for a space. If there's already\n  a conversion for the space, fetch it, otherwise\n  compute it */\nConverter.prototype.getValues = function(space) {\n   var vals = this.convs[space];\n   if (!vals) {\n      var fspace = this.space,\n          from = this.convs[fspace];\n      vals = convert[fspace][space](from);\n\n      this.convs[space] = vals;\n   }\n  return vals;\n};\n\n[\"rgb\", \"hsl\", \"hsv\", \"cmyk\", \"keyword\"].forEach(function(space) {\n   Converter.prototype[space] = function(vals) {\n      return this.routeSpace(space, arguments);\n   }\n});\n\nmodule.exports = convert;","module.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};","/* MIT license */\nvar convert = require('color-convert');\nvar string = require('chartjs-color-string');\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.valid = false;\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = string.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = string.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = string.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\tisValid: function () {\n\t\treturn this.valid;\n\t},\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn string.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn string.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn string.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn string.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn string.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn string.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn string.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn string.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tthis.valid = true;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = convert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nmodule.exports = Color;\n","/* global window: false */\n/* global document: false */\n'use strict';\n\nvar color = require('chartjs-color');\n\nmodule.exports = function(Chart) {\n\t// Global Chart helpers object for utility methods and classes\n\tvar helpers = Chart.helpers = {};\n\n\t// -- Basic js utility methods\n\thelpers.each = function(loopable, callback, self, reverse) {\n\t\t// Check to see if null or undefined firstly.\n\t\tvar i, len;\n\t\tif (helpers.isArray(loopable)) {\n\t\t\tlen = loopable.length;\n\t\t\tif (reverse) {\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tcallback.call(self, loopable[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof loopable === 'object') {\n\t\t\tvar keys = Object.keys(loopable);\n\t\t\tlen = keys.length;\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tcallback.call(self, loopable[keys[i]], keys[i]);\n\t\t\t}\n\t\t}\n\t};\n\thelpers.clone = function(obj) {\n\t\tvar objClone = {};\n\t\thelpers.each(obj, function(value, key) {\n\t\t\tif (helpers.isArray(value)) {\n\t\t\t\tobjClone[key] = value.slice(0);\n\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\tobjClone[key] = helpers.clone(value);\n\t\t\t} else {\n\t\t\t\tobjClone[key] = value;\n\t\t\t}\n\t\t});\n\t\treturn objClone;\n\t};\n\thelpers.extend = function(base) {\n\t\tvar setFn = function(value, key) {\n\t\t\tbase[key] = value;\n\t\t};\n\t\tfor (var i = 1, ilen = arguments.length; i < ilen; i++) {\n\t\t\thelpers.each(arguments[i], setFn);\n\t\t}\n\t\treturn base;\n\t};\n\t// Need a special merge function to chart configs since they are now grouped\n\thelpers.configMerge = function(_base) {\n\t\tvar base = helpers.clone(_base);\n\t\thelpers.each(Array.prototype.slice.call(arguments, 1), function(extension) {\n\t\t\thelpers.each(extension, function(value, key) {\n\t\t\t\tvar baseHasProperty = base.hasOwnProperty(key);\n\t\t\t\tvar baseVal = baseHasProperty ? base[key] : {};\n\n\t\t\t\tif (key === 'scales') {\n\t\t\t\t\t// Scale config merging is complex. Add our own function here for that\n\t\t\t\t\tbase[key] = helpers.scaleMerge(baseVal, value);\n\t\t\t\t} else if (key === 'scale') {\n\t\t\t\t\t// Used in polar area & radar charts since there is only one scale\n\t\t\t\t\tbase[key] = helpers.configMerge(baseVal, Chart.scaleService.getScaleDefaults(value.type), value);\n\t\t\t\t} else if (baseHasProperty\n\t\t\t\t\t\t&& typeof baseVal === 'object'\n\t\t\t\t\t\t&& !helpers.isArray(baseVal)\n\t\t\t\t\t\t&& baseVal !== null\n\t\t\t\t\t\t&& typeof value === 'object'\n\t\t\t\t\t\t&& !helpers.isArray(value)) {\n\t\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\t\tbase[key] = helpers.configMerge(baseVal, value);\n\t\t\t\t} else {\n\t\t\t\t\t// can just overwrite the value in this case\n\t\t\t\t\tbase[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.scaleMerge = function(_base, extension) {\n\t\tvar base = helpers.clone(_base);\n\n\t\thelpers.each(extension, function(value, key) {\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\n\t\t\t\t// These properties are arrays of items\n\t\t\t\tif (base.hasOwnProperty(key)) {\n\t\t\t\t\thelpers.each(value, function(valueObj, index) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tvar axisDefaults = Chart.scaleService.getScaleDefaults(axisType);\n\t\t\t\t\t\tif (index >= base[key].length || !base[key][index].type) {\n\t\t\t\t\t\t\tbase[key].push(helpers.configMerge(axisDefaults, valueObj));\n\t\t\t\t\t\t} else if (valueObj.type && valueObj.type !== base[key][index].type) {\n\t\t\t\t\t\t\t// Type changed. Bring in the new defaults before we bring in valueObj so that valueObj can override the correct scale defaults\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], axisDefaults, valueObj);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Type is the same\n\t\t\t\t\t\t\tbase[key][index] = helpers.configMerge(base[key][index], valueObj);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbase[key] = [];\n\t\t\t\t\thelpers.each(value, function(valueObj) {\n\t\t\t\t\t\tvar axisType = helpers.getValueOrDefault(valueObj.type, key === 'xAxes' ? 'category' : 'linear');\n\t\t\t\t\t\tbase[key].push(helpers.configMerge(Chart.scaleService.getScaleDefaults(axisType), valueObj));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (base.hasOwnProperty(key) && typeof base[key] === 'object' && base[key] !== null && typeof value === 'object') {\n\t\t\t\t// If we are overwriting an object with an object, do a merge of the properties.\n\t\t\t\tbase[key] = helpers.configMerge(base[key], value);\n\n\t\t\t} else {\n\t\t\t\t// can just overwrite the value in this case\n\t\t\t\tbase[key] = value;\n\t\t\t}\n\t\t});\n\n\t\treturn base;\n\t};\n\thelpers.getValueAtIndexOrDefault = function(value, index, defaultValue) {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn defaultValue;\n\t\t}\n\n\t\tif (helpers.isArray(value)) {\n\t\t\treturn index < value.length ? value[index] : defaultValue;\n\t\t}\n\n\t\treturn value;\n\t};\n\thelpers.getValueOrDefault = function(value, defaultValue) {\n\t\treturn value === undefined ? defaultValue : value;\n\t};\n\thelpers.indexOf = Array.prototype.indexOf?\n\t\tfunction(array, item) {\n\t\t\treturn array.indexOf(item);\n\t\t}:\n\t\tfunction(array, item) {\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (array[i] === item) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.where = function(collection, filterCallback) {\n\t\tif (helpers.isArray(collection) && Array.prototype.filter) {\n\t\t\treturn collection.filter(filterCallback);\n\t\t}\n\t\tvar filtered = [];\n\n\t\thelpers.each(collection, function(item) {\n\t\t\tif (filterCallback(item)) {\n\t\t\t\tfiltered.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn filtered;\n\t};\n\thelpers.findIndex = Array.prototype.findIndex?\n\t\tfunction(array, callback, scope) {\n\t\t\treturn array.findIndex(callback, scope);\n\t\t} :\n\t\tfunction(array, callback, scope) {\n\t\t\tscope = scope === undefined? array : scope;\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\thelpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to start of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = -1;\n\t\t}\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\n\t\t// Default to end of the array\n\t\tif (startIndex === undefined || startIndex === null) {\n\t\t\tstartIndex = arrayToSearch.length;\n\t\t}\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\n\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\tif (filterCallback(currentItem)) {\n\t\t\t\treturn currentItem;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.inherits = function(extensions) {\n\t\t// Basic javascript inheritance based on the model created in Backbone.js\n\t\tvar me = this;\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\n\t\t\treturn me.apply(this, arguments);\n\t\t};\n\n\t\tvar Surrogate = function() {\n\t\t\tthis.constructor = ChartElement;\n\t\t};\n\t\tSurrogate.prototype = me.prototype;\n\t\tChartElement.prototype = new Surrogate();\n\n\t\tChartElement.extend = helpers.inherits;\n\n\t\tif (extensions) {\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\n\t\t}\n\n\t\tChartElement.__super__ = me.prototype;\n\n\t\treturn ChartElement;\n\t};\n\thelpers.noop = function() {};\n\thelpers.uid = (function() {\n\t\tvar id = 0;\n\t\treturn function() {\n\t\t\treturn id++;\n\t\t};\n\t}());\n\t// -- Math methods\n\thelpers.isNumber = function(n) {\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t};\n\thelpers.almostEquals = function(x, y, epsilon) {\n\t\treturn Math.abs(x - y) < epsilon;\n\t};\n\thelpers.almostWhole = function(x, epsilon) {\n\t\tvar rounded = Math.round(x);\n\t\treturn (((rounded - epsilon) < x) && ((rounded + epsilon) > x));\n\t};\n\thelpers.max = function(array) {\n\t\treturn array.reduce(function(max, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.max(max, value);\n\t\t\t}\n\t\t\treturn max;\n\t\t}, Number.NEGATIVE_INFINITY);\n\t};\n\thelpers.min = function(array) {\n\t\treturn array.reduce(function(min, value) {\n\t\t\tif (!isNaN(value)) {\n\t\t\t\treturn Math.min(min, value);\n\t\t\t}\n\t\t\treturn min;\n\t\t}, Number.POSITIVE_INFINITY);\n\t};\n\thelpers.sign = Math.sign?\n\t\tfunction(x) {\n\t\t\treturn Math.sign(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\tx = +x; // convert to a number\n\t\t\tif (x === 0 || isNaN(x)) {\n\t\t\t\treturn x;\n\t\t\t}\n\t\t\treturn x > 0 ? 1 : -1;\n\t\t};\n\thelpers.log10 = Math.log10?\n\t\tfunction(x) {\n\t\t\treturn Math.log10(x);\n\t\t} :\n\t\tfunction(x) {\n\t\t\treturn Math.log(x) / Math.LN10;\n\t\t};\n\thelpers.toRadians = function(degrees) {\n\t\treturn degrees * (Math.PI / 180);\n\t};\n\thelpers.toDegrees = function(radians) {\n\t\treturn radians * (180 / Math.PI);\n\t};\n\t// Gets the angle from vertical upright to the point about a centre.\n\thelpers.getAngleFromPoint = function(centrePoint, anglePoint) {\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\n\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\n\t\t\tradialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n\t\tif (angle < (-0.5 * Math.PI)) {\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n\t\t}\n\n\t\treturn {\n\t\t\tangle: angle,\n\t\t\tdistance: radialDistanceFromCenter\n\t\t};\n\t};\n\thelpers.distanceBetweenPoints = function(pt1, pt2) {\n\t\treturn Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n\t};\n\thelpers.aliasPixel = function(pixelWidth) {\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\n\t};\n\thelpers.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n\t\t// This function must also respect \"skipped\" points\n\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint,\n\t\t\tcurrent = middlePoint,\n\t\t\tnext = afterPoint.skip ? middlePoint : afterPoint;\n\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\n\n\t\tvar s01 = d01 / (d01 + d12);\n\t\tvar s12 = d12 / (d01 + d12);\n\n\t\t// If all points are the same, s01 & s02 will be inf\n\t\ts01 = isNaN(s01) ? 0 : s01;\n\t\ts12 = isNaN(s12) ? 0 : s12;\n\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\n\t\tvar fb = t * s12;\n\n\t\treturn {\n\t\t\tprevious: {\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\n\t\t\t},\n\t\t\tnext: {\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\n\t\t\t}\n\t\t};\n\t};\n\thelpers.EPSILON = Number.EPSILON || 1e-14;\n\thelpers.splineCurveMonotone = function(points) {\n\t\t// This function calculates Bézier control points in a similar way than |splineCurve|,\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\n\t\t// between the dataset discrete points due to the interpolation.\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\n\t\t\treturn {\n\t\t\t\tmodel: point._model,\n\t\t\t\tdeltaK: 0,\n\t\t\t\tmK: 0\n\t\t\t};\n\t\t});\n\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\n\t\tvar pointsLen = pointsWithTangents.length;\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tvar slopeDeltaX = (pointAfter.model.x - pointCurrent.model.x);\n\n\t\t\t\t// In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n\t\t\t\tpointCurrent.deltaK = slopeDeltaX !== 0 ? (pointAfter.model.y - pointCurrent.model.y) / slopeDeltaX : 0;\n\t\t\t}\n\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\n\t\t\t\tpointCurrent.mK = 0;\n\t\t\t} else {\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\n\t\t\t}\n\t\t}\n\n\t\t// Adjust tangents to ensure monotonic properties\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tpointAfter = pointsWithTangents[i + 1];\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (helpers.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n\t\t\tif (squaredMagnitude <= 9) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\n\t\t}\n\n\t\t// Compute control points\n\t\tvar deltaX;\n\t\tfor (i = 0; i < pointsLen; ++i) {\n\t\t\tpointCurrent = pointsWithTangents[i];\n\t\t\tif (pointCurrent.model.skip) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\n\t\t\t}\n\t\t}\n\t};\n\thelpers.nextItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\n\t\t}\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\n\t};\n\thelpers.previousItem = function(collection, index, loop) {\n\t\tif (loop) {\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\n\t\t}\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\n\t};\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\n\thelpers.niceNum = function(range, round) {\n\t\tvar exponent = Math.floor(helpers.log10(range));\n\t\tvar fraction = range / Math.pow(10, exponent);\n\t\tvar niceFraction;\n\n\t\tif (round) {\n\t\t\tif (fraction < 1.5) {\n\t\t\t\tniceFraction = 1;\n\t\t\t} else if (fraction < 3) {\n\t\t\t\tniceFraction = 2;\n\t\t\t} else if (fraction < 7) {\n\t\t\t\tniceFraction = 5;\n\t\t\t} else {\n\t\t\t\tniceFraction = 10;\n\t\t\t}\n\t\t} else if (fraction <= 1.0) {\n\t\t\tniceFraction = 1;\n\t\t} else if (fraction <= 2) {\n\t\t\tniceFraction = 2;\n\t\t} else if (fraction <= 5) {\n\t\t\tniceFraction = 5;\n\t\t} else {\n\t\t\tniceFraction = 10;\n\t\t}\n\n\t\treturn niceFraction * Math.pow(10, exponent);\n\t};\n\t// Easing functions adapted from Robert Penner's easing equations\n\t// http://www.robertpenner.com/easing/\n\tvar easingEffects = helpers.easingEffects = {\n\t\tlinear: function(t) {\n\t\t\treturn t;\n\t\t},\n\t\teaseInQuad: function(t) {\n\t\t\treturn t * t;\n\t\t},\n\t\teaseOutQuad: function(t) {\n\t\t\treturn -1 * t * (t - 2);\n\t\t},\n\t\teaseInOutQuad: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\n\t\t},\n\t\teaseInCubic: function(t) {\n\t\t\treturn t * t * t;\n\t\t},\n\t\teaseOutCubic: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\n\t\t},\n\t\teaseInOutCubic: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\n\t\t},\n\t\teaseInQuart: function(t) {\n\t\t\treturn t * t * t * t;\n\t\t},\n\t\teaseOutQuart: function(t) {\n\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\n\t\t},\n\t\teaseInOutQuart: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t;\n\t\t\t}\n\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\n\t\t},\n\t\teaseInQuint: function(t) {\n\t\t\treturn 1 * (t /= 1) * t * t * t * t;\n\t\t},\n\t\teaseOutQuint: function(t) {\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\n\t\t},\n\t\teaseInOutQuint: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * t * t * t * t * t;\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\n\t\t},\n\t\teaseInSine: function(t) {\n\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\n\t\t},\n\t\teaseOutSine: function(t) {\n\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\n\t\t},\n\t\teaseInOutSine: function(t) {\n\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\n\t\t},\n\t\teaseInExpo: function(t) {\n\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\n\t\t},\n\t\teaseOutExpo: function(t) {\n\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\n\t\t},\n\t\teaseInOutExpo: function(t) {\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (t === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * Math.pow(2, 10 * (t - 1));\n\t\t\t}\n\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\n\t\t},\n\t\teaseInCirc: function(t) {\n\t\t\tif (t >= 1) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t},\n\t\teaseOutCirc: function(t) {\n\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\n\t\t},\n\t\teaseInOutCirc: function(t) {\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn -1 / 2 * (Math.sqrt(1 - t * t) - 1);\n\t\t\t}\n\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t},\n\t\teaseInElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t},\n\t\teaseOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1) === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * 0.3;\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\n\t\t},\n\t\teaseInOutElastic: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tvar p = 0;\n\t\t\tvar a = 1;\n\t\t\tif (t === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif ((t /= 1 / 2) === 2) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (!p) {\n\t\t\t\tp = 1 * (0.3 * 1.5);\n\t\t\t}\n\t\t\tif (a < Math.abs(1)) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t}\n\t\t\tif (t < 1) {\n\t\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t}\n\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t},\n\t\teaseInBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\n\t\t},\n\t\teaseOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\n\t\t},\n\t\teaseInOutBack: function(t) {\n\t\t\tvar s = 1.70158;\n\t\t\tif ((t /= 1 / 2) < 1) {\n\t\t\t\treturn 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\n\t\t\t}\n\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n\t\t},\n\t\teaseInBounce: function(t) {\n\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\n\t\t},\n\t\teaseOutBounce: function(t) {\n\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * t * t);\n\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\n\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\n\t\t\t}\n\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\n\t\t},\n\t\teaseInOutBounce: function(t) {\n\t\t\tif (t < 1 / 2) {\n\t\t\t\treturn easingEffects.easeInBounce(t * 2) * 0.5;\n\t\t\t}\n\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\n\t\t}\n\t};\n\t// Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n\thelpers.requestAnimFrame = (function() {\n\t\tif (typeof window === 'undefined') {\n\t\t\treturn function(callback) {\n\t\t\t\tcallback();\n\t\t\t};\n\t\t}\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t};\n\t}());\n\t// -- DOM methods\n\thelpers.getRelativePosition = function(evt, chart) {\n\t\tvar mouseX, mouseY;\n\t\tvar e = evt.originalEvent || evt,\n\t\t\tcanvas = evt.currentTarget || evt.srcElement,\n\t\t\tboundingRect = canvas.getBoundingClientRect();\n\n\t\tvar touches = e.touches;\n\t\tif (touches && touches.length > 0) {\n\t\t\tmouseX = touches[0].clientX;\n\t\t\tmouseY = touches[0].clientY;\n\n\t\t} else {\n\t\t\tmouseX = e.clientX;\n\t\t\tmouseY = e.clientY;\n\t\t}\n\n\t\t// Scale mouse coordinates into canvas coordinates\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\n\t\t// http://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\n\t\tvar paddingLeft = parseFloat(helpers.getStyle(canvas, 'padding-left'));\n\t\tvar paddingTop = parseFloat(helpers.getStyle(canvas, 'padding-top'));\n\t\tvar paddingRight = parseFloat(helpers.getStyle(canvas, 'padding-right'));\n\t\tvar paddingBottom = parseFloat(helpers.getStyle(canvas, 'padding-bottom'));\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\n\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\n\n\t\treturn {\n\t\t\tx: mouseX,\n\t\t\ty: mouseY\n\t\t};\n\n\t};\n\thelpers.addEvent = function(node, eventType, method) {\n\t\tif (node.addEventListener) {\n\t\t\tnode.addEventListener(eventType, method);\n\t\t} else if (node.attachEvent) {\n\t\t\tnode.attachEvent('on' + eventType, method);\n\t\t} else {\n\t\t\tnode['on' + eventType] = method;\n\t\t}\n\t};\n\thelpers.removeEvent = function(node, eventType, handler) {\n\t\tif (node.removeEventListener) {\n\t\t\tnode.removeEventListener(eventType, handler, false);\n\t\t} else if (node.detachEvent) {\n\t\t\tnode.detachEvent('on' + eventType, handler);\n\t\t} else {\n\t\t\tnode['on' + eventType] = helpers.noop;\n\t\t}\n\t};\n\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\n\t\tvar valueInPixels;\n\t\tif (typeof(styleValue) === 'string') {\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\n\n\t\t\tif (styleValue.indexOf('%') !== -1) {\n\t\t\t\t// percentage * size in dimension\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n\t\t\t}\n\t\t} else {\n\t\t\tvalueInPixels = styleValue;\n\t\t}\n\n\t\treturn valueInPixels;\n\t}\n\n\t/**\n\t * Returns if the given value contains an effective constraint.\n\t * @private\n\t */\n\tfunction isConstrainedValue(value) {\n\t\treturn value !== undefined && value !== null && value !== 'none';\n\t}\n\n\t// Private helper to get a constraint dimension\n\t// @param domNode : the node to check the constraint on\n\t// @param maxStyle : the style that defines the maximum for the direction we are using (maxWidth / maxHeight)\n\t// @param percentageProperty : property of parent to use when calculating width as a percentage\n\t// @see http://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\n\t\tvar view = document.defaultView;\n\t\tvar parentNode = domNode.parentNode;\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\n\t\tvar infinity = Number.POSITIVE_INFINITY;\n\n\t\tif (hasCNode || hasCContainer) {\n\t\t\treturn Math.min(\n\t\t\t\thasCNode? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\n\t\t\t\thasCContainer? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\n\t\t}\n\n\t\treturn 'none';\n\t}\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintWidth = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\n\t};\n\t// returns Number or undefined if no constraint\n\thelpers.getConstraintHeight = function(domNode) {\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\n\t};\n\thelpers.getMaximumWidth = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingLeft = parseInt(helpers.getStyle(container, 'padding-left'), 10);\n\t\tvar paddingRight = parseInt(helpers.getStyle(container, 'padding-right'), 10);\n\t\tvar w = container.clientWidth - paddingLeft - paddingRight;\n\t\tvar cw = helpers.getConstraintWidth(domNode);\n\t\treturn isNaN(cw)? w : Math.min(w, cw);\n\t};\n\thelpers.getMaximumHeight = function(domNode) {\n\t\tvar container = domNode.parentNode;\n\t\tvar paddingTop = parseInt(helpers.getStyle(container, 'padding-top'), 10);\n\t\tvar paddingBottom = parseInt(helpers.getStyle(container, 'padding-bottom'), 10);\n\t\tvar h = container.clientHeight - paddingTop - paddingBottom;\n\t\tvar ch = helpers.getConstraintHeight(domNode);\n\t\treturn isNaN(ch)? h : Math.min(h, ch);\n\t};\n\thelpers.getStyle = function(el, property) {\n\t\treturn el.currentStyle ?\n\t\t\tel.currentStyle[property] :\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n\t};\n\thelpers.retinaScale = function(chart) {\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = window.devicePixelRatio || 1;\n\t\tif (pixelRatio === 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar canvas = chart.canvas;\n\t\tvar height = chart.height;\n\t\tvar width = chart.width;\n\n\t\tcanvas.height = height * pixelRatio;\n\t\tcanvas.width = width * pixelRatio;\n\t\tchart.ctx.scale(pixelRatio, pixelRatio);\n\n\t\t// If no style has been set on the canvas, the render size is used as display size,\n\t\t// making the chart visually bigger, so let's enforce it to the \"correct\" values.\n\t\t// See https://github.com/chartjs/Chart.js/issues/3575\n\t\tcanvas.style.height = height + 'px';\n\t\tcanvas.style.width = width + 'px';\n\t};\n\t// -- Canvas methods\n\thelpers.clear = function(chart) {\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\n\t};\n\thelpers.fontString = function(pixelSize, fontStyle, fontFamily) {\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n\t};\n\thelpers.longestText = function(ctx, font, arrayOfThings, cache) {\n\t\tcache = cache || {};\n\t\tvar data = cache.data = cache.data || {};\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\n\n\t\tif (cache.font !== font) {\n\t\t\tdata = cache.data = {};\n\t\t\tgc = cache.garbageCollect = [];\n\t\t\tcache.font = font;\n\t\t}\n\n\t\tctx.font = font;\n\t\tvar longest = 0;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\t// Undefined strings and arrays should not be measured\n\t\t\tif (thing !== undefined && thing !== null && helpers.isArray(thing) !== true) {\n\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, thing);\n\t\t\t} else if (helpers.isArray(thing)) {\n\t\t\t\t// if it is an array lets measure each element\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\n\t\t\t\thelpers.each(thing, function(nestedThing) {\n\t\t\t\t\t// Undefined strings and arrays should not be measured\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers.isArray(nestedThing)) {\n\t\t\t\t\t\tlongest = helpers.measureText(ctx, data, gc, longest, nestedThing);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tvar gcLen = gc.length / 2;\n\t\tif (gcLen > arrayOfThings.length) {\n\t\t\tfor (var i = 0; i < gcLen; i++) {\n\t\t\t\tdelete data[gc[i]];\n\t\t\t}\n\t\t\tgc.splice(0, gcLen);\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.measureText = function(ctx, data, gc, longest, string) {\n\t\tvar textWidth = data[string];\n\t\tif (!textWidth) {\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\n\t\t\tgc.push(string);\n\t\t}\n\t\tif (textWidth > longest) {\n\t\t\tlongest = textWidth;\n\t\t}\n\t\treturn longest;\n\t};\n\thelpers.numberOfLabelLines = function(arrayOfThings) {\n\t\tvar numberOfLines = 1;\n\t\thelpers.each(arrayOfThings, function(thing) {\n\t\t\tif (helpers.isArray(thing)) {\n\t\t\t\tif (thing.length > numberOfLines) {\n\t\t\t\t\tnumberOfLines = thing.length;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn numberOfLines;\n\t};\n\thelpers.drawRoundedRectangle = function(ctx, x, y, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.moveTo(x + radius, y);\n\t\tctx.lineTo(x + width - radius, y);\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\tctx.lineTo(x + width, y + height - radius);\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\tctx.lineTo(x + radius, y + height);\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\tctx.lineTo(x, y + radius);\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\tctx.closePath();\n\t};\n\n\thelpers.color = !color?\n\t\tfunction(value) {\n\t\t\tconsole.error('Color.js not found!');\n\t\t\treturn value;\n\t\t} :\n\t\tfunction(value) {\n\t\t\t/* global CanvasGradient */\n\t\t\tif (value instanceof CanvasGradient) {\n\t\t\t\tvalue = Chart.defaults.global.defaultColor;\n\t\t\t}\n\n\t\t\treturn color(value);\n\t\t};\n\n\thelpers.isArray = Array.isArray?\n\t\tfunction(obj) {\n\t\t\treturn Array.isArray(obj);\n\t\t} :\n\t\tfunction(obj) {\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t};\n\t// ! @see http://stackoverflow.com/a/14853974\n\thelpers.arrayEquals = function(a0, a1) {\n\t\tvar i, ilen, v0, v1;\n\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (i = 0, ilen=a0.length; i < ilen; ++i) {\n\t\t\tv0 = a0[i];\n\t\t\tv1 = a1[i];\n\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (v0 !== v1) {\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\thelpers.callback = function(fn, args, thisArg) {\n\t\tif (fn && typeof fn.call === 'function') {\n\t\t\tfn.apply(thisArg, args);\n\t\t}\n\t};\n\thelpers.getHoverColor = function(colorValue) {\n\t\t/* global CanvasPattern */\n\t\treturn (colorValue instanceof CanvasPattern) ?\n\t\t\tcolorValue :\n\t\t\thelpers.color(colorValue).saturate(0.5).darken(0.1).rgbString();\n\t};\n\n\t/**\n\t * Provided for backward compatibility, use Chart.helpers#callback instead.\n\t * @function Chart.helpers#callCallback\n\t * @deprecated since version 2.6.0\n\t * @todo remove at version 3\n\t */\n\thelpers.callCallback = helpers.callback;\n};\n","'use strict';\n\n// Chart.Platform implementation for targeting a web browser\nmodule.exports = function(Chart) {\n\tvar helpers = Chart.helpers;\n\n\t// DOM event types -> Chart.js event types.\n\t// Note: only events with different types are mapped.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events\n\tvar eventTypeMap = {\n\t\t// Touch events\n\t\ttouchstart: 'mousedown',\n\t\ttouchmove: 'mousemove',\n\t\ttouchend: 'mouseup',\n\n\t\t// Pointer events\n\t\tpointerenter: 'mouseenter',\n\t\tpointerdown: 'mousedown',\n\t\tpointermove: 'mousemove',\n\t\tpointerup: 'mouseup',\n\t\tpointerleave: 'mouseout',\n\t\tpointerout: 'mouseout'\n\t};\n\n\t/**\n\t * The \"used\" size is the final value of a dimension property after all calculations have\n\t * been performed. This method uses the computed style of `element` but returns undefined\n\t * if the computed style is not expressed in pixels. That can happen in some cases where\n\t * `element` has a size relative to its parent and this last one is not yet displayed,\n\t * for example because of `display: none` on a parent node.\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n\t * @returns {Number} Size in pixels or undefined if unknown.\n\t */\n\tfunction readUsedSize(element, property) {\n\t\tvar value = helpers.getStyle(element, property);\n\t\tvar matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n\t\treturn matches? Number(matches[1]) : undefined;\n\t}\n\n\t/**\n\t * Initializes the canvas style and render size without modifying the canvas display size,\n\t * since responsiveness is handled by the controller.resize() method. The config is used\n\t * to determine the aspect ratio to apply in case no explicit height has been specified.\n\t */\n\tfunction initCanvas(canvas, config) {\n\t\tvar style = canvas.style;\n\n\t\t// NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n\t\t// returns null or '' if no explicit value has been set to the canvas attribute.\n\t\tvar renderHeight = canvas.getAttribute('height');\n\t\tvar renderWidth = canvas.getAttribute('width');\n\n\t\t// Chart.js modifies some canvas values that we want to restore on destroy\n\t\tcanvas._chartjs = {\n\t\t\tinitial: {\n\t\t\t\theight: renderHeight,\n\t\t\t\twidth: renderWidth,\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: style.display,\n\t\t\t\t\theight: style.height,\n\t\t\t\t\twidth: style.width\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Force canvas to display as block to avoid extra space caused by inline\n\t\t// elements, which would interfere with the responsive resize process.\n\t\t// https://github.com/chartjs/Chart.js/issues/2538\n\t\tstyle.display = style.display || 'block';\n\n\t\tif (renderWidth === null || renderWidth === '') {\n\t\t\tvar displayWidth = readUsedSize(canvas, 'width');\n\t\t\tif (displayWidth !== undefined) {\n\t\t\t\tcanvas.width = displayWidth;\n\t\t\t}\n\t\t}\n\n\t\tif (renderHeight === null || renderHeight === '') {\n\t\t\tif (canvas.style.height === '') {\n\t\t\t\t// If no explicit render height and style height, let's apply the aspect ratio,\n\t\t\t\t// which one can be specified by the user but also by charts as default option\n\t\t\t\t// (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n\t\t\t\tcanvas.height = canvas.width / (config.options.aspectRatio || 2);\n\t\t\t} else {\n\t\t\t\tvar displayHeight = readUsedSize(canvas, 'height');\n\t\t\t\tif (displayWidth !== undefined) {\n\t\t\t\t\tcanvas.height = displayHeight;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn canvas;\n\t}\n\n\tfunction createEvent(type, chart, x, y, nativeEvent) {\n\t\treturn {\n\t\t\ttype: type,\n\t\t\tchart: chart,\n\t\t\tnative: nativeEvent || null,\n\t\t\tx: x !== undefined? x : null,\n\t\t\ty: y !== undefined? y : null,\n\t\t};\n\t}\n\n\tfunction fromNativeEvent(event, chart) {\n\t\tvar type = eventTypeMap[event.type] || event.type;\n\t\tvar pos = helpers.getRelativePosition(event, chart);\n\t\treturn createEvent(type, chart, pos.x, pos.y, event);\n\t}\n\n\tfunction createResizer(handler) {\n\t\tvar iframe = document.createElement('iframe');\n\t\tiframe.className = 'chartjs-hidden-iframe';\n\t\tiframe.style.cssText =\n\t\t\t'display:block;'+\n\t\t\t'overflow:hidden;'+\n\t\t\t'border:0;'+\n\t\t\t'margin:0;'+\n\t\t\t'top:0;'+\n\t\t\t'left:0;'+\n\t\t\t'bottom:0;'+\n\t\t\t'right:0;'+\n\t\t\t'height:100%;'+\n\t\t\t'width:100%;'+\n\t\t\t'position:absolute;'+\n\t\t\t'pointer-events:none;'+\n\t\t\t'z-index:-1;';\n\n\t\t// Prevent the iframe to gain focus on tab.\n\t\t// https://github.com/chartjs/Chart.js/issues/3090\n\t\tiframe.tabIndex = -1;\n\n\t\t// If the iframe is re-attached to the DOM, the resize listener is removed because the\n\t\t// content is reloaded, so make sure to install the handler after the iframe is loaded.\n\t\t// https://github.com/chartjs/Chart.js/issues/3521\n\t\thelpers.addEvent(iframe, 'load', function() {\n\t\t\thelpers.addEvent(iframe.contentWindow || iframe, 'resize', handler);\n\n\t\t\t// The iframe size might have changed while loading, which can also\n\t\t\t// happen if the size has been changed while detached from the DOM.\n\t\t\thandler();\n\t\t});\n\n\t\treturn iframe;\n\t}\n\n\tfunction addResizeListener(node, listener, chart) {\n\t\tvar stub = node._chartjs = {\n\t\t\tticking: false\n\t\t};\n\n\t\t// Throttle the callback notification until the next animation frame.\n\t\tvar notify = function() {\n\t\t\tif (!stub.ticking) {\n\t\t\t\tstub.ticking = true;\n\t\t\t\thelpers.requestAnimFrame.call(window, function() {\n\t\t\t\t\tif (stub.resizer) {\n\t\t\t\t\t\tstub.ticking = false;\n\t\t\t\t\t\treturn listener(createEvent('resize', chart));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// Let's keep track of this added iframe and thus avoid DOM query when removing it.\n\t\tstub.resizer = createResizer(notify);\n\n\t\tnode.insertBefore(stub.resizer, node.firstChild);\n\t}\n\n\tfunction removeResizeListener(node) {\n\t\tif (!node || !node._chartjs) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar resizer = node._chartjs.resizer;\n\t\tif (resizer) {\n\t\t\tresizer.parentNode.removeChild(resizer);\n\t\t\tnode._chartjs.resizer = null;\n\t\t}\n\n\t\tdelete node._chartjs;\n\t}\n\n\treturn {\n\t\tacquireContext: function(item, config) {\n\t\t\tif (typeof item === 'string') {\n\t\t\t\titem = document.getElementById(item);\n\t\t\t} else if (item.length) {\n\t\t\t\t// Support for array based queries (such as jQuery)\n\t\t\t\titem = item[0];\n\t\t\t}\n\n\t\t\tif (item && item.canvas) {\n\t\t\t\t// Support for any object associated to a canvas (including a context2d)\n\t\t\t\titem = item.canvas;\n\t\t\t}\n\n\t\t\t// To prevent canvas fingerprinting, some add-ons undefine the getContext\n\t\t\t// method, for example: https://github.com/kkapsner/CanvasBlocker\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\n\t\t\tvar context = item && item.getContext && item.getContext('2d');\n\n\t\t\t// `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the item is\n\t\t\t// inside an iframe or when running in a protected environment. We could guess the\n\t\t\t// types from their toString() value but let's keep things flexible and assume it's\n\t\t\t// a sufficient condition if the item has a context2D which has item as `canvas`.\n\t\t\t// https://github.com/chartjs/Chart.js/issues/3887\n\t\t\t// https://github.com/chartjs/Chart.js/issues/4102\n\t\t\t// https://github.com/chartjs/Chart.js/issues/4152\n\t\t\tif (context && context.canvas === item) {\n\t\t\t\tinitCanvas(item, config);\n\t\t\t\treturn context;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\treleaseContext: function(context) {\n\t\t\tvar canvas = context.canvas;\n\t\t\tif (!canvas._chartjs) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar initial = canvas._chartjs.initial;\n\t\t\t['height', 'width'].forEach(function(prop) {\n\t\t\t\tvar value = initial[prop];\n\t\t\t\tif (value === undefined || value === null) {\n\t\t\t\t\tcanvas.removeAttribute(prop);\n\t\t\t\t} else {\n\t\t\t\t\tcanvas.setAttribute(prop, value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thelpers.each(initial.style || {}, function(value, key) {\n\t\t\t\tcanvas.style[key] = value;\n\t\t\t});\n\n\t\t\t// The canvas render size might have been changed (and thus the state stack discarded),\n\t\t\t// we can't use save() and restore() to restore the initial state. So make sure that at\n\t\t\t// least the canvas context is reset to the default state by setting the canvas width.\n\t\t\t// https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n\t\t\tcanvas.width = canvas.width;\n\n\t\t\tdelete canvas._chartjs;\n\t\t},\n\n\t\taddEventListener: function(chart, type, listener) {\n\t\t\tvar canvas = chart.canvas;\n\t\t\tif (type === 'resize') {\n\t\t\t\t// Note: the resize event is not supported on all browsers.\n\t\t\t\taddResizeListener(canvas.parentNode, listener, chart);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar stub = listener._chartjs || (listener._chartjs = {});\n\t\t\tvar proxies = stub.proxies || (stub.proxies = {});\n\t\t\tvar proxy = proxies[chart.id + '_' + type] = function(event) {\n\t\t\t\tlistener(fromNativeEvent(event, chart));\n\t\t\t};\n\n\t\t\thelpers.addEvent(canvas, type, proxy);\n\t\t},\n\n\t\tremoveEventListener: function(chart, type, listener) {\n\t\t\tvar canvas = chart.canvas;\n\t\t\tif (type === 'resize') {\n\t\t\t\t// Note: the resize event is not supported on all browsers.\n\t\t\t\tremoveResizeListener(canvas.parentNode, listener);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar stub = listener._chartjs || {};\n\t\t\tvar proxies = stub.proxies || {};\n\t\t\tvar proxy = proxies[chart.id + '_' + type];\n\t\t\tif (!proxy) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thelpers.removeEvent(canvas, type, proxy);\n\t\t}\n\t};\n};\n","'use strict';\n\n// By default, select the browser (DOM) platform.\n// @TODO Make possible to select another platform at build time.\nvar implementation = require('./platform.dom.js');\n\nmodule.exports = function(Chart) {\n\t/**\n\t * @namespace Chart.platform\n\t * @see https://chartjs.gitbooks.io/proposals/content/Platform.html\n\t * @since 2.4.0\n\t */\n\tChart.platform = {\n\t\t/**\n\t\t * Called at chart construction time, returns a context2d instance implementing\n\t\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t\t * @param {*} item - The native item from which to acquire context (platform specific)\n\t\t * @param {Object} options - The chart options\n\t\t * @returns {CanvasRenderingContext2D} context2d instance\n\t\t */\n\t\tacquireContext: function() {},\n\n\t\t/**\n\t\t * Called at chart destruction time, releases any resources associated to the context\n\t\t * previously returned by the acquireContext() method.\n\t\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t\t * @returns {Boolean} true if the method succeeded, else false\n\t\t */\n\t\treleaseContext: function() {},\n\n\t\t/**\n\t\t * Registers the specified listener on the given chart.\n\t\t * @param {Chart} chart - Chart from which to listen for event\n\t\t * @param {String} type - The ({@link IEvent}) type to listen for\n\t\t * @param {Function} listener - Receives a notification (an object that implements\n\t\t * the {@link IEvent} interface) when an event of the specified type occurs.\n\t\t */\n\t\taddEventListener: function() {},\n\n\t\t/**\n\t\t * Removes the specified listener previously registered with addEventListener.\n\t\t * @param {Chart} chart -Chart from which to remove the listener\n\t\t * @param {String} type - The ({@link IEvent}) type to remove\n\t\t * @param {Function} listener - The listener function to remove from the event target.\n\t\t */\n\t\tremoveEventListener: function() {}\n\t};\n\n\t/**\n\t * @interface IPlatform\n\t * Allows abstracting platform dependencies away from the chart\n\t * @borrows Chart.platform.acquireContext as acquireContext\n\t * @borrows Chart.platform.releaseContext as releaseContext\n\t * @borrows Chart.platform.addEventListener as addEventListener\n\t * @borrows Chart.platform.removeEventListener as removeEventListener\n\t */\n\n\t/**\n\t * @interface IEvent\n\t * @prop {String} type - The event type name, possible values are:\n\t * 'contextmenu', 'mouseenter', 'mousedown', 'mousemove', 'mouseup', 'mouseout',\n\t * 'click', 'dblclick', 'keydown', 'keypress', 'keyup' and 'resize'\n\t * @prop {*} native - The original native event (null for emulated events, e.g. 'resize')\n\t * @prop {Number} x - The mouse x position, relative to the canvas (null for incompatible events)\n\t * @prop {Number} y - The mouse y position, relative to the canvas (null for incompatible events)\n\t */\n\n\tChart.helpers.extend(Chart.platform, implementation(Chart));\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\t// Global Chart canvas helpers object for drawing items to canvas\n\tvar helpers = Chart.canvasHelpers = {};\n\n\thelpers.drawPoint = function(ctx, pointStyle, radius, x, y) {\n\t\tvar type, edgeLength, xOffset, yOffset, height, size;\n\n\t\tif (typeof pointStyle === 'object') {\n\t\t\ttype = pointStyle.toString();\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n\t\t\t\tctx.drawImage(pointStyle, x - pointStyle.width / 2, y - pointStyle.height / 2, pointStyle.width, pointStyle.height);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (isNaN(radius) || radius <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (pointStyle) {\n\t\t// Default includes circle\n\t\tdefault:\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'triangle':\n\t\t\tctx.beginPath();\n\t\t\tedgeLength = 3 * radius / Math.sqrt(3);\n\t\t\theight = edgeLength * Math.sqrt(3) / 2;\n\t\t\tctx.moveTo(x - edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x + edgeLength / 2, y + height / 3);\n\t\t\tctx.lineTo(x, y - 2 * height / 3);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'rect':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.fillRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tctx.strokeRect(x - size, y - size, 2 * size, 2 * size);\n\t\t\tbreak;\n\t\tcase 'rectRounded':\n\t\t\tvar offset = radius / Math.SQRT2;\n\t\t\tvar leftX = x - offset;\n\t\t\tvar topY = y - offset;\n\t\t\tvar sideSize = Math.SQRT2 * radius;\n\t\t\tChart.helpers.drawRoundedRectangle(ctx, leftX, topY, sideSize, sideSize, radius / 2);\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'rectRot':\n\t\t\tsize = 1 / Math.SQRT2 * radius;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - size, y);\n\t\t\tctx.lineTo(x, y + size);\n\t\t\tctx.lineTo(x + size, y);\n\t\t\tctx.lineTo(x, y - size);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t\tbreak;\n\t\tcase 'cross':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'crossRot':\n\t\t\tctx.beginPath();\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'star':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y + radius);\n\t\t\tctx.lineTo(x, y - radius);\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\txOffset = Math.cos(Math.PI / 4) * radius;\n\t\t\tyOffset = Math.sin(Math.PI / 4) * radius;\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\n\t\t\tctx.moveTo(x - xOffset, y + yOffset);\n\t\t\tctx.lineTo(x + xOffset, y - yOffset);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'line':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x - radius, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\tcase 'dash':\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + radius, y);\n\t\t\tctx.closePath();\n\t\t\tbreak;\n\t\t}\n\n\t\tctx.stroke();\n\t};\n\n\thelpers.clipArea = function(ctx, clipArea) {\n\t\tctx.save();\n\t\tctx.beginPath();\n\t\tctx.rect(clipArea.left, clipArea.top, clipArea.right - clipArea.left, clipArea.bottom - clipArea.top);\n\t\tctx.clip();\n\t};\n\n\thelpers.unclipArea = function(ctx) {\n\t\tctx.restore();\n\t};\n\n\thelpers.lineTo = function(ctx, previous, target, flip) {\n\t\tif (target.steppedLine) {\n\t\t\tif (target.steppedLine === 'after') {\n\t\t\t\tctx.lineTo(previous.x, target.y);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(target.x, previous.y);\n\t\t\t}\n\t\t\tctx.lineTo(target.x, target.y);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!target.tension) {\n\t\t\tctx.lineTo(target.x, target.y);\n\t\t\treturn;\n\t\t}\n\n\t\tctx.bezierCurveTo(\n\t\t\tflip? previous.controlPointPreviousX : previous.controlPointNextX,\n\t\t\tflip? previous.controlPointPreviousY : previous.controlPointNextY,\n\t\t\tflip? target.controlPointNextX : target.controlPointPreviousX,\n\t\t\tflip? target.controlPointNextY : target.controlPointPreviousY,\n\t\t\ttarget.x,\n\t\t\ttarget.y);\n\t};\n\n\tChart.helpers.canvas = helpers;\n};\n","'use strict';\n\nvar color = require('chartjs-color');\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tfunction interpolate(start, view, model, ease) {\n\t\tvar keys = Object.keys(model);\n\t\tvar i, ilen, key, actual, origin, target, type, c0, c1;\n\n\t\tfor (i=0, ilen=keys.length; i<ilen; ++i) {\n\t\t\tkey = keys[i];\n\n\t\t\ttarget = model[key];\n\n\t\t\t// if a value is added to the model after pivot() has been called, the view\n\t\t\t// doesn't contain it, so let's initialize the view to the target value.\n\t\t\tif (!view.hasOwnProperty(key)) {\n\t\t\t\tview[key] = target;\n\t\t\t}\n\n\t\t\tactual = view[key];\n\n\t\t\tif (actual === target || key[0] === '_') {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (!start.hasOwnProperty(key)) {\n\t\t\t\tstart[key] = actual;\n\t\t\t}\n\n\t\t\torigin = start[key];\n\n\t\t\ttype = typeof(target);\n\n\t\t\tif (type === typeof(origin)) {\n\t\t\t\tif (type === 'string') {\n\t\t\t\t\tc0 = color(origin);\n\t\t\t\t\tif (c0.valid) {\n\t\t\t\t\t\tc1 = color(target);\n\t\t\t\t\t\tif (c1.valid) {\n\t\t\t\t\t\t\tview[key] = c1.mix(c0, ease).rgbString();\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (type === 'number' && isFinite(origin) && isFinite(target)) {\n\t\t\t\t\tview[key] = origin + (target - origin) * ease;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tview[key] = target;\n\t\t}\n\t}\n\n\tChart.elements = {};\n\n\tChart.Element = function(configuration) {\n\t\thelpers.extend(this, configuration);\n\t\tthis.initialize.apply(this, arguments);\n\t};\n\n\thelpers.extend(Chart.Element.prototype, {\n\n\t\tinitialize: function() {\n\t\t\tthis.hidden = false;\n\t\t},\n\n\t\tpivot: function() {\n\t\t\tvar me = this;\n\t\t\tif (!me._view) {\n\t\t\t\tme._view = helpers.clone(me._model);\n\t\t\t}\n\t\t\tme._start = {};\n\t\t\treturn me;\n\t\t},\n\n\t\ttransition: function(ease) {\n\t\t\tvar me = this;\n\t\t\tvar model = me._model;\n\t\t\tvar start = me._start;\n\t\t\tvar view = me._view;\n\n\t\t\t// No animation -> No Transition\n\t\t\tif (!model || ease === 1) {\n\t\t\t\tme._view = model;\n\t\t\t\tme._start = null;\n\t\t\t\treturn me;\n\t\t\t}\n\n\t\t\tif (!view) {\n\t\t\t\tview = me._view = {};\n\t\t\t}\n\n\t\t\tif (!start) {\n\t\t\t\tstart = me._start = {};\n\t\t\t}\n\n\t\t\tinterpolate(start, view, model, ease);\n\n\t\t\treturn me;\n\t\t},\n\n\t\ttooltipPosition: function() {\n\t\t\treturn {\n\t\t\t\tx: this._model.x,\n\t\t\t\ty: this._model.y\n\t\t\t};\n\t\t},\n\n\t\thasValue: function() {\n\t\t\treturn helpers.isNumber(this._model.x) && helpers.isNumber(this._model.y);\n\t\t}\n\t});\n\n\tChart.Element.extend = helpers.inherits;\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.plugins = {};\n\n\t/**\n\t * The plugin service singleton\n\t * @namespace Chart.plugins\n\t * @since 2.1.0\n\t */\n\tChart.plugins = {\n\t\t/**\n\t\t * Globally registered plugins.\n\t\t * @private\n\t\t */\n\t\t_plugins: [],\n\n\t\t/**\n\t\t * This identifier is used to invalidate the descriptors cache attached to each chart\n\t\t * when a global plugin is registered or unregistered. In this case, the cache ID is\n\t\t * incremented and descriptors are regenerated during following API calls.\n\t\t * @private\n\t\t */\n\t\t_cacheId: 0,\n\n\t\t/**\n\t\t * Registers the given plugin(s) if not already registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tif (p.indexOf(plugin) === -1) {\n\t\t\t\t\tp.push(plugin);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._cacheId++;\n\t\t},\n\n\t\t/**\n\t\t * Unregisters the given plugin(s) only if registered.\n\t\t * @param {Array|Object} plugins plugin instance(s).\n\t\t */\n\t\tunregister: function(plugins) {\n\t\t\tvar p = this._plugins;\n\t\t\t([]).concat(plugins).forEach(function(plugin) {\n\t\t\t\tvar idx = p.indexOf(plugin);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tp.splice(idx, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._cacheId++;\n\t\t},\n\n\t\t/**\n\t\t * Remove all registered plugins.\n\t\t * @since 2.1.5\n\t\t */\n\t\tclear: function() {\n\t\t\tthis._plugins = [];\n\t\t\tthis._cacheId++;\n\t\t},\n\n\t\t/**\n\t\t * Returns the number of registered plugins?\n\t\t * @returns {Number}\n\t\t * @since 2.1.5\n\t\t */\n\t\tcount: function() {\n\t\t\treturn this._plugins.length;\n\t\t},\n\n\t\t/**\n\t\t * Returns all registered plugin instances.\n\t\t * @returns {Array} array of plugin objects.\n\t\t * @since 2.1.5\n\t\t */\n\t\tgetAll: function() {\n\t\t\treturn this._plugins;\n\t\t},\n\n\t\t/**\n\t\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t\t * returned value can be used, for instance, to interrupt the current action.\n\t\t * @param {Object} chart - The chart instance for which plugins should be called.\n\t\t * @param {String} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t\t * @param {Array} [args] - Extra arguments to apply to the hook call.\n\t\t * @returns {Boolean} false if any of the plugins return false, else returns true.\n\t\t */\n\t\tnotify: function(chart, hook, args) {\n\t\t\tvar descriptors = this.descriptors(chart);\n\t\t\tvar ilen = descriptors.length;\n\t\t\tvar i, descriptor, plugin, params, method;\n\n\t\t\tfor (i=0; i<ilen; ++i) {\n\t\t\t\tdescriptor = descriptors[i];\n\t\t\t\tplugin = descriptor.plugin;\n\t\t\t\tmethod = plugin[hook];\n\t\t\t\tif (typeof method === 'function') {\n\t\t\t\t\tparams = [chart].concat(args || []);\n\t\t\t\t\tparams.push(descriptor.options);\n\t\t\t\t\tif (method.apply(plugin, params) === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Returns descriptors of enabled plugins for the given chart.\n\t\t * @returns {Array} [{ plugin, options }]\n\t\t * @private\n\t\t */\n\t\tdescriptors: function(chart) {\n\t\t\tvar cache = chart._plugins || (chart._plugins = {});\n\t\t\tif (cache.id === this._cacheId) {\n\t\t\t\treturn cache.descriptors;\n\t\t\t}\n\n\t\t\tvar plugins = [];\n\t\t\tvar descriptors = [];\n\t\t\tvar config = (chart && chart.config) || {};\n\t\t\tvar defaults = Chart.defaults.global.plugins;\n\t\t\tvar options = (config.options && config.options.plugins) || {};\n\n\t\t\tthis._plugins.concat(config.plugins || []).forEach(function(plugin) {\n\t\t\t\tvar idx = plugins.indexOf(plugin);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar id = plugin.id;\n\t\t\t\tvar opts = options[id];\n\t\t\t\tif (opts === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (opts === true) {\n\t\t\t\t\topts = helpers.clone(defaults[id]);\n\t\t\t\t}\n\n\t\t\t\tplugins.push(plugin);\n\t\t\t\tdescriptors.push({\n\t\t\t\t\tplugin: plugin,\n\t\t\t\t\toptions: opts || {}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcache.descriptors = descriptors;\n\t\t\tcache.id = this._cacheId;\n\t\t\treturn descriptors;\n\t\t}\n\t};\n\n\t/**\n\t * Plugin extension hooks.\n\t * @interface IPlugin\n\t * @since 2.1.0\n\t */\n\t/**\n\t * @method IPlugin#beforeInit\n\t * @desc Called before initializing `chart`.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#afterInit\n\t * @desc Called after `chart` has been initialized and before the first update.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeUpdate\n\t * @desc Called before updating `chart`. If any plugin returns `false`, the update\n\t * is cancelled (and thus subsequent render(s)) until another `update` is triggered.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} `false` to cancel the chart update.\n\t */\n\t/**\n\t * @method IPlugin#afterUpdate\n\t * @desc Called after `chart` has been updated and before rendering. Note that this\n\t * hook will not be called if the chart update has been previously cancelled.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeDatasetsUpdate\n \t * @desc Called before updating the `chart` datasets. If any plugin returns `false`,\n\t * the datasets update is cancelled until another `update` is triggered.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} false to cancel the datasets update.\n\t * @since version 2.1.5\n\t */\n\t/**\n\t * @method IPlugin#afterDatasetsUpdate\n\t * @desc Called after the `chart` datasets have been updated. Note that this hook\n\t * will not be called if the datasets update has been previously cancelled.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t * @since version 2.1.5\n\t */\n\t/**\n\t * @method IPlugin#beforeDatasetUpdate\n \t * @desc Called before updating the `chart` dataset at the given `args.index`. If any plugin\n\t * returns `false`, the datasets update is cancelled until another `update` is triggered.\n\t * @param {Chart} chart - The chart instance.\n\t * @param {Object} args - The call arguments.\n\t * @param {Object} args.index - The dataset index.\n\t * @param {Number} args.meta - The dataset metadata.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} `false` to cancel the chart datasets drawing.\n\t */\n\t/**\n\t * @method IPlugin#afterDatasetUpdate\n \t * @desc Called after the `chart` datasets at the given `args.index` has been updated. Note\n\t * that this hook will not be called if the datasets update has been previously cancelled.\n\t * @param {Chart} chart - The chart instance.\n\t * @param {Object} args - The call arguments.\n\t * @param {Object} args.index - The dataset index.\n\t * @param {Number} args.meta - The dataset metadata.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeLayout\n\t * @desc Called before laying out `chart`. If any plugin returns `false`,\n\t * the layout update is cancelled until another `update` is triggered.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} `false` to cancel the chart layout.\n\t */\n\t/**\n\t * @method IPlugin#afterLayout\n\t * @desc Called after the `chart` has been layed out. Note that this hook will not\n\t * be called if the layout update has been previously cancelled.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeRender\n\t * @desc Called before rendering `chart`. If any plugin returns `false`,\n\t * the rendering is cancelled until another `render` is triggered.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} `false` to cancel the chart rendering.\n\t */\n\t/**\n\t * @method IPlugin#afterRender\n\t * @desc Called after the `chart` has been fully rendered (and animation completed). Note\n\t * that this hook will not be called if the rendering has been previously cancelled.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeDraw\n\t * @desc Called before drawing `chart` at every animation frame specified by the given\n\t * easing value. If any plugin returns `false`, the frame drawing is cancelled until\n\t * another `render` is triggered.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Number} easingValue - The current animation value, between 0.0 and 1.0.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} `false` to cancel the chart drawing.\n\t */\n\t/**\n\t * @method IPlugin#afterDraw\n\t * @desc Called after the `chart` has been drawn for the specific easing value. Note\n\t * that this hook will not be called if the drawing has been previously cancelled.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Number} easingValue - The current animation value, between 0.0 and 1.0.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeDatasetsDraw\n \t * @desc Called before drawing the `chart` datasets. If any plugin returns `false`,\n\t * the datasets drawing is cancelled until another `render` is triggered.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Number} easingValue - The current animation value, between 0.0 and 1.0.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} `false` to cancel the chart datasets drawing.\n\t */\n\t/**\n\t * @method IPlugin#afterDatasetsDraw\n\t * @desc Called after the `chart` datasets have been drawn. Note that this hook\n\t * will not be called if the datasets drawing has been previously cancelled.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Number} easingValue - The current animation value, between 0.0 and 1.0.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeDatasetDraw\n \t * @desc Called before drawing the `chart` dataset at the given `args.index` (datasets\n\t * are drawn in the reverse order). If any plugin returns `false`, the datasets drawing\n\t * is cancelled until another `render` is triggered.\n\t * @param {Chart} chart - The chart instance.\n\t * @param {Object} args - The call arguments.\n\t * @param {Object} args.index - The dataset index.\n\t * @param {Number} args.meta - The dataset metadata.\n\t * @param {Number} args.easingValue - The current animation value, between 0.0 and 1.0.\n\t * @param {Object} options - The plugin options.\n\t * @returns {Boolean} `false` to cancel the chart datasets drawing.\n\t */\n\t/**\n\t * @method IPlugin#afterDatasetDraw\n \t * @desc Called after the `chart` datasets at the given `args.index` have been drawn\n\t * (datasets are drawn in the reverse order). Note that this hook will not be called\n\t * if the datasets drawing has been previously cancelled.\n\t * @param {Chart} chart - The chart instance.\n\t * @param {Object} args - The call arguments.\n\t * @param {Object} args.index - The dataset index.\n\t * @param {Number} args.meta - The dataset metadata.\n\t * @param {Number} args.easingValue - The current animation value, between 0.0 and 1.0.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#beforeEvent\n \t * @desc Called before processing the specified `event`. If any plugin returns `false`,\n\t * the event will be discarded.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {IEvent} event - The event object.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#afterEvent\n\t * @desc Called after the `event` has been consumed. Note that this hook\n\t * will not be called if the `event` has been previously discarded.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {IEvent} event - The event object.\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#resize\n\t * @desc Called after the chart as been resized.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Number} size - The new canvas display size (eq. canvas.style width & height).\n\t * @param {Object} options - The plugin options.\n\t */\n\t/**\n\t * @method IPlugin#destroy\n\t * @desc Called after the chart as been destroyed.\n\t * @param {Chart.Controller} chart - The chart instance.\n\t * @param {Object} options - The plugin options.\n\t */\n\n\t/**\n\t * Provided for backward compatibility, use Chart.plugins instead\n\t * @namespace Chart.pluginService\n\t * @deprecated since version 2.1.5\n\t * @todo remove at version 3\n\t * @private\n\t */\n\tChart.pluginService = Chart.plugins;\n\n\t/**\n\t * Provided for backward compatibility, inheriting from Chart.PlugingBase has no\n\t * effect, instead simply create/register plugins via plain JavaScript objects.\n\t * @interface Chart.PluginBase\n\t * @deprecated since version 2.5.0\n\t * @todo remove at version 3\n\t * @private\n\t */\n\tChart.PluginBase = Chart.Element.extend({});\n};\n","/* global window: false */\n'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.global.animation = {\n\t\tduration: 1000,\n\t\teasing: 'easeOutQuart',\n\t\tonProgress: helpers.noop,\n\t\tonComplete: helpers.noop\n\t};\n\n\tChart.Animation = Chart.Element.extend({\n\t\tchart: null, // the animation associated chart instance\n\t\tcurrentStep: 0, // the current animation step\n\t\tnumSteps: 60, // default number of steps\n\t\teasing: '', // the easing to use for this animation\n\t\trender: null, // render function used by the animation service\n\n\t\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\n\t\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\n\t});\n\n\tChart.animationService = {\n\t\tframeDuration: 17,\n\t\tanimations: [],\n\t\tdropFrames: 0,\n\t\trequest: null,\n\n\t\t/**\n\t\t * @param {Chart} chart - The chart to animate.\n\t\t * @param {Chart.Animation} animation - The animation that we will animate.\n\t\t * @param {Number} duration - The animation duration in ms.\n\t\t * @param {Boolean} lazy - if true, the chart is not marked as animating to enable more responsive interactions\n\t\t */\n\t\taddAnimation: function(chart, animation, duration, lazy) {\n\t\t\tvar animations = this.animations;\n\t\t\tvar i, ilen;\n\n\t\t\tanimation.chart = chart;\n\n\t\t\tif (!lazy) {\n\t\t\t\tchart.animating = true;\n\t\t\t}\n\n\t\t\tfor (i=0, ilen=animations.length; i < ilen; ++i) {\n\t\t\t\tif (animations[i].chart === chart) {\n\t\t\t\t\tanimations[i] = animation;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanimations.push(animation);\n\n\t\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\n\t\t\tif (animations.length === 1) {\n\t\t\t\tthis.requestAnimationFrame();\n\t\t\t}\n\t\t},\n\n\t\tcancelAnimation: function(chart) {\n\t\t\tvar index = helpers.findIndex(this.animations, function(animation) {\n\t\t\t\treturn animation.chart === chart;\n\t\t\t});\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.animations.splice(index, 1);\n\t\t\t\tchart.animating = false;\n\t\t\t}\n\t\t},\n\n\t\trequestAnimationFrame: function() {\n\t\t\tvar me = this;\n\t\t\tif (me.request === null) {\n\t\t\t\t// Skip animation frame requests until the active one is executed.\n\t\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\n\t\t\t\t// and 'mouseout' events will trigger multiple renders.\n\t\t\t\tme.request = helpers.requestAnimFrame.call(window, function() {\n\t\t\t\t\tme.request = null;\n\t\t\t\t\tme.startDigest();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tstartDigest: function() {\n\t\t\tvar me = this;\n\t\t\tvar startTime = Date.now();\n\t\t\tvar framesToDrop = 0;\n\n\t\t\tif (me.dropFrames > 1) {\n\t\t\t\tframesToDrop = Math.floor(me.dropFrames);\n\t\t\t\tme.dropFrames = me.dropFrames % 1;\n\t\t\t}\n\n\t\t\tme.advance(1 + framesToDrop);\n\n\t\t\tvar endTime = Date.now();\n\n\t\t\tme.dropFrames += (endTime - startTime) / me.frameDuration;\n\n\t\t\t// Do we have more stuff to animate?\n\t\t\tif (me.animations.length > 0) {\n\t\t\t\tme.requestAnimationFrame();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tadvance: function(count) {\n\t\t\tvar animations = this.animations;\n\t\t\tvar animation, chart;\n\t\t\tvar i = 0;\n\n\t\t\twhile (i < animations.length) {\n\t\t\t\tanimation = animations[i];\n\t\t\t\tchart = animation.chart;\n\n\t\t\t\tanimation.currentStep = (animation.currentStep || 0) + count;\n\t\t\t\tanimation.currentStep = Math.min(animation.currentStep, animation.numSteps);\n\n\t\t\t\thelpers.callback(animation.render, [chart, animation], chart);\n\t\t\t\thelpers.callback(animation.onAnimationProgress, [animation], chart);\n\n\t\t\t\tif (animation.currentStep >= animation.numSteps) {\n\t\t\t\t\thelpers.callback(animation.onAnimationComplete, [animation], chart);\n\t\t\t\t\tchart.animating = false;\n\t\t\t\t\tanimations.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\t++i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Provided for backward compatibility, use Chart.Animation instead\n\t * @prop Chart.Animation#animationObject\n\t * @deprecated since version 2.6.0\n\t * @todo remove at version 3\n\t */\n\tObject.defineProperty(Chart.Animation.prototype, 'animationObject', {\n\t\tget: function() {\n\t\t\treturn this;\n\t\t}\n\t});\n\n\t/**\n\t * Provided for backward compatibility, use Chart.Animation#chart instead\n\t * @prop Chart.Animation#chartInstance\n\t * @deprecated since version 2.6.0\n\t * @todo remove at version 3\n\t */\n\tObject.defineProperty(Chart.Animation.prototype, 'chartInstance', {\n\t\tget: function() {\n\t\t\treturn this.chart;\n\t\t},\n\t\tset: function(value) {\n\t\t\tthis.chart = value;\n\t\t}\n\t});\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar plugins = Chart.plugins;\n\tvar platform = Chart.platform;\n\n\t// Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\n\t// Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t// Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\n\t// Controllers available for dataset visualization eg. bar, line, slice, etc.\n\tChart.controllers = {};\n\n\t/**\n\t * Initializes the given config with global and chart default values.\n\t */\n\tfunction initConfig(config) {\n\t\tconfig = config || {};\n\n\t\t// Do NOT use configMerge() for the data object because this method merges arrays\n\t\t// and so would change references to labels and datasets, preventing data updates.\n\t\tvar data = config.data = config.data || {};\n\t\tdata.datasets = data.datasets || [];\n\t\tdata.labels = data.labels || [];\n\n\t\tconfig.options = helpers.configMerge(\n\t\t\tChart.defaults.global,\n\t\t\tChart.defaults[config.type],\n\t\t\tconfig.options || {});\n\n\t\treturn config;\n\t}\n\n\t/**\n\t * Updates the config of the chart\n\t * @param chart {Chart} chart to update the options for\n\t */\n\tfunction updateConfig(chart) {\n\t\tvar newOptions = chart.options;\n\n\t\t// Update Scale(s) with options\n\t\tif (newOptions.scale) {\n\t\t\tchart.scale.options = newOptions.scale;\n\t\t} else if (newOptions.scales) {\n\t\t\tnewOptions.scales.xAxes.concat(newOptions.scales.yAxes).forEach(function(scaleOptions) {\n\t\t\t\tchart.scales[scaleOptions.id].options = scaleOptions;\n\t\t\t});\n\t\t}\n\n\t\t// Tooltip\n\t\tchart.tooltip._options = newOptions.tooltips;\n\t}\n\n\tfunction positionIsHorizontal(position) {\n\t\treturn position === 'top' || position === 'bottom';\n\t}\n\n\thelpers.extend(Chart.prototype, /** @lends Chart */ {\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tconstruct: function(item, config) {\n\t\t\tvar me = this;\n\n\t\t\tconfig = initConfig(config);\n\n\t\t\tvar context = platform.acquireContext(item, config);\n\t\t\tvar canvas = context && context.canvas;\n\t\t\tvar height = canvas && canvas.height;\n\t\t\tvar width = canvas && canvas.width;\n\n\t\t\tme.id = helpers.uid();\n\t\t\tme.ctx = context;\n\t\t\tme.canvas = canvas;\n\t\t\tme.config = config;\n\t\t\tme.width = width;\n\t\t\tme.height = height;\n\t\t\tme.aspectRatio = height? width / height : null;\n\t\t\tme.options = config.options;\n\t\t\tme._bufferedRender = false;\n\n\t\t\t/**\n\t\t\t * Provided for backward compatibility, Chart and Chart.Controller have been merged,\n\t\t\t * the \"instance\" still need to be defined since it might be called from plugins.\n\t\t\t * @prop Chart#chart\n\t\t\t * @deprecated since version 2.6.0\n\t\t\t * @todo remove at version 3\n\t\t\t * @private\n\t\t\t */\n\t\t\tme.chart = me;\n\t\t\tme.controller = me;  // chart.chart.controller #inception\n\n\t\t\t// Add the chart instance to the global namespace\n\t\t\tChart.instances[me.id] = me;\n\n\t\t\t// Define alias to the config data: `chart.data === chart.config.data`\n\t\t\tObject.defineProperty(me, 'data', {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn me.config.data;\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\tme.config.data = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!context || !canvas) {\n\t\t\t\t// The given item is not a compatible context2d element, let's return before finalizing\n\t\t\t\t// the chart initialization but after setting basic chart / controller properties that\n\t\t\t\t// can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n\t\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\n\t\t\t\tconsole.error(\"Failed to create chart: can't acquire context from the given item\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tme.initialize();\n\t\t\tme.update();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\n\t\t\t// Before init plugin notification\n\t\t\tplugins.notify(me, 'beforeInit');\n\n\t\t\thelpers.retinaScale(me);\n\n\t\t\tme.bindEvents();\n\n\t\t\tif (me.options.responsive) {\n\t\t\t\t// Initial resize before chart draws (must be silent to preserve initial animations).\n\t\t\t\tme.resize(true);\n\t\t\t}\n\n\t\t\t// Make sure scales have IDs and are built before we build any controllers.\n\t\t\tme.ensureScalesHaveIDs();\n\t\t\tme.buildScales();\n\t\t\tme.initToolTip();\n\n\t\t\t// After init plugin notification\n\t\t\tplugins.notify(me, 'afterInit');\n\n\t\t\treturn me;\n\t\t},\n\n\t\tclear: function() {\n\t\t\thelpers.clear(this);\n\t\t\treturn this;\n\t\t},\n\n\t\tstop: function() {\n\t\t\t// Stops any current animation loop occurring\n\t\t\tChart.animationService.cancelAnimation(this);\n\t\t\treturn this;\n\t\t},\n\n\t\tresize: function(silent) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tvar canvas = me.canvas;\n\t\t\tvar aspectRatio = (options.maintainAspectRatio && me.aspectRatio) || null;\n\n\t\t\t// the canvas render width and height will be casted to integers so make sure that\n\t\t\t// the canvas display style uses the same integer values to avoid blurring effect.\n\t\t\tvar newWidth = Math.floor(helpers.getMaximumWidth(canvas));\n\t\t\tvar newHeight = Math.floor(aspectRatio? newWidth / aspectRatio : helpers.getMaximumHeight(canvas));\n\n\t\t\tif (me.width === newWidth && me.height === newHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcanvas.width = me.width = newWidth;\n\t\t\tcanvas.height = me.height = newHeight;\n\t\t\tcanvas.style.width = newWidth + 'px';\n\t\t\tcanvas.style.height = newHeight + 'px';\n\n\t\t\thelpers.retinaScale(me);\n\n\t\t\tif (!silent) {\n\t\t\t\t// Notify any plugins about the resize\n\t\t\t\tvar newSize = {width: newWidth, height: newHeight};\n\t\t\t\tplugins.notify(me, 'resize', [newSize]);\n\n\t\t\t\t// Notify of resize\n\t\t\t\tif (me.options.onResize) {\n\t\t\t\t\tme.options.onResize(me, newSize);\n\t\t\t\t}\n\n\t\t\t\tme.stop();\n\t\t\t\tme.update(me.options.responsiveAnimationDuration);\n\t\t\t}\n\t\t},\n\n\t\tensureScalesHaveIDs: function() {\n\t\t\tvar options = this.options;\n\t\t\tvar scalesOptions = options.scales || {};\n\t\t\tvar scaleOptions = options.scale;\n\n\t\t\thelpers.each(scalesOptions.xAxes, function(xAxisOptions, index) {\n\t\t\t\txAxisOptions.id = xAxisOptions.id || ('x-axis-' + index);\n\t\t\t});\n\n\t\t\thelpers.each(scalesOptions.yAxes, function(yAxisOptions, index) {\n\t\t\t\tyAxisOptions.id = yAxisOptions.id || ('y-axis-' + index);\n\t\t\t});\n\n\t\t\tif (scaleOptions) {\n\t\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Builds a map of scale ID to scale object for future lookup.\n\t\t */\n\t\tbuildScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tvar scales = me.scales = {};\n\t\t\tvar items = [];\n\n\t\t\tif (options.scales) {\n\t\t\t\titems = items.concat(\n\t\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\n\t\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category', dposition: 'bottom'};\n\t\t\t\t\t}),\n\t\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\n\t\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear', dposition: 'left'};\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (options.scale) {\n\t\t\t\titems.push({\n\t\t\t\t\toptions: options.scale,\n\t\t\t\t\tdtype: 'radialLinear',\n\t\t\t\t\tisDefault: true,\n\t\t\t\t\tdposition: 'chartArea'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelpers.each(items, function(item) {\n\t\t\t\tvar scaleOptions = item.options;\n\t\t\t\tvar scaleType = helpers.getValueOrDefault(scaleOptions.type, item.dtype);\n\t\t\t\tvar scaleClass = Chart.scaleService.getScaleConstructor(scaleType);\n\t\t\t\tif (!scaleClass) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (positionIsHorizontal(scaleOptions.position) !== positionIsHorizontal(item.dposition)) {\n\t\t\t\t\tscaleOptions.position = item.dposition;\n\t\t\t\t}\n\n\t\t\t\tvar scale = new scaleClass({\n\t\t\t\t\tid: scaleOptions.id,\n\t\t\t\t\toptions: scaleOptions,\n\t\t\t\t\tctx: me.ctx,\n\t\t\t\t\tchart: me\n\t\t\t\t});\n\n\t\t\t\tscales[scale.id] = scale;\n\n\t\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\n\t\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\n\t\t\t\t// make the logic easier and remove some useless? custom code.\n\t\t\t\tif (item.isDefault) {\n\t\t\t\t\tme.scale = scale;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tChart.scaleService.addScalesToLayout(this);\n\t\t},\n\n\t\tbuildOrUpdateControllers: function() {\n\t\t\tvar me = this;\n\t\t\tvar types = [];\n\t\t\tvar newControllers = [];\n\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\t\t\tif (!meta.type) {\n\t\t\t\t\tmeta.type = dataset.type || me.config.type;\n\t\t\t\t}\n\n\t\t\t\ttypes.push(meta.type);\n\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.updateIndex(datasetIndex);\n\t\t\t\t} else {\n\t\t\t\t\tvar ControllerClass = Chart.controllers[meta.type];\n\t\t\t\t\tif (ControllerClass === undefined) {\n\t\t\t\t\t\tthrow new Error('\"' + meta.type + '\" is not a chart type.');\n\t\t\t\t\t}\n\n\t\t\t\t\tmeta.controller = new ControllerClass(me, datasetIndex);\n\t\t\t\t\tnewControllers.push(meta.controller);\n\t\t\t\t}\n\t\t\t}, me);\n\n\t\t\tif (types.length > 1) {\n\t\t\t\tfor (var i = 1; i < types.length; i++) {\n\t\t\t\t\tif (types[i] !== types[i - 1]) {\n\t\t\t\t\t\tme.isCombo = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newControllers;\n\t\t},\n\n\t\t/**\n\t\t * Reset the elements of all datasets\n\t\t * @private\n\t\t */\n\t\tresetElements: function() {\n\t\t\tvar me = this;\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\n\t\t\t}, me);\n\t\t},\n\n\t\t/**\n\t\t* Resets the chart back to it's state before the initial animation\n\t\t*/\n\t\treset: function() {\n\t\t\tthis.resetElements();\n\t\t\tthis.tooltip.initialize();\n\t\t},\n\n\t\tupdate: function(animationDuration, lazy) {\n\t\t\tvar me = this;\n\n\t\t\tupdateConfig(me);\n\n\t\t\tif (plugins.notify(me, 'beforeUpdate') === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// In case the entire data object changed\n\t\t\tme.tooltip._data = me.data;\n\n\t\t\t// Make sure dataset controllers are updated and new controllers are reset\n\t\t\tvar newControllers = me.buildOrUpdateControllers();\n\n\t\t\t// Make sure all dataset controllers have correct meta data counts\n\t\t\thelpers.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tme.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements();\n\t\t\t}, me);\n\n\t\t\tme.updateLayout();\n\n\t\t\t// Can only reset the new controllers after the scales have been updated\n\t\t\thelpers.each(newControllers, function(controller) {\n\t\t\t\tcontroller.reset();\n\t\t\t});\n\n\t\t\tme.updateDatasets();\n\n\t\t\t// Do this before render so that any plugins that need final scale updates can use it\n\t\t\tplugins.notify(me, 'afterUpdate');\n\n\t\t\tif (me._bufferedRender) {\n\t\t\t\tme._bufferedRequest = {\n\t\t\t\t\tlazy: lazy,\n\t\t\t\t\tduration: animationDuration\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tme.render(animationDuration, lazy);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t\t * @private\n\t\t */\n\t\tupdateLayout: function() {\n\t\t\tvar me = this;\n\n\t\t\tif (plugins.notify(me, 'beforeLayout') === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tChart.layoutService.update(this, this.width, this.height);\n\n\t\t\t/**\n\t\t\t * Provided for backward compatibility, use `afterLayout` instead.\n\t\t\t * @method IPlugin#afterScaleUpdate\n\t\t\t * @deprecated since version 2.5.0\n\t\t\t * @todo remove at version 3\n\t\t\t * @private\n\t\t\t */\n\t\t\tplugins.notify(me, 'afterScaleUpdate');\n\t\t\tplugins.notify(me, 'afterLayout');\n\t\t},\n\n\t\t/**\n\t\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t\t * @private\n\t\t */\n\t\tupdateDatasets: function() {\n\t\t\tvar me = this;\n\n\t\t\tif (plugins.notify(me, 'beforeDatasetsUpdate') === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\tme.updateDataset(i);\n\t\t\t}\n\n\t\t\tplugins.notify(me, 'afterDatasetsUpdate');\n\t\t},\n\n\t\t/**\n\t\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t\t * @private\n\t\t */\n\t\tupdateDataset: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getDatasetMeta(index);\n\t\t\tvar args = {\n\t\t\t\tmeta: meta,\n\t\t\t\tindex: index\n\t\t\t};\n\n\t\t\tif (plugins.notify(me, 'beforeDatasetUpdate', [args]) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmeta.controller.update();\n\n\t\t\tplugins.notify(me, 'afterDatasetUpdate', [args]);\n\t\t},\n\n\t\trender: function(duration, lazy) {\n\t\t\tvar me = this;\n\n\t\t\tif (plugins.notify(me, 'beforeRender') === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar animationOptions = me.options.animation;\n\t\t\tvar onComplete = function(animation) {\n\t\t\t\tplugins.notify(me, 'afterRender');\n\t\t\t\thelpers.callback(animationOptions && animationOptions.onComplete, [animation], me);\n\t\t\t};\n\n\t\t\tif (animationOptions && ((typeof duration !== 'undefined' && duration !== 0) || (typeof duration === 'undefined' && animationOptions.duration !== 0))) {\n\t\t\t\tvar animation = new Chart.Animation({\n\t\t\t\t\tnumSteps: (duration || animationOptions.duration) / 16.66, // 60 fps\n\t\t\t\t\teasing: animationOptions.easing,\n\n\t\t\t\t\trender: function(chart, animationObject) {\n\t\t\t\t\t\tvar easingFunction = helpers.easingEffects[animationObject.easing];\n\t\t\t\t\t\tvar currentStep = animationObject.currentStep;\n\t\t\t\t\t\tvar stepDecimal = currentStep / animationObject.numSteps;\n\n\t\t\t\t\t\tchart.draw(easingFunction(stepDecimal), stepDecimal, currentStep);\n\t\t\t\t\t},\n\n\t\t\t\t\tonAnimationProgress: animationOptions.onProgress,\n\t\t\t\t\tonAnimationComplete: onComplete\n\t\t\t\t});\n\n\t\t\t\tChart.animationService.addAnimation(me, animation, duration, lazy);\n\t\t\t} else {\n\t\t\t\tme.draw();\n\n\t\t\t\t// See https://github.com/chartjs/Chart.js/issues/3781\n\t\t\t\tonComplete(new Chart.Animation({numSteps: 0, chart: me}));\n\t\t\t}\n\n\t\t\treturn me;\n\t\t},\n\n\t\tdraw: function(easingValue) {\n\t\t\tvar me = this;\n\n\t\t\tme.clear();\n\n\t\t\tif (easingValue === undefined || easingValue === null) {\n\t\t\t\teasingValue = 1;\n\t\t\t}\n\n\t\t\tme.transition(easingValue);\n\n\t\t\tif (plugins.notify(me, 'beforeDraw', [easingValue]) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Draw all the scales\n\t\t\thelpers.each(me.boxes, function(box) {\n\t\t\t\tbox.draw(me.chartArea);\n\t\t\t}, me);\n\n\t\t\tif (me.scale) {\n\t\t\t\tme.scale.draw();\n\t\t\t}\n\n\t\t\tme.drawDatasets(easingValue);\n\n\t\t\t// Finally draw the tooltip\n\t\t\tme.tooltip.draw();\n\n\t\t\tplugins.notify(me, 'afterDraw', [easingValue]);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\ttransition: function(easingValue) {\n\t\t\tvar me = this;\n\n\t\t\tfor (var i=0, ilen=(me.data.datasets || []).length; i<ilen; ++i) {\n\t\t\t\tif (me.isDatasetVisible(i)) {\n\t\t\t\t\tme.getDatasetMeta(i).controller.transition(easingValue);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.tooltip.transition(easingValue);\n\t\t},\n\n\t\t/**\n\t\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t\t * @private\n\t\t */\n\t\tdrawDatasets: function(easingValue) {\n\t\t\tvar me = this;\n\n\t\t\tif (plugins.notify(me, 'beforeDatasetsDraw', [easingValue]) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Draw datasets reversed to support proper line stacking\n\t\t\tfor (var i=(me.data.datasets || []).length - 1; i >= 0; --i) {\n\t\t\t\tif (me.isDatasetVisible(i)) {\n\t\t\t\t\tme.drawDataset(i, easingValue);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tplugins.notify(me, 'afterDatasetsDraw', [easingValue]);\n\t\t},\n\n\t\t/**\n\t\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t\t * @private\n\t\t */\n\t\tdrawDataset: function(index, easingValue) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getDatasetMeta(index);\n\t\t\tvar args = {\n\t\t\t\tmeta: meta,\n\t\t\t\tindex: index,\n\t\t\t\teasingValue: easingValue\n\t\t\t};\n\n\t\t\tif (plugins.notify(me, 'beforeDatasetDraw', [args]) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmeta.controller.draw(easingValue);\n\n\t\t\tplugins.notify(me, 'afterDatasetDraw', [args]);\n\t\t},\n\n\t\t// Get the single element that was clicked on\n\t\t// @return : An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\n\t\tgetElementAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.single(this, e);\n\t\t},\n\n\t\tgetElementsAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.label(this, e, {intersect: true});\n\t\t},\n\n\t\tgetElementsAtXAxis: function(e) {\n\t\t\treturn Chart.Interaction.modes['x-axis'](this, e, {intersect: true});\n\t\t},\n\n\t\tgetElementsAtEventForMode: function(e, mode, options) {\n\t\t\tvar method = Chart.Interaction.modes[mode];\n\t\t\tif (typeof method === 'function') {\n\t\t\t\treturn method(this, e, options);\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\n\t\tgetDatasetAtEvent: function(e) {\n\t\t\treturn Chart.Interaction.modes.dataset(this, e, {intersect: true});\n\t\t},\n\n\t\tgetDatasetMeta: function(datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.data.datasets[datasetIndex];\n\t\t\tif (!dataset._meta) {\n\t\t\t\tdataset._meta = {};\n\t\t\t}\n\n\t\t\tvar meta = dataset._meta[me.id];\n\t\t\tif (!meta) {\n\t\t\t\tmeta = dataset._meta[me.id] = {\n\t\t\t\t\ttype: null,\n\t\t\t\t\tdata: [],\n\t\t\t\t\tdataset: null,\n\t\t\t\t\tcontroller: null,\n\t\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\n\t\t\t\t\txAxisID: null,\n\t\t\t\t\tyAxisID: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn meta;\n\t\t},\n\n\t\tgetVisibleDatasetCount: function() {\n\t\t\tvar count = 0;\n\t\t\tfor (var i = 0, ilen = this.data.datasets.length; i<ilen; ++i) {\n\t\t\t\tif (this.isDatasetVisible(i)) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\tisDatasetVisible: function(datasetIndex) {\n\t\t\tvar meta = this.getDatasetMeta(datasetIndex);\n\n\t\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n\t\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n\t\t\treturn typeof meta.hidden === 'boolean'? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\n\t\t},\n\n\t\tgenerateLegend: function() {\n\t\t\treturn this.options.legendCallback(this);\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tvar me = this;\n\t\t\tvar canvas = me.canvas;\n\t\t\tvar meta, i, ilen;\n\n\t\t\tme.stop();\n\n\t\t\t// dataset controllers need to cleanup associated data\n\t\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n\t\t\t\tmeta = me.getDatasetMeta(i);\n\t\t\t\tif (meta.controller) {\n\t\t\t\t\tmeta.controller.destroy();\n\t\t\t\t\tmeta.controller = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (canvas) {\n\t\t\t\tme.unbindEvents();\n\t\t\t\thelpers.clear(me);\n\t\t\t\tplatform.releaseContext(me.ctx);\n\t\t\t\tme.canvas = null;\n\t\t\t\tme.ctx = null;\n\t\t\t}\n\n\t\t\tplugins.notify(me, 'destroy');\n\n\t\t\tdelete Chart.instances[me.id];\n\t\t},\n\n\t\ttoBase64Image: function() {\n\t\t\treturn this.canvas.toDataURL.apply(this.canvas, arguments);\n\t\t},\n\n\t\tinitToolTip: function() {\n\t\t\tvar me = this;\n\t\t\tme.tooltip = new Chart.Tooltip({\n\t\t\t\t_chart: me,\n\t\t\t\t_chartInstance: me,            // deprecated, backward compatibility\n\t\t\t\t_data: me.data,\n\t\t\t\t_options: me.options.tooltips\n\t\t\t}, me);\n\t\t\tme.tooltip.initialize();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tbindEvents: function() {\n\t\t\tvar me = this;\n\t\t\tvar listeners = me._listeners = {};\n\t\t\tvar listener = function() {\n\t\t\t\tme.eventHandler.apply(me, arguments);\n\t\t\t};\n\n\t\t\thelpers.each(me.options.events, function(type) {\n\t\t\t\tplatform.addEventListener(me, type, listener);\n\t\t\t\tlisteners[type] = listener;\n\t\t\t});\n\n\t\t\t// Responsiveness is currently based on the use of an iframe, however this method causes\n\t\t\t// performance issues and could be troublesome when used with ad blockers. So make sure\n\t\t\t// that the user is still able to create a chart without iframe when responsive is false.\n\t\t\t// See https://github.com/chartjs/Chart.js/issues/2210\n\t\t\tif (me.options.responsive) {\n\t\t\t\tlistener = function() {\n\t\t\t\t\tme.resize();\n\t\t\t\t};\n\n\t\t\t\tplatform.addEventListener(me, 'resize', listener);\n\t\t\t\tlisteners.resize = listener;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tunbindEvents: function() {\n\t\t\tvar me = this;\n\t\t\tvar listeners = me._listeners;\n\t\t\tif (!listeners) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdelete me._listeners;\n\t\t\thelpers.each(listeners, function(listener, type) {\n\t\t\t\tplatform.removeEventListener(me, type, listener);\n\t\t\t});\n\t\t},\n\n\t\tupdateHoverStyle: function(elements, mode, enabled) {\n\t\t\tvar method = enabled? 'setHoverStyle' : 'removeHoverStyle';\n\t\t\tvar element, i, ilen;\n\n\t\t\tfor (i=0, ilen=elements.length; i<ilen; ++i) {\n\t\t\t\telement = elements[i];\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[method](element);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\teventHandler: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar tooltip = me.tooltip;\n\n\t\t\tif (plugins.notify(me, 'beforeEvent', [e]) === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Buffer any update calls so that renders do not occur\n\t\t\tme._bufferedRender = true;\n\t\t\tme._bufferedRequest = null;\n\n\t\t\tvar changed = me.handleEvent(e);\n\t\t\tchanged |= tooltip && tooltip.handleEvent(e);\n\n\t\t\tplugins.notify(me, 'afterEvent', [e]);\n\n\t\t\tvar bufferedRequest = me._bufferedRequest;\n\t\t\tif (bufferedRequest) {\n\t\t\t\t// If we have an update that was triggered, we need to do a normal render\n\t\t\t\tme.render(bufferedRequest.duration, bufferedRequest.lazy);\n\t\t\t} else if (changed && !me.animating) {\n\t\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\n\t\t\t\tme.stop();\n\n\t\t\t\t// We only need to render at this point. Updating will cause scales to be\n\t\t\t\t// recomputed generating flicker & using more memory than necessary.\n\t\t\t\tme.render(me.options.hover.animationDuration, true);\n\t\t\t}\n\n\t\t\tme._bufferedRender = false;\n\t\t\tme._bufferedRequest = null;\n\n\t\t\treturn me;\n\t\t},\n\n\t\t/**\n\t\t * Handle an event\n\t\t * @private\n\t\t * @param {IEvent} event the event to handle\n\t\t * @return {Boolean} true if the chart needs to re-render\n\t\t */\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options || {};\n\t\t\tvar hoverOptions = options.hover;\n\t\t\tvar changed = false;\n\n\t\t\tme.lastActive = me.lastActive || [];\n\n\t\t\t// Find Active Elements for hover and tooltips\n\t\t\tif (e.type === 'mouseout') {\n\t\t\t\tme.active = [];\n\t\t\t} else {\n\t\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions);\n\t\t\t}\n\n\t\t\t// On Hover hook\n\t\t\tif (hoverOptions.onHover) {\n\t\t\t\t// Need to call with native event here to not break backwards compatibility\n\t\t\t\thoverOptions.onHover.call(me, e.native, me.active);\n\t\t\t}\n\n\t\t\tif (e.type === 'mouseup' || e.type === 'click') {\n\t\t\t\tif (options.onClick) {\n\t\t\t\t\t// Use e.native here for backwards compatibility\n\t\t\t\t\toptions.onClick.call(me, e.native, me.active);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove styling for last active (even if it may still be active)\n\t\t\tif (me.lastActive.length) {\n\t\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\n\t\t\t}\n\n\t\t\t// Built in hover styling\n\t\t\tif (me.active.length && hoverOptions.mode) {\n\t\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\n\t\t\t}\n\n\t\t\tchanged = !helpers.arrayEquals(me.active, me.lastActive);\n\n\t\t\t// Remember Last Actives\n\t\t\tme.lastActive = me.active;\n\n\t\t\treturn changed;\n\t\t}\n\t});\n\n\t/**\n\t * Provided for backward compatibility, use Chart instead.\n\t * @class Chart.Controller\n\t * @deprecated since version 2.6.0\n\t * @todo remove at version 3\n\t * @private\n\t */\n\tChart.Controller = Chart;\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\n\n\t/**\n\t * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n\t * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n\t * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\n\t */\n\tfunction listenArrayEvents(array, listener) {\n\t\tif (array._chartjs) {\n\t\t\tarray._chartjs.listeners.push(listener);\n\t\t\treturn;\n\t\t}\n\n\t\tObject.defineProperty(array, '_chartjs', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: {\n\t\t\t\tlisteners: [listener]\n\t\t\t}\n\t\t});\n\n\t\tarrayEvents.forEach(function(key) {\n\t\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\n\t\t\tvar base = array[key];\n\n\t\t\tObject.defineProperty(array, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: function() {\n\t\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\t\tvar res = base.apply(this, args);\n\n\t\t\t\t\thelpers.each(array._chartjs.listeners, function(object) {\n\t\t\t\t\t\tif (typeof object[method] === 'function') {\n\t\t\t\t\t\t\tobject[method].apply(object, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Removes the given array event listener and cleanup extra attached properties (such as\n\t * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n\t */\n\tfunction unlistenArrayEvents(array, listener) {\n\t\tvar stub = array._chartjs;\n\t\tif (!stub) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar listeners = stub.listeners;\n\t\tvar index = listeners.indexOf(listener);\n\t\tif (index !== -1) {\n\t\t\tlisteners.splice(index, 1);\n\t\t}\n\n\t\tif (listeners.length > 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tarrayEvents.forEach(function(key) {\n\t\t\tdelete array[key];\n\t\t});\n\n\t\tdelete array._chartjs;\n\t}\n\n\t// Base class for all dataset controllers (line, bar, etc)\n\tChart.DatasetController = function(chart, datasetIndex) {\n\t\tthis.initialize(chart, datasetIndex);\n\t};\n\n\thelpers.extend(Chart.DatasetController.prototype, {\n\n\t\t/**\n\t\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdatasetElementType: null,\n\n\t\t/**\n\t\t * Element type used to generate a meta data (e.g. Chart.element.Point).\n\t\t * @type {Chart.core.element}\n\t\t */\n\t\tdataElementType: null,\n\n\t\tinitialize: function(chart, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tme.chart = chart;\n\t\t\tme.index = datasetIndex;\n\t\t\tme.linkScales();\n\t\t\tme.addElements();\n\t\t},\n\n\t\tupdateIndex: function(datasetIndex) {\n\t\t\tthis.index = datasetIndex;\n\t\t},\n\n\t\tlinkScales: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar dataset = me.getDataset();\n\n\t\t\tif (meta.xAxisID === null) {\n\t\t\t\tmeta.xAxisID = dataset.xAxisID || me.chart.options.scales.xAxes[0].id;\n\t\t\t}\n\t\t\tif (meta.yAxisID === null) {\n\t\t\t\tmeta.yAxisID = dataset.yAxisID || me.chart.options.scales.yAxes[0].id;\n\t\t\t}\n\t\t},\n\n\t\tgetDataset: function() {\n\t\t\treturn this.chart.data.datasets[this.index];\n\t\t},\n\n\t\tgetMeta: function() {\n\t\t\treturn this.chart.getDatasetMeta(this.index);\n\t\t},\n\n\t\tgetScaleForId: function(scaleID) {\n\t\t\treturn this.chart.scales[scaleID];\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.update(true);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tdestroy: function() {\n\t\t\tif (this._data) {\n\t\t\t\tunlistenArrayEvents(this._data, this);\n\t\t\t}\n\t\t},\n\n\t\tcreateMetaDataset: function() {\n\t\t\tvar me = this;\n\t\t\tvar type = me.datasetElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart,\n\t\t\t\t_datasetIndex: me.index\n\t\t\t});\n\t\t},\n\n\t\tcreateMetaData: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar type = me.dataElementType;\n\t\t\treturn type && new type({\n\t\t\t\t_chart: me.chart,\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index\n\t\t\t});\n\t\t},\n\n\t\taddElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data || [];\n\t\t\tvar metaData = meta.data;\n\t\t\tvar i, ilen;\n\n\t\t\tfor (i=0, ilen=data.length; i<ilen; ++i) {\n\t\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\n\t\t\t}\n\n\t\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\n\t\t},\n\n\t\taddElementAndReset: function(index) {\n\t\t\tvar element = this.createMetaData(index);\n\t\t\tthis.getMeta().data.splice(index, 0, element);\n\t\t\tthis.updateElement(element, index, true);\n\t\t},\n\n\t\tbuildOrUpdateElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar data = dataset.data || (dataset.data = []);\n\n\t\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\n\t\t\t// real-time charts), we need to monitor these data modifications and synchronize\n\t\t\t// the internal meta data accordingly.\n\t\t\tif (me._data !== data) {\n\t\t\t\tif (me._data) {\n\t\t\t\t\t// This case happens when the user replaced the data array instance.\n\t\t\t\t\tunlistenArrayEvents(me._data, me);\n\t\t\t\t}\n\n\t\t\t\tlistenArrayEvents(data, me);\n\t\t\t\tme._data = data;\n\t\t\t}\n\n\t\t\t// Re-sync meta data in case the user replaced the data array or if we missed\n\t\t\t// any updates and so make sure that we handle number of datapoints changing.\n\t\t\tme.resyncElements();\n\t\t},\n\n\t\tupdate: helpers.noop,\n\n\t\ttransition: function(easingValue) {\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar elements = meta.data || [];\n\t\t\tvar ilen = elements.length;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i<ilen; ++i) {\n\t\t\t\telements[i].transition(easingValue);\n\t\t\t}\n\n\t\t\tif (meta.dataset) {\n\t\t\t\tmeta.dataset.transition(easingValue);\n\t\t\t}\n\t\t},\n\n\t\tdraw: function() {\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar elements = meta.data || [];\n\t\t\tvar ilen = elements.length;\n\t\t\tvar i = 0;\n\n\t\t\tif (meta.dataset) {\n\t\t\t\tmeta.dataset.draw();\n\t\t\t}\n\n\t\t\tfor (; i<ilen; ++i) {\n\t\t\t\telements[i].draw();\n\t\t\t}\n\t\t},\n\n\t\tremoveHoverStyle: function(element, elementOpts) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);\n\t\t},\n\n\t\tsetHoverStyle: function(element) {\n\t\t\tvar dataset = this.chart.data.datasets[element._datasetIndex],\n\t\t\t\tindex = element._index,\n\t\t\t\tcustom = element.custom || {},\n\t\t\t\tvalueOrDefault = helpers.getValueAtIndexOrDefault,\n\t\t\t\tgetHoverColor = helpers.getHoverColor,\n\t\t\t\tmodel = element._model;\n\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : valueOrDefault(dataset.hoverBackgroundColor, index, getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : valueOrDefault(dataset.hoverBorderColor, index, getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : valueOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tresyncElements: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar data = me.getDataset().data;\n\t\t\tvar numMeta = meta.data.length;\n\t\t\tvar numData = data.length;\n\n\t\t\tif (numData < numMeta) {\n\t\t\t\tmeta.data.splice(numData, numMeta - numData);\n\t\t\t} else if (numData > numMeta) {\n\t\t\t\tme.insertElements(numMeta, numData - numMeta);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tinsertElements: function(start, count) {\n\t\t\tfor (var i=0; i<count; ++i) {\n\t\t\t\tthis.addElementAndReset(start + i);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataPush: function() {\n\t\t\tthis.insertElements(this.getDataset().data.length-1, arguments.length);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataPop: function() {\n\t\t\tthis.getMeta().data.pop();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataShift: function() {\n\t\t\tthis.getMeta().data.shift();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataSplice: function(start, count) {\n\t\t\tthis.getMeta().data.splice(start, count);\n\t\t\tthis.insertElements(start, arguments.length - 2);\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tonDataUnshift: function() {\n\t\t\tthis.insertElements(0, arguments.length);\n\t\t}\n\t});\n\n\tChart.DatasetController.extend = helpers.inherits;\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tfunction filterByPosition(array, position) {\n\t\treturn helpers.where(array, function(v) {\n\t\t\treturn v.position === position;\n\t\t});\n\t}\n\n\tfunction sortByWeight(array, reverse) {\n\t\tarray.forEach(function(v, i) {\n\t\t\tv._tmpIndex_ = i;\n\t\t\treturn v;\n\t\t});\n\t\tarray.sort(function(a, b) {\n\t\t\tvar v0 = reverse ? b : a;\n\t\t\tvar v1 = reverse ? a : b;\n\t\t\treturn v0.weight === v1.weight ?\n\t\t\t\tv0._tmpIndex_ - v1._tmpIndex_ :\n\t\t\t\tv0.weight - v1.weight;\n\t\t});\n\t\tarray.forEach(function(v) {\n\t\t\tdelete v._tmpIndex_;\n\t\t});\n\t}\n\n\t/**\n\t * @interface ILayoutItem\n\t * @prop {String} position - The position of the item in the chart layout. Possible values are\n\t * 'left', 'top', 'right', 'bottom', and 'chartArea'\n\t * @prop {Number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n\t * @prop {Boolean} fullWidth - if true, and the item is horizontal, then push vertical boxes down\n\t * @prop {Function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n\t * @prop {Function} update - Takes two parameters: width and height. Returns size of item\n\t * @prop {Function} getPadding -  Returns an object with padding on the edges\n\t * @prop {Number} width - Width of item. Must be valid after update()\n\t * @prop {Number} height - Height of item. Must be valid after update()\n\t * @prop {Number} left - Left edge of the item. Set by layout system and cannot be used in update\n\t * @prop {Number} top - Top edge of the item. Set by layout system and cannot be used in update\n\t * @prop {Number} right - Right edge of the item. Set by layout system and cannot be used in update\n\t * @prop {Number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n\t */\n\n\t// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n\t// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n\t// It is this service's responsibility of carrying out that layout.\n\tChart.layoutService = {\n\t\tdefaults: {},\n\n\t\t/**\n\t\t * Register a box to a chart.\n\t\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t\t * @param {Chart} chart - the chart to use\n\t\t * @param {ILayoutItem} item - the item to add to be layed out\n\t\t */\n\t\taddBox: function(chart, item) {\n\t\t\tif (!chart.boxes) {\n\t\t\t\tchart.boxes = [];\n\t\t\t}\n\n\t\t\t// initialize item with default values\n\t\t\titem.fullWidth = item.fullWidth || false;\n\t\t\titem.position = item.position || 'top';\n\t\t\titem.weight = item.weight || 0;\n\n\t\t\tchart.boxes.push(item);\n\t\t},\n\n\t\t/**\n\t\t * Remove a layoutItem from a chart\n\t\t * @param {Chart} chart - the chart to remove the box from\n\t\t * @param {Object} layoutItem - the item to remove from the layout\n\t\t */\n\t\tremoveBox: function(chart, layoutItem) {\n\t\t\tvar index = chart.boxes? chart.boxes.indexOf(layoutItem) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tchart.boxes.splice(index, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Sets (or updates) options on the given `item`.\n\t\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t\t * @param {Object} item - the item to configure with the given options\n\t\t * @param {Object} options - the new item options.\n\t\t */\n\t\tconfigure: function(chart, item, options) {\n\t\t\tvar props = ['fullWidth', 'position', 'weight'];\n\t\t\tvar ilen = props.length;\n\t\t\tvar i = 0;\n\t\t\tvar prop;\n\n\t\t\tfor (; i<ilen; ++i) {\n\t\t\t\tprop = props[i];\n\t\t\t\tif (options.hasOwnProperty(prop)) {\n\t\t\t\t\titem[prop] = options[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t\t * then running a fitting algorithm\n\t\t * @param {Chart} chart - the chart\n\t\t * @param {Number} width - the width to fit into\n\t\t * @param {Number} height - the height to fit into\n\t\t */\n\t\tupdate: function(chart, width, height) {\n\t\t\tif (!chart) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar layoutOptions = chart.options.layout;\n\t\t\tvar padding = layoutOptions ? layoutOptions.padding : null;\n\n\t\t\tvar leftPadding = 0;\n\t\t\tvar rightPadding = 0;\n\t\t\tvar topPadding = 0;\n\t\t\tvar bottomPadding = 0;\n\n\t\t\tif (!isNaN(padding)) {\n\t\t\t\t// options.layout.padding is a number. assign to all\n\t\t\t\tleftPadding = padding;\n\t\t\t\trightPadding = padding;\n\t\t\t\ttopPadding = padding;\n\t\t\t\tbottomPadding = padding;\n\t\t\t} else {\n\t\t\t\tleftPadding = padding.left || 0;\n\t\t\t\trightPadding = padding.right || 0;\n\t\t\t\ttopPadding = padding.top || 0;\n\t\t\t\tbottomPadding = padding.bottom || 0;\n\t\t\t}\n\n\t\t\tvar leftBoxes = filterByPosition(chart.boxes, 'left');\n\t\t\tvar rightBoxes = filterByPosition(chart.boxes, 'right');\n\t\t\tvar topBoxes = filterByPosition(chart.boxes, 'top');\n\t\t\tvar bottomBoxes = filterByPosition(chart.boxes, 'bottom');\n\t\t\tvar chartAreaBoxes = filterByPosition(chart.boxes, 'chartArea');\n\n\t\t\t// Sort boxes by weight. A higher weight is further away from the chart area\n\t\t\tsortByWeight(leftBoxes, true);\n\t\t\tsortByWeight(rightBoxes, false);\n\t\t\tsortByWeight(topBoxes, true);\n\t\t\tsortByWeight(bottomBoxes, false);\n\n\t\t\t// Essentially we now have any number of boxes on each of the 4 sides.\n\t\t\t// Our canvas looks like the following.\n\t\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n\t\t\t// B1 is the bottom axis\n\t\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n\t\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n\t\t\t// an error will be thrown.\n\t\t\t//\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  T1 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |    |    |                 T2                  |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    | C1 |                           | C2 |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\n\t\t\t// |    |    |                                     |    |\n\t\t\t// |    |    |----|                           |----|    |\n\t\t\t// |    |    | C3 |                           | C4 |    |\n\t\t\t// |    |----|-------------------------------------|----|\n\t\t\t// |    |    |                 B1                  |    |\n\t\t\t// |----------------------------------------------------|\n\t\t\t// |                  B2 (Full Width)                   |\n\t\t\t// |----------------------------------------------------|\n\t\t\t//\n\t\t\t// What we do to find the best sizing, we do the following\n\t\t\t// 1. Determine the minimum size of the chart area.\n\t\t\t// 2. Split the remaining width equally between each vertical axis\n\t\t\t// 3. Split the remaining height equally between each horizontal axis\n\t\t\t// 4. Give each layout the maximum size it can be. The layout will return it's minimum size\n\t\t\t// 5. Adjust the sizes of each axis based on it's minimum reported size.\n\t\t\t// 6. Refit each axis\n\t\t\t// 7. Position each axis in the final location\n\t\t\t// 8. Tell the chart the final location of the chart area\n\t\t\t// 9. Tell any axes that overlay the chart area the positions of the chart area\n\n\t\t\t// Step 1\n\t\t\tvar chartWidth = width - leftPadding - rightPadding;\n\t\t\tvar chartHeight = height - topPadding - bottomPadding;\n\t\t\tvar chartAreaWidth = chartWidth / 2; // min 50%\n\t\t\tvar chartAreaHeight = chartHeight / 2; // min 50%\n\n\t\t\t// Step 2\n\t\t\tvar verticalBoxWidth = (width - chartAreaWidth) / (leftBoxes.length + rightBoxes.length);\n\n\t\t\t// Step 3\n\t\t\tvar horizontalBoxHeight = (height - chartAreaHeight) / (topBoxes.length + bottomBoxes.length);\n\n\t\t\t// Step 4\n\t\t\tvar maxChartAreaWidth = chartWidth;\n\t\t\tvar maxChartAreaHeight = chartHeight;\n\t\t\tvar minBoxSizes = [];\n\n\t\t\tfunction getMinimumBoxSize(box) {\n\t\t\t\tvar minSize;\n\t\t\t\tvar isHorizontal = box.isHorizontal();\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize = box.update(box.fullWidth ? chartWidth : maxChartAreaWidth, horizontalBoxHeight);\n\t\t\t\t\tmaxChartAreaHeight -= minSize.height;\n\t\t\t\t} else {\n\t\t\t\t\tminSize = box.update(verticalBoxWidth, chartAreaHeight);\n\t\t\t\t\tmaxChartAreaWidth -= minSize.width;\n\t\t\t\t}\n\n\t\t\t\tminBoxSizes.push({\n\t\t\t\t\thorizontal: isHorizontal,\n\t\t\t\t\tminSize: minSize,\n\t\t\t\t\tbox: box,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes, topBoxes, bottomBoxes), getMinimumBoxSize);\n\n\t\t\t// If a horizontal box has padding, we move the left boxes over to avoid ugly charts (see issue #2478)\n\t\t\tvar maxHorizontalLeftPadding = 0;\n\t\t\tvar maxHorizontalRightPadding = 0;\n\t\t\tvar maxVerticalTopPadding = 0;\n\t\t\tvar maxVerticalBottomPadding = 0;\n\n\t\t\thelpers.each(topBoxes.concat(bottomBoxes), function(horizontalBox) {\n\t\t\t\tif (horizontalBox.getPadding) {\n\t\t\t\t\tvar boxPadding = horizontalBox.getPadding();\n\t\t\t\t\tmaxHorizontalLeftPadding = Math.max(maxHorizontalLeftPadding, boxPadding.left);\n\t\t\t\t\tmaxHorizontalRightPadding = Math.max(maxHorizontalRightPadding, boxPadding.right);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), function(verticalBox) {\n\t\t\t\tif (verticalBox.getPadding) {\n\t\t\t\t\tvar boxPadding = verticalBox.getPadding();\n\t\t\t\t\tmaxVerticalTopPadding = Math.max(maxVerticalTopPadding, boxPadding.top);\n\t\t\t\t\tmaxVerticalBottomPadding = Math.max(maxVerticalBottomPadding, boxPadding.bottom);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// At this point, maxChartAreaHeight and maxChartAreaWidth are the size the chart area could\n\t\t\t// be if the axes are drawn at their minimum sizes.\n\t\t\t// Steps 5 & 6\n\t\t\tvar totalLeftBoxesWidth = leftPadding;\n\t\t\tvar totalRightBoxesWidth = rightPadding;\n\t\t\tvar totalTopBoxesHeight = topPadding;\n\t\t\tvar totalBottomBoxesHeight = bottomPadding;\n\n\t\t\t// Function to fit a box\n\t\t\tfunction fitBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minBox) {\n\t\t\t\t\treturn minBox.box === box;\n\t\t\t\t});\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\t\tvar scaleMargin = {\n\t\t\t\t\t\t\tleft: Math.max(totalLeftBoxesWidth, maxHorizontalLeftPadding),\n\t\t\t\t\t\t\tright: Math.max(totalRightBoxesWidth, maxHorizontalRightPadding),\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tbottom: 0\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Don't use min size here because of label rotation. When the labels are rotated, their rotation highly depends\n\t\t\t\t\t\t// on the margin. Sometimes they need to increase in size slightly\n\t\t\t\t\t\tbox.update(box.fullWidth ? chartWidth : maxChartAreaWidth, chartHeight / 2, scaleMargin);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update, and calculate the left and right margins for the horizontal boxes\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), fitBox);\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\t// Set the Left and Right margins for the horizontal boxes\n\t\t\thelpers.each(topBoxes.concat(bottomBoxes), fitBox);\n\n\t\t\t// Figure out how much margin is on the top and bottom of the vertical boxes\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\tfunction finalFitVerticalBox(box) {\n\t\t\t\tvar minBoxSize = helpers.findNextWhere(minBoxSizes, function(minSize) {\n\t\t\t\t\treturn minSize.box === box;\n\t\t\t\t});\n\n\t\t\t\tvar scaleMargin = {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\t\tbottom: totalBottomBoxesHeight\n\t\t\t\t};\n\n\t\t\t\tif (minBoxSize) {\n\t\t\t\t\tbox.update(minBoxSize.minSize.width, maxChartAreaHeight, scaleMargin);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Let the left layout know the final margin\n\t\t\thelpers.each(leftBoxes.concat(rightBoxes), finalFitVerticalBox);\n\n\t\t\t// Recalculate because the size of each layout might have changed slightly due to the margins (label rotation for instance)\n\t\t\ttotalLeftBoxesWidth = leftPadding;\n\t\t\ttotalRightBoxesWidth = rightPadding;\n\t\t\ttotalTopBoxesHeight = topPadding;\n\t\t\ttotalBottomBoxesHeight = bottomPadding;\n\n\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\ttotalLeftBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\ttotalRightBoxesWidth += box.width;\n\t\t\t});\n\n\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\ttotalTopBoxesHeight += box.height;\n\t\t\t});\n\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\ttotalBottomBoxesHeight += box.height;\n\t\t\t});\n\n\t\t\t// We may be adding some padding to account for rotated x axis labels\n\t\t\tvar leftPaddingAddition = Math.max(maxHorizontalLeftPadding - totalLeftBoxesWidth, 0);\n\t\t\ttotalLeftBoxesWidth += leftPaddingAddition;\n\t\t\ttotalRightBoxesWidth += Math.max(maxHorizontalRightPadding - totalRightBoxesWidth, 0);\n\n\t\t\tvar topPaddingAddition = Math.max(maxVerticalTopPadding - totalTopBoxesHeight, 0);\n\t\t\ttotalTopBoxesHeight += topPaddingAddition;\n\t\t\ttotalBottomBoxesHeight += Math.max(maxVerticalBottomPadding - totalBottomBoxesHeight, 0);\n\n\t\t\t// Figure out if our chart area changed. This would occur if the dataset layout label rotation\n\t\t\t// changed due to the application of the margins in step 6. Since we can only get bigger, this is safe to do\n\t\t\t// without calling `fit` again\n\t\t\tvar newMaxChartAreaHeight = height - totalTopBoxesHeight - totalBottomBoxesHeight;\n\t\t\tvar newMaxChartAreaWidth = width - totalLeftBoxesWidth - totalRightBoxesWidth;\n\n\t\t\tif (newMaxChartAreaWidth !== maxChartAreaWidth || newMaxChartAreaHeight !== maxChartAreaHeight) {\n\t\t\t\thelpers.each(leftBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(rightBoxes, function(box) {\n\t\t\t\t\tbox.height = newMaxChartAreaHeight;\n\t\t\t\t});\n\n\t\t\t\thelpers.each(topBoxes, function(box) {\n\t\t\t\t\tif (!box.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bottomBoxes, function(box) {\n\t\t\t\t\tif (!box.fullWidth) {\n\t\t\t\t\t\tbox.width = newMaxChartAreaWidth;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmaxChartAreaHeight = newMaxChartAreaHeight;\n\t\t\t\tmaxChartAreaWidth = newMaxChartAreaWidth;\n\t\t\t}\n\n\t\t\t// Step 7 - Position the boxes\n\t\t\tvar left = leftPadding + leftPaddingAddition;\n\t\t\tvar top = topPadding + topPaddingAddition;\n\n\t\t\tfunction placeBox(box) {\n\t\t\t\tif (box.isHorizontal()) {\n\t\t\t\t\tbox.left = box.fullWidth ? leftPadding : totalLeftBoxesWidth;\n\t\t\t\t\tbox.right = box.fullWidth ? width - rightPadding : totalLeftBoxesWidth + maxChartAreaWidth;\n\t\t\t\t\tbox.top = top;\n\t\t\t\t\tbox.bottom = top + box.height;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\ttop = box.bottom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbox.left = left;\n\t\t\t\t\tbox.right = left + box.width;\n\t\t\t\t\tbox.top = totalTopBoxesHeight;\n\t\t\t\t\tbox.bottom = totalTopBoxesHeight + maxChartAreaHeight;\n\n\t\t\t\t\t// Move to next point\n\t\t\t\t\tleft = box.right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thelpers.each(leftBoxes.concat(topBoxes), placeBox);\n\n\t\t\t// Account for chart width and height\n\t\t\tleft += maxChartAreaWidth;\n\t\t\ttop += maxChartAreaHeight;\n\n\t\t\thelpers.each(rightBoxes, placeBox);\n\t\t\thelpers.each(bottomBoxes, placeBox);\n\n\t\t\t// Step 8\n\t\t\tchart.chartArea = {\n\t\t\t\tleft: totalLeftBoxesWidth,\n\t\t\t\ttop: totalTopBoxesHeight,\n\t\t\t\tright: totalLeftBoxesWidth + maxChartAreaWidth,\n\t\t\t\tbottom: totalTopBoxesHeight + maxChartAreaHeight\n\t\t\t};\n\n\t\t\t// Step 9\n\t\t\thelpers.each(chartAreaBoxes, function(box) {\n\t\t\t\tbox.left = chart.chartArea.left;\n\t\t\t\tbox.top = chart.chartArea.top;\n\t\t\t\tbox.right = chart.chartArea.right;\n\t\t\t\tbox.bottom = chart.chartArea.bottom;\n\n\t\t\t\tbox.update(maxChartAreaWidth, maxChartAreaHeight);\n\t\t\t});\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.scaleService = {\n\t\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\n\t\t// use the new chart options to grab the correct scale\n\t\tconstructors: {},\n\t\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\n\t\t// old browsers\n\n\t\t// Scale config defaults\n\t\tdefaults: {},\n\t\tregisterScaleType: function(type, scaleConstructor, defaults) {\n\t\t\tthis.constructors[type] = scaleConstructor;\n\t\t\tthis.defaults[type] = helpers.clone(defaults);\n\t\t},\n\t\tgetScaleConstructor: function(type) {\n\t\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\n\t\t},\n\t\tgetScaleDefaults: function(type) {\n\t\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\n\t\t\treturn this.defaults.hasOwnProperty(type) ? helpers.scaleMerge(Chart.defaults.scale, this.defaults[type]) : {};\n\t\t},\n\t\tupdateScaleDefaults: function(type, additions) {\n\t\t\tvar defaults = this.defaults;\n\t\t\tif (defaults.hasOwnProperty(type)) {\n\t\t\t\tdefaults[type] = helpers.extend(defaults[type], additions);\n\t\t\t}\n\t\t},\n\t\taddScalesToLayout: function(chart) {\n\t\t\t// Adds each scale to the chart.boxes array to be sized accordingly\n\t\t\thelpers.each(chart.scales, function(scale) {\n\t\t\t\t// Set ILayoutItem parameters for backwards compatibility\n\t\t\t\tscale.fullWidth = scale.options.fullWidth;\n\t\t\t\tscale.position = scale.options.position;\n\t\t\t\tscale.weight = scale.options.weight;\n\t\t\t\tChart.layoutService.addBox(chart, scale);\n\t\t\t});\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t/**\n\t * Namespace to hold static tick generation functions\n\t * @namespace Chart.Ticks\n\t */\n\tChart.Ticks = {\n\t\t/**\n\t\t * Namespace to hold generators for different types of ticks\n\t\t * @namespace Chart.Ticks.generators\n\t\t */\n\t\tgenerators: {\n\t\t\t/**\n\t\t\t * Interface for the options provided to the numeric tick generator\n\t\t\t * @interface INumericTickGenerationOptions\n\t\t\t */\n\t\t\t/**\n\t\t\t * The maximum number of ticks to display\n\t\t\t * @name INumericTickGenerationOptions#maxTicks\n\t\t\t * @type Number\n\t\t\t */\n\t\t\t/**\n\t\t\t * The distance between each tick.\n\t\t\t * @name INumericTickGenerationOptions#stepSize\n\t\t\t * @type Number\n\t\t\t * @optional\n\t\t\t */\n\t\t\t/**\n\t\t\t * Forced minimum for the ticks. If not specified, the minimum of the data range is used to calculate the tick minimum\n\t\t\t * @name INumericTickGenerationOptions#min\n\t\t\t * @type Number\n\t\t\t * @optional\n\t\t\t */\n\t\t\t/**\n\t\t\t * The maximum value of the ticks. If not specified, the maximum of the data range is used to calculate the tick maximum\n\t\t\t * @name INumericTickGenerationOptions#max\n\t\t\t * @type Number\n\t\t\t * @optional\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * Generate a set of linear ticks\n\t\t\t * @method Chart.Ticks.generators.linear\n\t\t\t * @param generationOptions {INumericTickGenerationOptions} the options used to generate the ticks\n\t\t\t * @param dataRange {IRange} the range of the data\n\t\t\t * @returns {Array<Number>} array of tick values\n\t\t\t */\n\t\t\tlinear: function(generationOptions, dataRange) {\n\t\t\t\tvar ticks = [];\n\t\t\t\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\n\t\t\t\t// \"nice number\" algorithm. See http://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n\t\t\t\t// for details.\n\n\t\t\t\tvar spacing;\n\t\t\t\tif (generationOptions.stepSize && generationOptions.stepSize > 0) {\n\t\t\t\t\tspacing = generationOptions.stepSize;\n\t\t\t\t} else {\n\t\t\t\t\tvar niceRange = helpers.niceNum(dataRange.max - dataRange.min, false);\n\t\t\t\t\tspacing = helpers.niceNum(niceRange / (generationOptions.maxTicks - 1), true);\n\t\t\t\t}\n\t\t\t\tvar niceMin = Math.floor(dataRange.min / spacing) * spacing;\n\t\t\t\tvar niceMax = Math.ceil(dataRange.max / spacing) * spacing;\n\n\t\t\t\t// If min, max and stepSize is set and they make an evenly spaced scale use it.\n\t\t\t\tif (generationOptions.min && generationOptions.max && generationOptions.stepSize) {\n\t\t\t\t\t// If very close to our whole number, use it.\n\t\t\t\t\tif (helpers.almostWhole((generationOptions.max - generationOptions.min) / generationOptions.stepSize, spacing / 1000)) {\n\t\t\t\t\t\tniceMin = generationOptions.min;\n\t\t\t\t\t\tniceMax = generationOptions.max;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar numSpaces = (niceMax - niceMin) / spacing;\n\t\t\t\t// If very close to our rounded value, use it.\n\t\t\t\tif (helpers.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n\t\t\t\t\tnumSpaces = Math.round(numSpaces);\n\t\t\t\t} else {\n\t\t\t\t\tnumSpaces = Math.ceil(numSpaces);\n\t\t\t\t}\n\n\t\t\t\t// Put the values into the ticks array\n\t\t\t\tticks.push(generationOptions.min !== undefined ? generationOptions.min : niceMin);\n\t\t\t\tfor (var j = 1; j < numSpaces; ++j) {\n\t\t\t\t\tticks.push(niceMin + (j * spacing));\n\t\t\t\t}\n\t\t\t\tticks.push(generationOptions.max !== undefined ? generationOptions.max : niceMax);\n\n\t\t\t\treturn ticks;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Generate a set of logarithmic ticks\n\t\t\t * @method Chart.Ticks.generators.logarithmic\n\t\t\t * @param generationOptions {INumericTickGenerationOptions} the options used to generate the ticks\n\t\t\t * @param dataRange {IRange} the range of the data\n\t\t\t * @returns {Array<Number>} array of tick values\n\t\t\t */\n\t\t\tlogarithmic: function(generationOptions, dataRange) {\n\t\t\t\tvar ticks = [];\n\t\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t\t// the graph\n\t\t\t\tvar tickVal = getValueOrDefault(generationOptions.min, Math.pow(10, Math.floor(helpers.log10(dataRange.min))));\n\n\t\t\t\tvar endExp = Math.floor(helpers.log10(dataRange.max));\n\t\t\t\tvar endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n\t\t\t\tvar exp;\n\t\t\t\tvar significand;\n\n\t\t\t\tif (tickVal === 0) {\n\t\t\t\t\texp = Math.floor(helpers.log10(dataRange.minNotZero));\n\t\t\t\t\tsignificand = Math.floor(dataRange.minNotZero / Math.pow(10, exp));\n\n\t\t\t\t\tticks.push(tickVal);\n\t\t\t\t\ttickVal = significand * Math.pow(10, exp);\n\t\t\t\t} else {\n\t\t\t\t\texp = Math.floor(helpers.log10(tickVal));\n\t\t\t\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp));\n\t\t\t\t}\n\n\t\t\t\tdo {\n\t\t\t\t\tticks.push(tickVal);\n\n\t\t\t\t\t++significand;\n\t\t\t\t\tif (significand === 10) {\n\t\t\t\t\t\tsignificand = 1;\n\t\t\t\t\t\t++exp;\n\t\t\t\t\t}\n\n\t\t\t\t\ttickVal = significand * Math.pow(10, exp);\n\t\t\t\t} while (exp < endExp || (exp === endExp && significand < endSignificand));\n\n\t\t\t\tvar lastTick = getValueOrDefault(generationOptions.max, tickVal);\n\t\t\t\tticks.push(lastTick);\n\n\t\t\t\treturn ticks;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Namespace to hold formatters for different types of ticks\n\t\t * @namespace Chart.Ticks.formatters\n\t\t */\n\t\tformatters: {\n\t\t\t/**\n\t\t\t * Formatter for value labels\n\t\t\t * @method Chart.Ticks.formatters.values\n\t\t\t * @param value the value to display\n\t\t\t * @return {String|Array} the label to display\n\t\t\t */\n\t\t\tvalues: function(value) {\n\t\t\t\treturn helpers.isArray(value) ? value : '' + value;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Formatter for linear numeric ticks\n\t\t\t * @method Chart.Ticks.formatters.linear\n\t\t\t * @param tickValue {Number} the value to be formatted\n\t\t\t * @param index {Number} the position of the tickValue parameter in the ticks array\n\t\t\t * @param ticks {Array<Number>} the list of ticks being converted\n\t\t\t * @return {String} string representation of the tickValue parameter\n\t\t\t */\n\t\t\tlinear: function(tickValue, index, ticks) {\n\t\t\t\t// If we have lots of ticks, don't use the ones\n\t\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\n\n\t\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\n\t\t\t\tif (Math.abs(delta) > 1) {\n\t\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\n\t\t\t\t\t\t// not an integer\n\t\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar logDelta = helpers.log10(Math.abs(delta));\n\t\t\t\tvar tickString = '';\n\n\t\t\t\tif (tickValue !== 0) {\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\n\t\t\t\t} else {\n\t\t\t\t\ttickString = '0'; // never show decimal places for 0\n\t\t\t\t}\n\n\t\t\t\treturn tickString;\n\t\t\t},\n\n\t\t\tlogarithmic: function(tickValue, index, ticks) {\n\t\t\t\tvar remain = tickValue / (Math.pow(10, Math.floor(helpers.log10(tickValue))));\n\n\t\t\t\tif (tickValue === 0) {\n\t\t\t\t\treturn '0';\n\t\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === ticks.length - 1) {\n\t\t\t\t\treturn tickValue.toExponential();\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.scale = {\n\t\tdisplay: true,\n\t\tposition: 'left',\n\n\t\t// grid line settings\n\t\tgridLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1,\n\t\t\tdrawBorder: true,\n\t\t\tdrawOnChartArea: true,\n\t\t\tdrawTicks: true,\n\t\t\ttickMarkLength: 10,\n\t\t\tzeroLineWidth: 1,\n\t\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\n\t\t\tzeroLineBorderDash: [],\n\t\t\tzeroLineBorderDashOffset: 0.0,\n\t\t\toffsetGridLines: false,\n\t\t\tborderDash: [],\n\t\t\tborderDashOffset: 0.0\n\t\t},\n\n\t\t// scale label\n\t\tscaleLabel: {\n\t\t\t// actual label\n\t\t\tlabelString: '',\n\n\t\t\t// display property\n\t\t\tdisplay: false\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tbeginAtZero: false,\n\t\t\tminRotation: 0,\n\t\t\tmaxRotation: 50,\n\t\t\tmirror: false,\n\t\t\tpadding: 0,\n\t\t\treverse: false,\n\t\t\tdisplay: true,\n\t\t\tautoSkip: true,\n\t\t\tautoSkipPadding: 0,\n\t\t\tlabelOffset: 0,\n\t\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n\t\t\tcallback: Chart.Ticks.formatters.values\n\t\t}\n\t};\n\n\tfunction computeTextSize(context, tick, font) {\n\t\treturn helpers.isArray(tick) ?\n\t\t\thelpers.longestText(context, font, tick) :\n\t\t\tcontext.measureText(tick).width;\n\t}\n\n\tfunction parseFontOptions(options) {\n\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\t\tvar globalDefaults = Chart.defaults.global;\n\t\tvar size = getValueOrDefault(options.fontSize, globalDefaults.defaultFontSize);\n\t\tvar style = getValueOrDefault(options.fontStyle, globalDefaults.defaultFontStyle);\n\t\tvar family = getValueOrDefault(options.fontFamily, globalDefaults.defaultFontFamily);\n\n\t\treturn {\n\t\t\tsize: size,\n\t\t\tstyle: style,\n\t\t\tfamily: family,\n\t\t\tfont: helpers.fontString(size, style, family)\n\t\t};\n\t}\n\n\tChart.Scale = Chart.Element.extend({\n\t\t/**\n\t\t * Get the padding needed for the scale\n\t\t * @method getPadding\n\t\t * @private\n\t\t * @returns {Padding} the necessary padding\n\t\t */\n\t\tgetPadding: function() {\n\t\t\tvar me = this;\n\t\t\treturn {\n\t\t\t\tleft: me.paddingLeft || 0,\n\t\t\t\ttop: me.paddingTop || 0,\n\t\t\t\tright: me.paddingRight || 0,\n\t\t\t\tbottom: me.paddingBottom || 0\n\t\t\t};\n\t\t},\n\n\t\t// These methods are ordered by lifecyle. Utilities then follow.\n\t\t// Any function defined here is inherited by all scale types.\n\t\t// Any function can be extended by the scale type\n\n\t\tbeforeUpdate: function() {\n\t\t\thelpers.callback(this.options.beforeUpdate, [this]);\n\t\t},\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = helpers.extend({\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0\n\t\t\t}, margins);\n\t\t\tme.longestTextCache = me.longestTextCache || {};\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\n\t\t\t// Data min/max\n\t\t\tme.beforeDataLimits();\n\t\t\tme.determineDataLimits();\n\t\t\tme.afterDataLimits();\n\n\t\t\t// Ticks\n\t\t\tme.beforeBuildTicks();\n\t\t\tme.buildTicks();\n\t\t\tme.afterBuildTicks();\n\n\t\t\tme.beforeTickToLabelConversion();\n\t\t\tme.convertTicksToLabels();\n\t\t\tme.afterTickToLabelConversion();\n\n\t\t\t// Tick Rotation\n\t\t\tme.beforeCalculateTickRotation();\n\t\t\tme.calculateTickRotation();\n\t\t\tme.afterCalculateTickRotation();\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: function() {\n\t\t\thelpers.callback(this.options.afterUpdate, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeSetDimensions: function() {\n\t\t\thelpers.callback(this.options.beforeSetDimensions, [this]);\n\t\t},\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\t\t},\n\t\tafterSetDimensions: function() {\n\t\t\thelpers.callback(this.options.afterSetDimensions, [this]);\n\t\t},\n\n\t\t// Data limits\n\t\tbeforeDataLimits: function() {\n\t\t\thelpers.callback(this.options.beforeDataLimits, [this]);\n\t\t},\n\t\tdetermineDataLimits: helpers.noop,\n\t\tafterDataLimits: function() {\n\t\t\thelpers.callback(this.options.afterDataLimits, [this]);\n\t\t},\n\n\t\t//\n\t\tbeforeBuildTicks: function() {\n\t\t\thelpers.callback(this.options.beforeBuildTicks, [this]);\n\t\t},\n\t\tbuildTicks: helpers.noop,\n\t\tafterBuildTicks: function() {\n\t\t\thelpers.callback(this.options.afterBuildTicks, [this]);\n\t\t},\n\n\t\tbeforeTickToLabelConversion: function() {\n\t\t\thelpers.callback(this.options.beforeTickToLabelConversion, [this]);\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\t// Convert ticks to strings\n\t\t\tvar tickOpts = me.options.ticks;\n\t\t\tme.ticks = me.ticks.map(tickOpts.userCallback || tickOpts.callback);\n\t\t},\n\t\tafterTickToLabelConversion: function() {\n\t\t\thelpers.callback(this.options.afterTickToLabelConversion, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeCalculateTickRotation: function() {\n\t\t\thelpers.callback(this.options.beforeCalculateTickRotation, [this]);\n\t\t},\n\t\tcalculateTickRotation: function() {\n\t\t\tvar me = this;\n\t\t\tvar context = me.ctx;\n\t\t\tvar tickOpts = me.options.ticks;\n\n\t\t\t// Get the width of each grid by calculating the difference\n\t\t\t// between x offsets between 0 and 1.\n\t\t\tvar tickFont = parseFontOptions(tickOpts);\n\t\t\tcontext.font = tickFont.font;\n\n\t\t\tvar labelRotation = tickOpts.minRotation || 0;\n\n\t\t\tif (me.options.display && me.isHorizontal()) {\n\t\t\t\tvar originalLabelWidth = helpers.longestText(context, tickFont.font, me.ticks, me.longestTextCache);\n\t\t\t\tvar labelWidth = originalLabelWidth;\n\t\t\t\tvar cosRotation;\n\t\t\t\tvar sinRotation;\n\n\t\t\t\t// Allow 3 pixels x2 padding either side for label readability\n\t\t\t\tvar tickWidth = me.getPixelForTick(1) - me.getPixelForTick(0) - 6;\n\n\t\t\t\t// Max label rotation can be set or default to 90 - also act as a loop counter\n\t\t\t\twhile (labelWidth > tickWidth && labelRotation < tickOpts.maxRotation) {\n\t\t\t\t\tvar angleRadians = helpers.toRadians(labelRotation);\n\t\t\t\t\tcosRotation = Math.cos(angleRadians);\n\t\t\t\t\tsinRotation = Math.sin(angleRadians);\n\n\t\t\t\t\tif (sinRotation * originalLabelWidth > me.maxHeight) {\n\t\t\t\t\t\t// go back one step\n\t\t\t\t\t\tlabelRotation--;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tlabelRotation++;\n\t\t\t\t\tlabelWidth = cosRotation * originalLabelWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.labelRotation = labelRotation;\n\t\t},\n\t\tafterCalculateTickRotation: function() {\n\t\t\thelpers.callback(this.options.afterCalculateTickRotation, [this]);\n\t\t},\n\n\t\t//\n\n\t\tbeforeFit: function() {\n\t\t\thelpers.callback(this.options.beforeFit, [this]);\n\t\t},\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\t// Reset\n\t\t\tvar minSize = me.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar scaleLabelOpts = opts.scaleLabel;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar display = opts.display;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tvar tickFont = parseFontOptions(tickOpts);\n\t\t\tvar scaleLabelFontSize = parseFontOptions(scaleLabelOpts).size * 1.5;\n\t\t\tvar tickMarkLength = opts.gridLines.tickMarkLength;\n\n\t\t\t// Width\n\t\t\tif (isHorizontal) {\n\t\t\t\t// subtract the margins to line up with the chartArea if we are a full width scale\n\t\t\t\tminSize.width = me.isFullWidth() ? me.maxWidth - me.margins.left - me.margins.right : me.maxWidth;\n\t\t\t} else {\n\t\t\t\tminSize.width = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t}\n\n\t\t\t// height\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.height = display && gridLineOpts.drawTicks ? tickMarkLength : 0;\n\t\t\t} else {\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Are we showing a title for the scale?\n\t\t\tif (scaleLabelOpts.display && display) {\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tminSize.height += scaleLabelFontSize;\n\t\t\t\t} else {\n\t\t\t\t\tminSize.width += scaleLabelFontSize;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Don't bother fitting the ticks if we are not showing them\n\t\t\tif (tickOpts.display && display) {\n\t\t\t\tvar largestTextWidth = helpers.longestText(me.ctx, tickFont.font, me.ticks, me.longestTextCache);\n\t\t\t\tvar tallestLabelHeightInLines = helpers.numberOfLabelLines(me.ticks);\n\t\t\t\tvar lineSpace = tickFont.size * 0.5;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// A horizontal axis is more constrained by the height.\n\t\t\t\t\tme.longestLabelWidth = largestTextWidth;\n\n\t\t\t\t\tvar angleRadians = helpers.toRadians(me.labelRotation);\n\t\t\t\t\tvar cosRotation = Math.cos(angleRadians);\n\t\t\t\t\tvar sinRotation = Math.sin(angleRadians);\n\n\t\t\t\t\t// TODO - improve this calculation\n\t\t\t\t\tvar labelHeight = (sinRotation * largestTextWidth)\n\t\t\t\t\t\t+ (tickFont.size * tallestLabelHeightInLines)\n\t\t\t\t\t\t+ (lineSpace * tallestLabelHeightInLines);\n\n\t\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight);\n\t\t\t\t\tme.ctx.font = tickFont.font;\n\n\t\t\t\t\tvar firstTick = me.ticks[0];\n\t\t\t\t\tvar firstLabelWidth = computeTextSize(me.ctx, firstTick, tickFont.font);\n\n\t\t\t\t\tvar lastTick = me.ticks[me.ticks.length - 1];\n\t\t\t\t\tvar lastLabelWidth = computeTextSize(me.ctx, lastTick, tickFont.font);\n\n\t\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned which means that the right padding is dominated\n\t\t\t\t\t// by the font height\n\t\t\t\t\tif (me.labelRotation !== 0) {\n\t\t\t\t\t\tme.paddingLeft = opts.position === 'bottom'? (cosRotation * firstLabelWidth) + 3: (cosRotation * lineSpace) + 3; // add 3 px to move away from canvas edges\n\t\t\t\t\t\tme.paddingRight = opts.position === 'bottom'? (cosRotation * lineSpace) + 3: (cosRotation * lastLabelWidth) + 3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tme.paddingLeft = firstLabelWidth / 2 + 3; // add 3 px to move away from canvas edges\n\t\t\t\t\t\tme.paddingRight = lastLabelWidth / 2 + 3;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// A vertical axis is more constrained by the width. Labels are the dominant factor here, so get that length first\n\t\t\t\t\t// Account for padding\n\n\t\t\t\t\tif (tickOpts.mirror) {\n\t\t\t\t\t\tlargestTextWidth = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlargestTextWidth += me.options.ticks.padding;\n\t\t\t\t\t}\n\t\t\t\t\tminSize.width = Math.min(me.maxWidth, minSize.width + largestTextWidth);\n\t\t\t\t\tme.paddingTop = tickFont.size / 2;\n\t\t\t\t\tme.paddingBottom = tickFont.size / 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.handleMargins();\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\t\t},\n\n\t\t/**\n\t\t * Handle margins and padding interactions\n\t\t * @private\n\t\t */\n\t\thandleMargins: function() {\n\t\t\tvar me = this;\n\t\t\tif (me.margins) {\n\t\t\t\tme.paddingLeft = Math.max(me.paddingLeft - me.margins.left, 0);\n\t\t\t\tme.paddingTop = Math.max(me.paddingTop - me.margins.top, 0);\n\t\t\t\tme.paddingRight = Math.max(me.paddingRight - me.margins.right, 0);\n\t\t\t\tme.paddingBottom = Math.max(me.paddingBottom - me.margins.bottom, 0);\n\t\t\t}\n\t\t},\n\n\t\tafterFit: function() {\n\t\t\thelpers.callback(this.options.afterFit, [this]);\n\t\t},\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\t\tisFullWidth: function() {\n\t\t\treturn (this.options.fullWidth);\n\t\t},\n\n\t\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\n\t\tgetRightValue: function(rawValue) {\n\t\t\t// Null and undefined values first\n\t\t\tif (rawValue === null || typeof(rawValue) === 'undefined') {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// isNaN(object) returns true, so make sure NaN is checking for a number; Discard Infinite values\n\t\t\tif (typeof(rawValue) === 'number' && !isFinite(rawValue)) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// If it is in fact an object, dive in one more level\n\t\t\tif (typeof(rawValue) === 'object') {\n\t\t\t\tif ((rawValue instanceof Date) || (rawValue.isValid)) {\n\t\t\t\t\treturn rawValue;\n\t\t\t\t}\n\t\t\t\treturn this.getRightValue(this.isHorizontal() ? rawValue.x : rawValue.y);\n\t\t\t}\n\n\t\t\t// Value is good, return it\n\t\t\treturn rawValue;\n\t\t},\n\n\t\t// Used to get the value to display in the tooltip for the data at the given index\n\t\t// function getLabelForIndex(index, datasetIndex)\n\t\tgetLabelForIndex: helpers.noop,\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: helpers.noop,\n\n\t\t// Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t\tgetValueForPixel: helpers.noop,\n\n\t\t// Used for tick location, should\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar tickWidth = innerWidth / Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\t\tvar pixel = (tickWidth * index) + me.paddingLeft;\n\n\t\t\t\tif (includeOffset) {\n\t\t\t\t\tpixel += tickWidth / 2;\n\t\t\t\t}\n\n\t\t\t\tvar finalVal = me.left + Math.round(pixel);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\tvar innerHeight = me.height - (me.paddingTop + me.paddingBottom);\n\t\t\treturn me.top + (index * (innerHeight / (me.ticks.length - 1)));\n\t\t},\n\n\t\t// Utility for getting the pixel location of a percentage of scale\n\t\tgetPixelForDecimal: function(decimal /* , includeOffset*/) {\n\t\t\tvar me = this;\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar innerWidth = me.width - (me.paddingLeft + me.paddingRight);\n\t\t\t\tvar valueOffset = (innerWidth * decimal) + me.paddingLeft;\n\n\t\t\t\tvar finalVal = me.left + Math.round(valueOffset);\n\t\t\t\tfinalVal += me.isFullWidth() ? me.margins.left : 0;\n\t\t\t\treturn finalVal;\n\t\t\t}\n\t\t\treturn me.top + (decimal * me.height);\n\t\t},\n\n\t\tgetBasePixel: function() {\n\t\t\treturn this.getPixelForValue(this.getBaseValue());\n\t\t},\n\n\t\tgetBaseValue: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.beginAtZero ? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0;\n\t\t},\n\n\t\t// Actually draw the scale on the canvas\n\t\t// @param {rectangle} chartArea : the area of the chart to draw full grid lines on\n\t\tdraw: function(chartArea) {\n\t\t\tvar me = this;\n\t\t\tvar options = me.options;\n\t\t\tif (!options.display) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar context = me.ctx;\n\t\t\tvar globalDefaults = Chart.defaults.global;\n\t\t\tvar optionTicks = options.ticks;\n\t\t\tvar gridLines = options.gridLines;\n\t\t\tvar scaleLabel = options.scaleLabel;\n\n\t\t\tvar isRotated = me.labelRotation !== 0;\n\t\t\tvar skipRatio;\n\t\t\tvar useAutoskipper = optionTicks.autoSkip;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\t// figure out the maximum number of gridlines to show\n\t\t\tvar maxTicks;\n\t\t\tif (optionTicks.maxTicksLimit) {\n\t\t\t\tmaxTicks = optionTicks.maxTicksLimit;\n\t\t\t}\n\n\t\t\tvar tickFontColor = helpers.getValueOrDefault(optionTicks.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar tickFont = parseFontOptions(optionTicks);\n\n\t\t\tvar tl = gridLines.drawTicks ? gridLines.tickMarkLength : 0;\n\n\t\t\tvar scaleLabelFontColor = helpers.getValueOrDefault(scaleLabel.fontColor, globalDefaults.defaultFontColor);\n\t\t\tvar scaleLabelFont = parseFontOptions(scaleLabel);\n\n\t\t\tvar labelRotationRadians = helpers.toRadians(me.labelRotation);\n\t\t\tvar cosRotation = Math.cos(labelRotationRadians);\n\t\t\tvar longestRotatedLabel = me.longestLabelWidth * cosRotation;\n\n\t\t\t// Make sure we draw text in the correct color and font\n\t\t\tcontext.fillStyle = tickFontColor;\n\n\t\t\tvar itemsToDraw = [];\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tskipRatio = false;\n\n\t\t\t\tif ((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length > (me.width - (me.paddingLeft + me.paddingRight))) {\n\t\t\t\t\tskipRatio = 1 + Math.floor(((longestRotatedLabel + optionTicks.autoSkipPadding) * me.ticks.length) / (me.width - (me.paddingLeft + me.paddingRight)));\n\t\t\t\t}\n\n\t\t\t\t// if they defined a max number of optionTicks,\n\t\t\t\t// increase skipRatio until that number is met\n\t\t\t\tif (maxTicks && me.ticks.length > maxTicks) {\n\t\t\t\t\twhile (!skipRatio || me.ticks.length / (skipRatio || 1) > maxTicks) {\n\t\t\t\t\t\tif (!skipRatio) {\n\t\t\t\t\t\t\tskipRatio = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipRatio += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!useAutoskipper) {\n\t\t\t\t\tskipRatio = false;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tvar xTickStart = options.position === 'right' ? me.left : me.right - tl;\n\t\t\tvar xTickEnd = options.position === 'right' ? me.left + tl : me.right;\n\t\t\tvar yTickStart = options.position === 'bottom' ? me.top : me.bottom - tl;\n\t\t\tvar yTickEnd = options.position === 'bottom' ? me.top + tl : me.bottom;\n\n\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t// If the callback returned a null or undefined value, do not draw this line\n\t\t\t\tif (label === undefined || label === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar isLastTick = me.ticks.length === index + 1;\n\n\t\t\t\t// Since we always show the last tick,we need may need to hide the last shown one before\n\t\t\t\tvar shouldSkip = (skipRatio > 1 && index % skipRatio > 0) || (index % skipRatio === 0 && index + skipRatio >= me.ticks.length);\n\t\t\t\tif (shouldSkip && !isLastTick || (label === undefined || label === null)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar lineWidth, lineColor, borderDash, borderDashOffset;\n\t\t\t\tif (index === (typeof me.zeroLineIndex !== 'undefined' ? me.zeroLineIndex : 0)) {\n\t\t\t\t\t// Draw the first index specially\n\t\t\t\t\tlineWidth = gridLines.zeroLineWidth;\n\t\t\t\t\tlineColor = gridLines.zeroLineColor;\n\t\t\t\t\tborderDash = gridLines.zeroLineBorderDash;\n\t\t\t\t\tborderDashOffset = gridLines.zeroLineBorderDashOffset;\n\t\t\t\t} else {\n\t\t\t\t\tlineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, index);\n\t\t\t\t\tlineColor = helpers.getValueAtIndexOrDefault(gridLines.color, index);\n\t\t\t\t\tborderDash = helpers.getValueOrDefault(gridLines.borderDash, globalDefaults.borderDash);\n\t\t\t\t\tborderDashOffset = helpers.getValueOrDefault(gridLines.borderDashOffset, globalDefaults.borderDashOffset);\n\t\t\t\t}\n\n\t\t\t\t// Common properties\n\t\t\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, labelX, labelY;\n\t\t\t\tvar textAlign = 'middle';\n\t\t\t\tvar textBaseline = 'middle';\n\n\t\t\t\tif (isHorizontal) {\n\n\t\t\t\t\tif (options.position === 'bottom') {\n\t\t\t\t\t\t// bottom\n\t\t\t\t\t\ttextBaseline = !isRotated? 'top':'middle';\n\t\t\t\t\t\ttextAlign = !isRotated? 'center': 'right';\n\t\t\t\t\t\tlabelY = me.top + tl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// top\n\t\t\t\t\t\ttextBaseline = !isRotated? 'bottom':'middle';\n\t\t\t\t\t\ttextAlign = !isRotated? 'center': 'left';\n\t\t\t\t\t\tlabelY = me.bottom - tl;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar xLineValue = me.getPixelForTick(index) + helpers.aliasPixel(lineWidth); // xvalues for grid lines\n\t\t\t\t\tlabelX = me.getPixelForTick(index, gridLines.offsetGridLines) + optionTicks.labelOffset; // x values for optionTicks (need to consider offsetLabel option)\n\n\t\t\t\t\ttx1 = tx2 = x1 = x2 = xLineValue;\n\t\t\t\t\tty1 = yTickStart;\n\t\t\t\t\tty2 = yTickEnd;\n\t\t\t\t\ty1 = chartArea.top;\n\t\t\t\t\ty2 = chartArea.bottom;\n\t\t\t\t} else {\n\t\t\t\t\tvar isLeft = options.position === 'left';\n\t\t\t\t\tvar tickPadding = optionTicks.padding;\n\t\t\t\t\tvar labelXOffset;\n\n\t\t\t\t\tif (optionTicks.mirror) {\n\t\t\t\t\t\ttextAlign = isLeft ? 'left' : 'right';\n\t\t\t\t\t\tlabelXOffset = tickPadding;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttextAlign = isLeft ? 'right' : 'left';\n\t\t\t\t\t\tlabelXOffset = tl + tickPadding;\n\t\t\t\t\t}\n\n\t\t\t\t\tlabelX = isLeft ? me.right - labelXOffset : me.left + labelXOffset;\n\n\t\t\t\t\tvar yLineValue = me.getPixelForTick(index); // xvalues for grid lines\n\t\t\t\t\tyLineValue += helpers.aliasPixel(lineWidth);\n\t\t\t\t\tlabelY = me.getPixelForTick(index, gridLines.offsetGridLines);\n\n\t\t\t\t\ttx1 = xTickStart;\n\t\t\t\t\ttx2 = xTickEnd;\n\t\t\t\t\tx1 = chartArea.left;\n\t\t\t\t\tx2 = chartArea.right;\n\t\t\t\t\tty1 = ty2 = y1 = y2 = yLineValue;\n\t\t\t\t}\n\n\t\t\t\titemsToDraw.push({\n\t\t\t\t\ttx1: tx1,\n\t\t\t\t\tty1: ty1,\n\t\t\t\t\ttx2: tx2,\n\t\t\t\t\tty2: ty2,\n\t\t\t\t\tx1: x1,\n\t\t\t\t\ty1: y1,\n\t\t\t\t\tx2: x2,\n\t\t\t\t\ty2: y2,\n\t\t\t\t\tlabelX: labelX,\n\t\t\t\t\tlabelY: labelY,\n\t\t\t\t\tglWidth: lineWidth,\n\t\t\t\t\tglColor: lineColor,\n\t\t\t\t\tglBorderDash: borderDash,\n\t\t\t\t\tglBorderDashOffset: borderDashOffset,\n\t\t\t\t\trotation: -1 * labelRotationRadians,\n\t\t\t\t\tlabel: label,\n\t\t\t\t\ttextBaseline: textBaseline,\n\t\t\t\t\ttextAlign: textAlign\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Draw all of the tick labels, tick marks, and grid lines at the correct places\n\t\t\thelpers.each(itemsToDraw, function(itemToDraw) {\n\t\t\t\tif (gridLines.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.lineWidth = itemToDraw.glWidth;\n\t\t\t\t\tcontext.strokeStyle = itemToDraw.glColor;\n\t\t\t\t\tif (context.setLineDash) {\n\t\t\t\t\t\tcontext.setLineDash(itemToDraw.glBorderDash);\n\t\t\t\t\t\tcontext.lineDashOffset = itemToDraw.glBorderDashOffset;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.beginPath();\n\n\t\t\t\t\tif (gridLines.drawTicks) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.tx1, itemToDraw.ty1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.tx2, itemToDraw.ty2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (gridLines.drawOnChartArea) {\n\t\t\t\t\t\tcontext.moveTo(itemToDraw.x1, itemToDraw.y1);\n\t\t\t\t\t\tcontext.lineTo(itemToDraw.x2, itemToDraw.y2);\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.stroke();\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\n\t\t\t\tif (optionTicks.display) {\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.translate(itemToDraw.labelX, itemToDraw.labelY);\n\t\t\t\t\tcontext.rotate(itemToDraw.rotation);\n\t\t\t\t\tcontext.font = tickFont.font;\n\t\t\t\t\tcontext.textBaseline = itemToDraw.textBaseline;\n\t\t\t\t\tcontext.textAlign = itemToDraw.textAlign;\n\n\t\t\t\t\tvar label = itemToDraw.label;\n\t\t\t\t\tif (helpers.isArray(label)) {\n\t\t\t\t\t\tfor (var i = 0, y = 0; i < label.length; ++i) {\n\t\t\t\t\t\t\t// We just make sure the multiline element is a string here..\n\t\t\t\t\t\t\tcontext.fillText('' + label[i], 0, y);\n\t\t\t\t\t\t\t// apply same lineSpacing as calculated @ L#320\n\t\t\t\t\t\t\ty += (tickFont.size * 1.5);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.fillText(label, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t\tcontext.restore();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (scaleLabel.display) {\n\t\t\t\t// Draw the scale label\n\t\t\t\tvar scaleLabelX;\n\t\t\t\tvar scaleLabelY;\n\t\t\t\tvar rotation = 0;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tscaleLabelX = me.left + ((me.right - me.left) / 2); // midpoint of the width\n\t\t\t\t\tscaleLabelY = options.position === 'bottom' ? me.bottom - (scaleLabelFont.size / 2) : me.top + (scaleLabelFont.size / 2);\n\t\t\t\t} else {\n\t\t\t\t\tvar isLeft = options.position === 'left';\n\t\t\t\t\tscaleLabelX = isLeft ? me.left + (scaleLabelFont.size / 2) : me.right - (scaleLabelFont.size / 2);\n\t\t\t\t\tscaleLabelY = me.top + ((me.bottom - me.top) / 2);\n\t\t\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\tcontext.save();\n\t\t\t\tcontext.translate(scaleLabelX, scaleLabelY);\n\t\t\t\tcontext.rotate(rotation);\n\t\t\t\tcontext.textAlign = 'center';\n\t\t\t\tcontext.textBaseline = 'middle';\n\t\t\t\tcontext.fillStyle = scaleLabelFontColor; // render in correct colour\n\t\t\t\tcontext.font = scaleLabelFont.font;\n\t\t\t\tcontext.fillText(scaleLabel.labelString, 0, 0);\n\t\t\t\tcontext.restore();\n\t\t\t}\n\n\t\t\tif (gridLines.drawBorder) {\n\t\t\t\t// Draw the line at the edge of the axis\n\t\t\t\tcontext.lineWidth = helpers.getValueAtIndexOrDefault(gridLines.lineWidth, 0);\n\t\t\t\tcontext.strokeStyle = helpers.getValueAtIndexOrDefault(gridLines.color, 0);\n\t\t\t\tvar x1 = me.left,\n\t\t\t\t\tx2 = me.right,\n\t\t\t\t\ty1 = me.top,\n\t\t\t\t\ty2 = me.bottom;\n\n\t\t\t\tvar aliasPixel = helpers.aliasPixel(context.lineWidth);\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\ty1 = y2 = options.position === 'top' ? me.bottom : me.top;\n\t\t\t\t\ty1 += aliasPixel;\n\t\t\t\t\ty2 += aliasPixel;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = x2 = options.position === 'left' ? me.right : me.left;\n\t\t\t\t\tx1 += aliasPixel;\n\t\t\t\t\tx2 += aliasPixel;\n\t\t\t\t}\n\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(x1, y1);\n\t\t\t\tcontext.lineTo(x2, y2);\n\t\t\t\tcontext.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\tvar helpers = Chart.helpers;\n\n\t/**\n\t * Helper function to get relative position for an event\n\t * @param {Event|IEvent} event - The event to get the position for\n\t * @param {Chart} chart - The chart\n\t * @returns {Point} the event position\n\t */\n\tfunction getRelativePosition(e, chart) {\n\t\tif (e.native) {\n\t\t\treturn {\n\t\t\t\tx: e.x,\n\t\t\t\ty: e.y\n\t\t\t};\n\t\t}\n\n\t\treturn helpers.getRelativePosition(e, chart);\n\t}\n\n\t/**\n\t * Helper function to traverse all of the visible elements in the chart\n\t * @param chart {chart} the chart\n\t * @param handler {Function} the callback to execute for each visible item\n\t */\n\tfunction parseVisibleItems(chart, handler) {\n\t\tvar datasets = chart.data.datasets;\n\t\tvar meta, i, j, ilen, jlen;\n\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\n\t\t\tif (!chart.isDatasetVisible(i)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\tfor (j = 0, jlen = meta.data.length; j < jlen; ++j) {\n\t\t\t\tvar element = meta.data[j];\n\t\t\t\tif (!element._view.skip) {\n\t\t\t\t\thandler(element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Helper function to get the items that intersect the event position\n\t * @param items {ChartElement[]} elements to filter\n\t * @param position {Point} the point to be nearest to\n\t * @return {ChartElement[]} the nearest items\n\t */\n\tfunction getIntersectItems(chart, position) {\n\t\tvar elements = [];\n\n\t\tparseVisibleItems(chart, function(element) {\n\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\telements.push(element);\n\t\t\t}\n\t\t});\n\n\t\treturn elements;\n\t}\n\n\t/**\n\t * Helper function to get the items nearest to the event position considering all visible items in teh chart\n\t * @param chart {Chart} the chart to look at elements from\n\t * @param position {Point} the point to be nearest to\n\t * @param intersect {Boolean} if true, only consider items that intersect the position\n\t * @param distanceMetric {Function} Optional function to provide the distance between\n\t * @return {ChartElement[]} the nearest items\n\t */\n\tfunction getNearestItems(chart, position, intersect, distanceMetric) {\n\t\tvar minDistance = Number.POSITIVE_INFINITY;\n\t\tvar nearestItems = [];\n\n\t\tif (!distanceMetric) {\n\t\t\tdistanceMetric = helpers.distanceBetweenPoints;\n\t\t}\n\n\t\tparseVisibleItems(chart, function(element) {\n\t\t\tif (intersect && !element.inRange(position.x, position.y)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar center = element.getCenterPoint();\n\t\t\tvar distance = distanceMetric(position, center);\n\n\t\t\tif (distance < minDistance) {\n\t\t\t\tnearestItems = [element];\n\t\t\t\tminDistance = distance;\n\t\t\t} else if (distance === minDistance) {\n\t\t\t\t// Can have multiple items at the same distance in which case we sort by size\n\t\t\t\tnearestItems.push(element);\n\t\t\t}\n\t\t});\n\n\t\treturn nearestItems;\n\t}\n\n\tfunction indexMode(chart, e, options) {\n\t\tvar position = getRelativePosition(e, chart);\n\t\tvar distanceMetric = function(pt1, pt2) {\n\t\t\treturn Math.abs(pt1.x - pt2.x);\n\t\t};\n\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\n\t\tvar elements = [];\n\n\t\tif (!items.length) {\n\t\t\treturn [];\n\t\t}\n\n\t\tchart.data.datasets.forEach(function(dataset, datasetIndex) {\n\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex),\n\t\t\t\t\telement = meta.data[items[0]._index];\n\n\t\t\t\t// don't count items that are skipped (null data)\n\t\t\t\tif (element && !element._view.skip) {\n\t\t\t\t\telements.push(element);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn elements;\n\t}\n\n\t/**\n\t * @interface IInteractionOptions\n\t */\n\t/**\n\t * If true, only consider items that intersect the point\n\t * @name IInterfaceOptions#boolean\n\t * @type Boolean\n\t */\n\n\t/**\n\t * Contains interaction related functions\n\t * @namespace Chart.Interaction\n\t */\n\tChart.Interaction = {\n\t\t// Helper function for different modes\n\t\tmodes: {\n\t\t\tsingle: function(chart, e) {\n\t\t\t\tvar position = getRelativePosition(e, chart);\n\t\t\t\tvar elements = [];\n\n\t\t\t\tparseVisibleItems(chart, function(element) {\n\t\t\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\t\t\telements.push(element);\n\t\t\t\t\t\treturn elements;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn elements.slice(0, 1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @function Chart.Interaction.modes.label\n\t\t\t * @deprecated since version 2.4.0\n\t \t\t * @todo remove at version 3\n\t\t\t * @private\n\t\t\t */\n\t\t\tlabel: indexMode,\n\n\t\t\t/**\n\t\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t\t * @function Chart.Interaction.modes.index\n\t\t\t * @since v2.4.0\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use during interaction\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tindex: indexMode,\n\n\t\t\t/**\n\t\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t\t * @function Chart.Interaction.modes.dataset\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use during interaction\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tdataset: function(chart, e, options) {\n\t\t\t\tvar position = getRelativePosition(e, chart);\n\t\t\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false);\n\n\t\t\t\tif (items.length > 0) {\n\t\t\t\t\titems = chart.getDatasetMeta(items[0]._datasetIndex).data;\n\t\t\t\t}\n\n\t\t\t\treturn items;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @function Chart.Interaction.modes.x-axis\n\t\t\t * @deprecated since version 2.4.0. Use index mode and intersect == true\n\t\t\t * @todo remove at version 3\n\t\t\t * @private\n\t\t\t */\n\t\t\t'x-axis': function(chart, e) {\n\t\t\t\treturn indexMode(chart, e, true);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Point mode returns all elements that hit test based on the event position\n\t\t\t * of the event\n\t\t\t * @function Chart.Interaction.modes.intersect\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tpoint: function(chart, e) {\n\t\t\t\tvar position = getRelativePosition(e, chart);\n\t\t\t\treturn getIntersectItems(chart, position);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * nearest mode returns the element closest to the point\n\t\t\t * @function Chart.Interaction.modes.intersect\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tnearest: function(chart, e, options) {\n\t\t\t\tvar position = getRelativePosition(e, chart);\n\t\t\t\tvar nearestItems = getNearestItems(chart, position, options.intersect);\n\n\t\t\t\t// We have multiple items at the same distance from the event. Now sort by smallest\n\t\t\t\tif (nearestItems.length > 1) {\n\t\t\t\t\tnearestItems.sort(function(a, b) {\n\t\t\t\t\t\tvar sizeA = a.getArea();\n\t\t\t\t\t\tvar sizeB = b.getArea();\n\t\t\t\t\t\tvar ret = sizeA - sizeB;\n\n\t\t\t\t\t\tif (ret === 0) {\n\t\t\t\t\t\t\t// if equal sort by dataset index\n\t\t\t\t\t\t\tret = a._datasetIndex - b._datasetIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Return only 1 item\n\t\t\t\treturn nearestItems.slice(0, 1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t\t * @function Chart.Interaction.modes.x\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\tx: function(chart, e, options) {\n\t\t\t\tvar position = getRelativePosition(e, chart);\n\t\t\t\tvar items = [];\n\t\t\t\tvar intersectsItem = false;\n\n\t\t\t\tparseVisibleItems(chart, function(element) {\n\t\t\t\t\tif (element.inXRange(position.x)) {\n\t\t\t\t\t\titems.push(element);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\t\t\tintersectsItem = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// If we want to trigger on an intersect and we don't have any items\n\t\t\t\t// that intersect the position, return nothing\n\t\t\t\tif (options.intersect && !intersectsItem) {\n\t\t\t\t\titems = [];\n\t\t\t\t}\n\t\t\t\treturn items;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t\t * @function Chart.Interaction.modes.y\n\t\t\t * @param chart {chart} the chart we are returning items from\n\t\t\t * @param e {Event} the event we are find things at\n\t\t\t * @param options {IInteractionOptions} options to use\n\t\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\n\t\t\t */\n\t\t\ty: function(chart, e, options) {\n\t\t\t\tvar position = getRelativePosition(e, chart);\n\t\t\t\tvar items = [];\n\t\t\t\tvar intersectsItem = false;\n\n\t\t\t\tparseVisibleItems(chart, function(element) {\n\t\t\t\t\tif (element.inYRange(position.y)) {\n\t\t\t\t\t\titems.push(element);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (element.inRange(position.x, position.y)) {\n\t\t\t\t\t\tintersectsItem = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// If we want to trigger on an intersect and we don't have any items\n\t\t\t\t// that intersect the position, return nothing\n\t\t\t\tif (options.intersect && !intersectsItem) {\n\t\t\t\t\titems = [];\n\t\t\t\t}\n\t\t\t\treturn items;\n\t\t\t}\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\t/**\n \t * Helper method to merge the opacity into a color\n \t */\n\tfunction mergeOpacity(colorString, opacity) {\n\t\tvar color = helpers.color(colorString);\n\t\treturn color.alpha(opacity * color.alpha()).rgbaString();\n\t}\n\n\tChart.defaults.global.tooltips = {\n\t\tenabled: true,\n\t\tcustom: null,\n\t\tmode: 'nearest',\n\t\tposition: 'average',\n\t\tintersect: true,\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\t\ttitleFontStyle: 'bold',\n\t\ttitleSpacing: 2,\n\t\ttitleMarginBottom: 6,\n\t\ttitleFontColor: '#fff',\n\t\ttitleAlign: 'left',\n\t\tbodySpacing: 2,\n\t\tbodyFontColor: '#fff',\n\t\tbodyAlign: 'left',\n\t\tfooterFontStyle: 'bold',\n\t\tfooterSpacing: 2,\n\t\tfooterMarginTop: 6,\n\t\tfooterFontColor: '#fff',\n\t\tfooterAlign: 'left',\n\t\tyPadding: 6,\n\t\txPadding: 6,\n\t\tcaretPadding: 2,\n\t\tcaretSize: 5,\n\t\tcornerRadius: 6,\n\t\tmultiKeyBackground: '#fff',\n\t\tdisplayColors: true,\n\t\tborderColor: 'rgba(0,0,0,0)',\n\t\tborderWidth: 0,\n\t\tcallbacks: {\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeTitle: helpers.noop,\n\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t// Pick first xLabel for now\n\t\t\t\tvar title = '';\n\t\t\t\tvar labels = data.labels;\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\n\n\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\tvar item = tooltipItems[0];\n\n\t\t\t\t\tif (item.xLabel) {\n\t\t\t\t\t\ttitle = item.xLabel;\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\n\t\t\t\t\t\ttitle = labels[item.index];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn title;\n\t\t\t},\n\t\t\tafterTitle: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItem, data)\n\t\t\tbeforeLabel: helpers.noop,\n\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\n\n\t\t\t\tif (label) {\n\t\t\t\t\tlabel += ': ';\n\t\t\t\t}\n\t\t\t\tlabel += tooltipItem.yLabel;\n\t\t\t\treturn label;\n\t\t\t},\n\t\t\tlabelColor: function(tooltipItem, chart) {\n\t\t\t\tvar meta = chart.getDatasetMeta(tooltipItem.datasetIndex);\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\n\t\t\t\tvar view = activeElement._view;\n\t\t\t\treturn {\n\t\t\t\t\tborderColor: view.borderColor,\n\t\t\t\t\tbackgroundColor: view.backgroundColor\n\t\t\t\t};\n\t\t\t},\n\t\t\tafterLabel: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tafterBody: helpers.noop,\n\n\t\t\t// Args are: (tooltipItems, data)\n\t\t\tbeforeFooter: helpers.noop,\n\t\t\tfooter: helpers.noop,\n\t\t\tafterFooter: helpers.noop\n\t\t}\n\t};\n\n\t// Helper to push or concat based on if the 2nd parameter is an array or not\n\tfunction pushOrConcat(base, toPush) {\n\t\tif (toPush) {\n\t\t\tif (helpers.isArray(toPush)) {\n\t\t\t\t// base = base.concat(toPush);\n\t\t\t\tArray.prototype.push.apply(base, toPush);\n\t\t\t} else {\n\t\t\t\tbase.push(toPush);\n\t\t\t}\n\t\t}\n\n\t\treturn base;\n\t}\n\n\t// Private helper to create a tooltip item model\n\t// @param element : the chart element (point, arc, bar) to create the tooltip item for\n\t// @return : new tooltip item\n\tfunction createTooltipItem(element) {\n\t\tvar xScale = element._xScale;\n\t\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\n\t\tvar index = element._index,\n\t\t\tdatasetIndex = element._datasetIndex;\n\n\t\treturn {\n\t\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\n\t\t\tindex: index,\n\t\t\tdatasetIndex: datasetIndex,\n\t\t\tx: element._model.x,\n\t\t\ty: element._model.y\n\t\t};\n\t}\n\n\t/**\n\t * Helper to get the reset model for the tooltip\n\t * @param tooltipOpts {Object} the tooltip options\n\t */\n\tfunction getBaseModel(tooltipOpts) {\n\t\tvar globalDefaults = Chart.defaults.global;\n\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\treturn {\n\t\t\t// Positioning\n\t\t\txPadding: tooltipOpts.xPadding,\n\t\t\tyPadding: tooltipOpts.yPadding,\n\t\t\txAlign: tooltipOpts.xAlign,\n\t\t\tyAlign: tooltipOpts.yAlign,\n\n\t\t\t// Body\n\t\t\tbodyFontColor: tooltipOpts.bodyFontColor,\n\t\t\t_bodyFontFamily: getValueOrDefault(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t_bodyFontStyle: getValueOrDefault(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\n\t\t\t_bodyAlign: tooltipOpts.bodyAlign,\n\t\t\tbodyFontSize: getValueOrDefault(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\n\t\t\tbodySpacing: tooltipOpts.bodySpacing,\n\n\t\t\t// Title\n\t\t\ttitleFontColor: tooltipOpts.titleFontColor,\n\t\t\t_titleFontFamily: getValueOrDefault(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t_titleFontStyle: getValueOrDefault(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\n\t\t\ttitleFontSize: getValueOrDefault(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\n\t\t\t_titleAlign: tooltipOpts.titleAlign,\n\t\t\ttitleSpacing: tooltipOpts.titleSpacing,\n\t\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\n\n\t\t\t// Footer\n\t\t\tfooterFontColor: tooltipOpts.footerFontColor,\n\t\t\t_footerFontFamily: getValueOrDefault(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\n\t\t\t_footerFontStyle: getValueOrDefault(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\n\t\t\tfooterFontSize: getValueOrDefault(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\n\t\t\t_footerAlign: tooltipOpts.footerAlign,\n\t\t\tfooterSpacing: tooltipOpts.footerSpacing,\n\t\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\n\n\t\t\t// Appearance\n\t\t\tcaretSize: tooltipOpts.caretSize,\n\t\t\tcornerRadius: tooltipOpts.cornerRadius,\n\t\t\tbackgroundColor: tooltipOpts.backgroundColor,\n\t\t\topacity: 0,\n\t\t\tlegendColorBackground: tooltipOpts.multiKeyBackground,\n\t\t\tdisplayColors: tooltipOpts.displayColors,\n\t\t\tborderColor: tooltipOpts.borderColor,\n\t\t\tborderWidth: tooltipOpts.borderWidth\n\t\t};\n\t}\n\n\t/**\n\t * Get the size of the tooltip\n\t */\n\tfunction getTooltipSize(tooltip, model) {\n\t\tvar ctx = tooltip._chart.ctx;\n\n\t\tvar height = model.yPadding * 2; // Tooltip Padding\n\t\tvar width = 0;\n\n\t\t// Count of all lines in the body\n\t\tvar body = model.body;\n\t\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\n\t\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n\t\t}, 0);\n\t\tcombinedBodyLength += model.beforeBody.length + model.afterBody.length;\n\n\t\tvar titleLineCount = model.title.length;\n\t\tvar footerLineCount = model.footer.length;\n\t\tvar titleFontSize = model.titleFontSize,\n\t\t\tbodyFontSize = model.bodyFontSize,\n\t\t\tfooterFontSize = model.footerFontSize;\n\n\t\theight += titleLineCount * titleFontSize; // Title Lines\n\t\theight += titleLineCount ? (titleLineCount - 1) * model.titleSpacing : 0; // Title Line Spacing\n\t\theight += titleLineCount ? model.titleMarginBottom : 0; // Title's bottom Margin\n\t\theight += combinedBodyLength * bodyFontSize; // Body Lines\n\t\theight += combinedBodyLength ? (combinedBodyLength - 1) * model.bodySpacing : 0; // Body Line Spacing\n\t\theight += footerLineCount ? model.footerMarginTop : 0; // Footer Margin\n\t\theight += footerLineCount * (footerFontSize); // Footer Lines\n\t\theight += footerLineCount ? (footerLineCount - 1) * model.footerSpacing : 0; // Footer Line Spacing\n\n\t\t// Title width\n\t\tvar widthPadding = 0;\n\t\tvar maxLineWidth = function(line) {\n\t\t\twidth = Math.max(width, ctx.measureText(line).width + widthPadding);\n\t\t};\n\n\t\tctx.font = helpers.fontString(titleFontSize, model._titleFontStyle, model._titleFontFamily);\n\t\thelpers.each(model.title, maxLineWidth);\n\n\t\t// Body width\n\t\tctx.font = helpers.fontString(bodyFontSize, model._bodyFontStyle, model._bodyFontFamily);\n\t\thelpers.each(model.beforeBody.concat(model.afterBody), maxLineWidth);\n\n\t\t// Body lines may include some extra width due to the color box\n\t\twidthPadding = model.displayColors ? (bodyFontSize + 2) : 0;\n\t\thelpers.each(body, function(bodyItem) {\n\t\t\thelpers.each(bodyItem.before, maxLineWidth);\n\t\t\thelpers.each(bodyItem.lines, maxLineWidth);\n\t\t\thelpers.each(bodyItem.after, maxLineWidth);\n\t\t});\n\n\t\t// Reset back to 0\n\t\twidthPadding = 0;\n\n\t\t// Footer width\n\t\tctx.font = helpers.fontString(footerFontSize, model._footerFontStyle, model._footerFontFamily);\n\t\thelpers.each(model.footer, maxLineWidth);\n\n\t\t// Add padding\n\t\twidth += 2 * model.xPadding;\n\n\t\treturn {\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\t/**\n\t * Helper to get the alignment of a tooltip given the size\n\t */\n\tfunction determineAlignment(tooltip, size) {\n\t\tvar model = tooltip._model;\n\t\tvar chart = tooltip._chart;\n\t\tvar chartArea = tooltip._chart.chartArea;\n\t\tvar xAlign = 'center';\n\t\tvar yAlign = 'center';\n\n\t\tif (model.y < size.height) {\n\t\t\tyAlign = 'top';\n\t\t} else if (model.y > (chart.height - size.height)) {\n\t\t\tyAlign = 'bottom';\n\t\t}\n\n\t\tvar lf, rf; // functions to determine left, right alignment\n\t\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\n\t\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\n\t\tvar midX = (chartArea.left + chartArea.right) / 2;\n\t\tvar midY = (chartArea.top + chartArea.bottom) / 2;\n\n\t\tif (yAlign === 'center') {\n\t\t\tlf = function(x) {\n\t\t\t\treturn x <= midX;\n\t\t\t};\n\t\t\trf = function(x) {\n\t\t\t\treturn x > midX;\n\t\t\t};\n\t\t} else {\n\t\t\tlf = function(x) {\n\t\t\t\treturn x <= (size.width / 2);\n\t\t\t};\n\t\t\trf = function(x) {\n\t\t\t\treturn x >= (chart.width - (size.width / 2));\n\t\t\t};\n\t\t}\n\n\t\tolf = function(x) {\n\t\t\treturn x + size.width > chart.width;\n\t\t};\n\t\torf = function(x) {\n\t\t\treturn x - size.width < 0;\n\t\t};\n\t\tyf = function(y) {\n\t\t\treturn y <= midY ? 'top' : 'bottom';\n\t\t};\n\n\t\tif (lf(model.x)) {\n\t\t\txAlign = 'left';\n\n\t\t\t// Is tooltip too wide and goes over the right side of the chart.?\n\t\t\tif (olf(model.x)) {\n\t\t\t\txAlign = 'center';\n\t\t\t\tyAlign = yf(model.y);\n\t\t\t}\n\t\t} else if (rf(model.x)) {\n\t\t\txAlign = 'right';\n\n\t\t\t// Is tooltip too wide and goes outside left edge of canvas?\n\t\t\tif (orf(model.x)) {\n\t\t\t\txAlign = 'center';\n\t\t\t\tyAlign = yf(model.y);\n\t\t\t}\n\t\t}\n\n\t\tvar opts = tooltip._options;\n\t\treturn {\n\t\t\txAlign: opts.xAlign ? opts.xAlign : xAlign,\n\t\t\tyAlign: opts.yAlign ? opts.yAlign : yAlign\n\t\t};\n\t}\n\n\t/**\n\t * @Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n\t */\n\tfunction getBackgroundPoint(vm, size, alignment) {\n\t\t// Background Position\n\t\tvar x = vm.x;\n\t\tvar y = vm.y;\n\n\t\tvar caretSize = vm.caretSize,\n\t\t\tcaretPadding = vm.caretPadding,\n\t\t\tcornerRadius = vm.cornerRadius,\n\t\t\txAlign = alignment.xAlign,\n\t\t\tyAlign = alignment.yAlign,\n\t\t\tpaddingAndSize = caretSize + caretPadding,\n\t\t\tradiusAndPadding = cornerRadius + caretPadding;\n\n\t\tif (xAlign === 'right') {\n\t\t\tx -= size.width;\n\t\t} else if (xAlign === 'center') {\n\t\t\tx -= (size.width / 2);\n\t\t}\n\n\t\tif (yAlign === 'top') {\n\t\t\ty += paddingAndSize;\n\t\t} else if (yAlign === 'bottom') {\n\t\t\ty -= size.height + paddingAndSize;\n\t\t} else {\n\t\t\ty -= (size.height / 2);\n\t\t}\n\n\t\tif (yAlign === 'center') {\n\t\t\tif (xAlign === 'left') {\n\t\t\t\tx += paddingAndSize;\n\t\t\t} else if (xAlign === 'right') {\n\t\t\t\tx -= paddingAndSize;\n\t\t\t}\n\t\t} else if (xAlign === 'left') {\n\t\t\tx -= radiusAndPadding;\n\t\t} else if (xAlign === 'right') {\n\t\t\tx += radiusAndPadding;\n\t\t}\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t}\n\n\tChart.Tooltip = Chart.Element.extend({\n\t\tinitialize: function() {\n\t\t\tthis._model = getBaseModel(this._options);\n\t\t},\n\n\t\t// Get the title\n\t\t// Args are: (tooltipItem, data)\n\t\tgetTitle: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\t\t\tvar callbacks = opts.callbacks;\n\n\t\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments),\n\t\t\t\ttitle = callbacks.title.apply(me, arguments),\n\t\t\t\tafterTitle = callbacks.afterTitle.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeTitle);\n\t\t\tlines = pushOrConcat(lines, title);\n\t\t\tlines = pushOrConcat(lines, afterTitle);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBeforeBody: function() {\n\t\t\tvar lines = this._options.callbacks.beforeBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetBody: function(tooltipItems, data) {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\t\t\tvar bodyItems = [];\n\n\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\tvar bodyItem = {\n\t\t\t\t\tbefore: [],\n\t\t\t\t\tlines: [],\n\t\t\t\t\tafter: []\n\t\t\t\t};\n\t\t\t\tpushOrConcat(bodyItem.before, callbacks.beforeLabel.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\n\t\t\t\tpushOrConcat(bodyItem.after, callbacks.afterLabel.call(me, tooltipItem, data));\n\n\t\t\t\tbodyItems.push(bodyItem);\n\t\t\t});\n\n\t\t\treturn bodyItems;\n\t\t},\n\n\t\t// Args are: (tooltipItem, data)\n\t\tgetAfterBody: function() {\n\t\t\tvar lines = this._options.callbacks.afterBody.apply(this, arguments);\n\t\t\treturn helpers.isArray(lines) ? lines : lines !== undefined ? [lines] : [];\n\t\t},\n\n\t\t// Get the footer and beforeFooter and afterFooter lines\n\t\t// Args are: (tooltipItem, data)\n\t\tgetFooter: function() {\n\t\t\tvar me = this;\n\t\t\tvar callbacks = me._options.callbacks;\n\n\t\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\n\t\t\tvar footer = callbacks.footer.apply(me, arguments);\n\t\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\n\n\t\t\tvar lines = [];\n\t\t\tlines = pushOrConcat(lines, beforeFooter);\n\t\t\tlines = pushOrConcat(lines, footer);\n\t\t\tlines = pushOrConcat(lines, afterFooter);\n\n\t\t\treturn lines;\n\t\t},\n\n\t\tupdate: function(changed) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me._options;\n\n\t\t\t// Need to regenerate the model because its faster than using extend and it is necessary due to the optimization in Chart.Element.transition\n\t\t\t// that does _view = _model if ease === 1. This causes the 2nd tooltip update to set properties in both the view and model at the same time\n\t\t\t// which breaks any animations.\n\t\t\tvar existingModel = me._model;\n\t\t\tvar model = me._model = getBaseModel(opts);\n\t\t\tvar active = me._active;\n\n\t\t\tvar data = me._data;\n\n\t\t\t// In the case where active.length === 0 we need to keep these at existing values for good animations\n\t\t\tvar alignment = {\n\t\t\t\txAlign: existingModel.xAlign,\n\t\t\t\tyAlign: existingModel.yAlign\n\t\t\t};\n\t\t\tvar backgroundPoint = {\n\t\t\t\tx: existingModel.x,\n\t\t\t\ty: existingModel.y\n\t\t\t};\n\t\t\tvar tooltipSize = {\n\t\t\t\twidth: existingModel.width,\n\t\t\t\theight: existingModel.height\n\t\t\t};\n\t\t\tvar tooltipPosition = {\n\t\t\t\tx: existingModel.caretX,\n\t\t\t\ty: existingModel.caretY\n\t\t\t};\n\n\t\t\tvar i, len;\n\n\t\t\tif (active.length) {\n\t\t\t\tmodel.opacity = 1;\n\n\t\t\t\tvar labelColors = [];\n\t\t\t\ttooltipPosition = Chart.Tooltip.positioners[opts.position](active, me._eventPosition);\n\n\t\t\t\tvar tooltipItems = [];\n\t\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\n\t\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\n\t\t\t\t}\n\n\t\t\t\t// If the user provided a filter function, use it to modify the tooltip items\n\t\t\t\tif (opts.filter) {\n\t\t\t\t\ttooltipItems = tooltipItems.filter(function(a) {\n\t\t\t\t\t\treturn opts.filter(a, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\n\t\t\t\tif (opts.itemSort) {\n\t\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\n\t\t\t\t\t\treturn opts.itemSort(a, b, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Determine colors for boxes\n\t\t\t\thelpers.each(tooltipItems, function(tooltipItem) {\n\t\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, me._chart));\n\t\t\t\t});\n\n\t\t\t\t// Build the Text Lines\n\t\t\t\tmodel.title = me.getTitle(tooltipItems, data);\n\t\t\t\tmodel.beforeBody = me.getBeforeBody(tooltipItems, data);\n\t\t\t\tmodel.body = me.getBody(tooltipItems, data);\n\t\t\t\tmodel.afterBody = me.getAfterBody(tooltipItems, data);\n\t\t\t\tmodel.footer = me.getFooter(tooltipItems, data);\n\n\t\t\t\t// Initial positioning and colors\n\t\t\t\tmodel.x = Math.round(tooltipPosition.x);\n\t\t\t\tmodel.y = Math.round(tooltipPosition.y);\n\t\t\t\tmodel.caretPadding = opts.caretPadding;\n\t\t\t\tmodel.labelColors = labelColors;\n\n\t\t\t\t// data points\n\t\t\t\tmodel.dataPoints = tooltipItems;\n\n\t\t\t\t// We need to determine alignment of the tooltip\n\t\t\t\ttooltipSize = getTooltipSize(this, model);\n\t\t\t\talignment = determineAlignment(this, tooltipSize);\n\t\t\t\t// Final Size and Position\n\t\t\t\tbackgroundPoint = getBackgroundPoint(model, tooltipSize, alignment);\n\t\t\t} else {\n\t\t\t\tmodel.opacity = 0;\n\t\t\t}\n\n\t\t\tmodel.xAlign = alignment.xAlign;\n\t\t\tmodel.yAlign = alignment.yAlign;\n\t\t\tmodel.x = backgroundPoint.x;\n\t\t\tmodel.y = backgroundPoint.y;\n\t\t\tmodel.width = tooltipSize.width;\n\t\t\tmodel.height = tooltipSize.height;\n\n\t\t\t// Point where the caret on the tooltip points to\n\t\t\tmodel.caretX = tooltipPosition.x;\n\t\t\tmodel.caretY = tooltipPosition.y;\n\n\t\t\tme._model = model;\n\n\t\t\tif (changed && opts.custom) {\n\t\t\t\topts.custom.call(me, model);\n\t\t\t}\n\n\t\t\treturn me;\n\t\t},\n\t\tdrawCaret: function(tooltipPoint, size) {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\t\t\tvar caretPosition = this.getCaretPosition(tooltipPoint, size, vm);\n\n\t\t\tctx.lineTo(caretPosition.x1, caretPosition.y1);\n\t\t\tctx.lineTo(caretPosition.x2, caretPosition.y2);\n\t\t\tctx.lineTo(caretPosition.x3, caretPosition.y3);\n\t\t},\n\t\tgetCaretPosition: function(tooltipPoint, size, vm) {\n\t\t\tvar x1, x2, x3;\n\t\t\tvar y1, y2, y3;\n\t\t\tvar caretSize = vm.caretSize;\n\t\t\tvar cornerRadius = vm.cornerRadius;\n\t\t\tvar xAlign = vm.xAlign,\n\t\t\t\tyAlign = vm.yAlign;\n\t\t\tvar ptX = tooltipPoint.x,\n\t\t\t\tptY = tooltipPoint.y;\n\t\t\tvar width = size.width,\n\t\t\t\theight = size.height;\n\n\t\t\tif (yAlign === 'center') {\n\t\t\t\ty2 = ptY + (height / 2);\n\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx1 = ptX;\n\t\t\t\t\tx2 = x1 - caretSize;\n\t\t\t\t\tx3 = x1;\n\n\t\t\t\t\ty1 = y2 + caretSize;\n\t\t\t\t\ty3 = y2 - caretSize;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = ptX + width;\n\t\t\t\t\tx2 = x1 + caretSize;\n\t\t\t\t\tx3 = x1;\n\n\t\t\t\t\ty1 = y2 - caretSize;\n\t\t\t\t\ty3 = y2 + caretSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (xAlign === 'left') {\n\t\t\t\t\tx2 = ptX + cornerRadius + (caretSize);\n\t\t\t\t\tx1 = x2 - caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t} else if (xAlign === 'right') {\n\t\t\t\t\tx2 = ptX + width - cornerRadius - caretSize;\n\t\t\t\t\tx1 = x2 - caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t} else {\n\t\t\t\t\tx2 = ptX + (width / 2);\n\t\t\t\t\tx1 = x2 - caretSize;\n\t\t\t\t\tx3 = x2 + caretSize;\n\t\t\t\t}\n\t\t\t\tif (yAlign === 'top') {\n\t\t\t\t\ty1 = ptY;\n\t\t\t\t\ty2 = y1 - caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t} else {\n\t\t\t\t\ty1 = ptY + height;\n\t\t\t\t\ty2 = y1 + caretSize;\n\t\t\t\t\ty3 = y1;\n\t\t\t\t\t// invert drawing order\n\t\t\t\t\tvar tmp = x3;\n\t\t\t\t\tx3 = x1;\n\t\t\t\t\tx1 = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {x1: x1, x2: x2, x3: x3, y1: y1, y2: y2, y3: y3};\n\t\t},\n\t\tdrawTitle: function(pt, vm, ctx, opacity) {\n\t\t\tvar title = vm.title;\n\n\t\t\tif (title.length) {\n\t\t\t\tctx.textAlign = vm._titleAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tvar titleFontSize = vm.titleFontSize,\n\t\t\t\t\ttitleSpacing = vm.titleSpacing;\n\n\t\t\t\tctx.fillStyle = mergeOpacity(vm.titleFontColor, opacity);\n\t\t\t\tctx.font = helpers.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\n\n\t\t\t\tvar i, len;\n\t\t\t\tfor (i = 0, len = title.length; i < len; ++i) {\n\t\t\t\t\tctx.fillText(title[i], pt.x, pt.y);\n\t\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\n\n\t\t\t\t\tif (i + 1 === title.length) {\n\t\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdrawBody: function(pt, vm, ctx, opacity) {\n\t\t\tvar bodyFontSize = vm.bodyFontSize;\n\t\t\tvar bodySpacing = vm.bodySpacing;\n\t\t\tvar body = vm.body;\n\n\t\t\tctx.textAlign = vm._bodyAlign;\n\t\t\tctx.textBaseline = 'top';\n\n\t\t\tvar textColor = mergeOpacity(vm.bodyFontColor, opacity);\n\t\t\tctx.fillStyle = textColor;\n\t\t\tctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\n\n\t\t\t// Before Body\n\t\t\tvar xLinePadding = 0;\n\t\t\tvar fillLineOfText = function(line) {\n\t\t\t\tctx.fillText(line, pt.x + xLinePadding, pt.y);\n\t\t\t\tpt.y += bodyFontSize + bodySpacing;\n\t\t\t};\n\n\t\t\t// Before body lines\n\t\t\thelpers.each(vm.beforeBody, fillLineOfText);\n\n\t\t\tvar drawColorBoxes = vm.displayColors;\n\t\t\txLinePadding = drawColorBoxes ? (bodyFontSize + 2) : 0;\n\n\t\t\t// Draw body lines now\n\t\t\thelpers.each(body, function(bodyItem, i) {\n\t\t\t\thelpers.each(bodyItem.before, fillLineOfText);\n\n\t\t\t\thelpers.each(bodyItem.lines, function(line) {\n\t\t\t\t\t// Draw Legend-like boxes if needed\n\t\t\t\t\tif (drawColorBoxes) {\n\t\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\n\t\t\t\t\t\tctx.fillStyle = mergeOpacity(vm.legendColorBackground, opacity);\n\t\t\t\t\t\tctx.fillRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Border\n\t\t\t\t\t\tctx.strokeStyle = mergeOpacity(vm.labelColors[i].borderColor, opacity);\n\t\t\t\t\t\tctx.strokeRect(pt.x, pt.y, bodyFontSize, bodyFontSize);\n\n\t\t\t\t\t\t// Inner square\n\t\t\t\t\t\tctx.fillStyle = mergeOpacity(vm.labelColors[i].backgroundColor, opacity);\n\t\t\t\t\t\tctx.fillRect(pt.x + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\n\n\t\t\t\t\t\tctx.fillStyle = textColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tfillLineOfText(line);\n\t\t\t\t});\n\n\t\t\t\thelpers.each(bodyItem.after, fillLineOfText);\n\t\t\t});\n\n\t\t\t// Reset back to 0 for after body\n\t\t\txLinePadding = 0;\n\n\t\t\t// After body lines\n\t\t\thelpers.each(vm.afterBody, fillLineOfText);\n\t\t\tpt.y -= bodySpacing; // Remove last body spacing\n\t\t},\n\t\tdrawFooter: function(pt, vm, ctx, opacity) {\n\t\t\tvar footer = vm.footer;\n\n\t\t\tif (footer.length) {\n\t\t\t\tpt.y += vm.footerMarginTop;\n\n\t\t\t\tctx.textAlign = vm._footerAlign;\n\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\tctx.fillStyle = mergeOpacity(vm.footerFontColor, opacity);\n\t\t\t\tctx.font = helpers.fontString(vm.footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\n\n\t\t\t\thelpers.each(footer, function(line) {\n\t\t\t\t\tctx.fillText(line, pt.x, pt.y);\n\t\t\t\t\tpt.y += vm.footerFontSize + vm.footerSpacing;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdrawBackground: function(pt, vm, ctx, tooltipSize, opacity) {\n\t\t\tctx.fillStyle = mergeOpacity(vm.backgroundColor, opacity);\n\t\t\tctx.strokeStyle = mergeOpacity(vm.borderColor, opacity);\n\t\t\tctx.lineWidth = vm.borderWidth;\n\t\t\tvar xAlign = vm.xAlign;\n\t\t\tvar yAlign = vm.yAlign;\n\t\t\tvar x = pt.x;\n\t\t\tvar y = pt.y;\n\t\t\tvar width = tooltipSize.width;\n\t\t\tvar height = tooltipSize.height;\n\t\t\tvar radius = vm.cornerRadius;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x + radius, y);\n\t\t\tif (yAlign === 'top') {\n\t\t\t\tthis.drawCaret(pt, tooltipSize);\n\t\t\t}\n\t\t\tctx.lineTo(x + width - radius, y);\n\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\t\tif (yAlign === 'center' && xAlign === 'right') {\n\t\t\t\tthis.drawCaret(pt, tooltipSize);\n\t\t\t}\n\t\t\tctx.lineTo(x + width, y + height - radius);\n\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\t\tif (yAlign === 'bottom') {\n\t\t\t\tthis.drawCaret(pt, tooltipSize);\n\t\t\t}\n\t\t\tctx.lineTo(x + radius, y + height);\n\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\t\tif (yAlign === 'center' && xAlign === 'left') {\n\t\t\t\tthis.drawCaret(pt, tooltipSize);\n\t\t\t}\n\t\t\tctx.lineTo(x, y + radius);\n\t\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\t\tctx.closePath();\n\n\t\t\tctx.fill();\n\n\t\t\tif (vm.borderWidth > 0) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm.opacity === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar tooltipSize = {\n\t\t\t\twidth: vm.width,\n\t\t\t\theight: vm.height\n\t\t\t};\n\t\t\tvar pt = {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\n\t\t\t// IE11/Edge does not like very small opacities, so snap to 0\n\t\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\n\n\t\t\t// Truthy/falsey value for empty tooltip\n\t\t\tvar hasTooltipContent = vm.title.length || vm.beforeBody.length || vm.body.length || vm.afterBody.length || vm.footer.length;\n\n\t\t\tif (this._options.enabled && hasTooltipContent) {\n\t\t\t\t// Draw Background\n\t\t\t\tthis.drawBackground(pt, vm, ctx, tooltipSize, opacity);\n\n\t\t\t\t// Draw Title, Body, and Footer\n\t\t\t\tpt.x += vm.xPadding;\n\t\t\t\tpt.y += vm.yPadding;\n\n\t\t\t\t// Titles\n\t\t\t\tthis.drawTitle(pt, vm, ctx, opacity);\n\n\t\t\t\t// Body\n\t\t\t\tthis.drawBody(pt, vm, ctx, opacity);\n\n\t\t\t\t// Footer\n\t\t\t\tthis.drawFooter(pt, vm, ctx, opacity);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handle an event\n\t\t * @private\n\t\t * @param {IEvent} event - The event to handle\n\t\t * @returns {Boolean} true if the tooltip changed\n\t\t */\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar options = me._options;\n\t\t\tvar changed = false;\n\n\t\t\tme._lastActive = me._lastActive || [];\n\n\t\t\t// Find Active Elements for tooltips\n\t\t\tif (e.type === 'mouseout') {\n\t\t\t\tme._active = [];\n\t\t\t} else {\n\t\t\t\tme._active = me._chart.getElementsAtEventForMode(e, options.mode, options);\n\t\t\t}\n\n\t\t\t// Remember Last Actives\n\t\t\tchanged = !helpers.arrayEquals(me._active, me._lastActive);\n\n\t\t\t// If tooltip didn't change, do not handle the target event\n\t\t\tif (!changed) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tme._lastActive = me._active;\n\n\t\t\tif (options.enabled || options.custom) {\n\t\t\t\tme._eventPosition = {\n\t\t\t\t\tx: e.x,\n\t\t\t\t\ty: e.y\n\t\t\t\t};\n\n\t\t\t\tvar model = me._model;\n\t\t\t\tme.update(true);\n\t\t\t\tme.pivot();\n\n\t\t\t\t// See if our tooltip position changed\n\t\t\t\tchanged |= (model.x !== me._model.x) || (model.y !== me._model.y);\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t}\n\t});\n\n\t/**\n\t * @namespace Chart.Tooltip.positioners\n\t */\n\tChart.Tooltip.positioners = {\n\t\t/**\n\t\t * Average mode places the tooltip at the average position of the elements shown\n\t\t * @function Chart.Tooltip.positioners.average\n\t\t * @param elements {ChartElement[]} the elements being displayed in the tooltip\n\t\t * @returns {Point} tooltip position\n\t\t */\n\t\taverage: function(elements) {\n\t\t\tif (!elements.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i, len;\n\t\t\tvar x = 0;\n\t\t\tvar y = 0;\n\t\t\tvar count = 0;\n\n\t\t\tfor (i = 0, len = elements.length; i < len; ++i) {\n\t\t\t\tvar el = elements[i];\n\t\t\t\tif (el && el.hasValue()) {\n\t\t\t\t\tvar pos = el.tooltipPosition();\n\t\t\t\t\tx += pos.x;\n\t\t\t\t\ty += pos.y;\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: Math.round(x / count),\n\t\t\t\ty: Math.round(y / count)\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Gets the tooltip position nearest of the item nearest to the event position\n\t\t * @function Chart.Tooltip.positioners.nearest\n\t\t * @param elements {Chart.Element[]} the tooltip elements\n\t\t * @param eventPosition {Point} the position of the event in canvas coordinates\n\t\t * @returns {Point} the tooltip position\n\t\t */\n\t\tnearest: function(elements, eventPosition) {\n\t\t\tvar x = eventPosition.x;\n\t\t\tvar y = eventPosition.y;\n\n\t\t\tvar nearestElement;\n\t\t\tvar minDistance = Number.POSITIVE_INFINITY;\n\t\t\tvar i, len;\n\t\t\tfor (i = 0, len = elements.length; i < len; ++i) {\n\t\t\t\tvar el = elements[i];\n\t\t\t\tif (el && el.hasValue()) {\n\t\t\t\t\tvar center = el.getCenterPoint();\n\t\t\t\t\tvar d = helpers.distanceBetweenPoints(eventPosition, center);\n\n\t\t\t\t\tif (d < minDistance) {\n\t\t\t\t\t\tminDistance = d;\n\t\t\t\t\t\tnearestElement = el;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (nearestElement) {\n\t\t\t\tvar tp = nearestElement.tooltipPosition();\n\t\t\t\tx = tp.x;\n\t\t\t\ty = tp.y;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.arc = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderColor: '#fff',\n\t\tborderWidth: 2\n\t};\n\n\tChart.elements.Arc = Chart.Element.extend({\n\t\tinLabelRange: function(mouseX) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tinRange: function(chartX, chartY) {\n\t\t\tvar vm = this._view;\n\n\t\t\tif (vm) {\n\t\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(vm, {\n\t\t\t\t\t\tx: chartX,\n\t\t\t\t\t\ty: chartY\n\t\t\t\t\t}),\n\t\t\t\t\tangle = pointRelativePosition.angle,\n\t\t\t\t\tdistance = pointRelativePosition.distance;\n\n\t\t\t\t// Sanitise angle range\n\t\t\t\tvar startAngle = vm.startAngle;\n\t\t\t\tvar endAngle = vm.endAngle;\n\t\t\t\twhile (endAngle < startAngle) {\n\t\t\t\t\tendAngle += 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle > endAngle) {\n\t\t\t\t\tangle -= 2.0 * Math.PI;\n\t\t\t\t}\n\t\t\t\twhile (angle < startAngle) {\n\t\t\t\t\tangle += 2.0 * Math.PI;\n\t\t\t\t}\n\n\t\t\t\t// Check if within the range of the open/close angle\n\t\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle),\n\t\t\t\t\twithinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\n\n\t\t\t\treturn (betweenAngles && withinRadius);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tgetCenterPoint: function() {\n\t\t\tvar vm = this._view;\n\t\t\tvar halfAngle = (vm.startAngle + vm.endAngle) / 2;\n\t\t\tvar halfRadius = (vm.innerRadius + vm.outerRadius) / 2;\n\t\t\treturn {\n\t\t\t\tx: vm.x + Math.cos(halfAngle) * halfRadius,\n\t\t\t\ty: vm.y + Math.sin(halfAngle) * halfRadius\n\t\t\t};\n\t\t},\n\t\tgetArea: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn Math.PI * ((vm.endAngle - vm.startAngle) / (2 * Math.PI)) * (Math.pow(vm.outerRadius, 2) - Math.pow(vm.innerRadius, 2));\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\n\t\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2),\n\t\t\t\trangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\n\t\t\treturn {\n\t\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\n\t\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\n\t\t\t};\n\t\t},\n\t\tdraw: function() {\n\n\t\t\tvar ctx = this._chart.ctx,\n\t\t\t\tvm = this._view,\n\t\t\t\tsA = vm.startAngle,\n\t\t\t\teA = vm.endAngle;\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(vm.x, vm.y, vm.outerRadius, sA, eA);\n\t\t\tctx.arc(vm.x, vm.y, vm.innerRadius, eA, sA, true);\n\n\t\t\tctx.closePath();\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = vm.borderWidth;\n\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\n\t\t\tctx.fill();\n\t\t\tctx.lineJoin = 'bevel';\n\n\t\t\tif (vm.borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tChart.defaults.global.elements.line = {\n\t\ttension: 0.4,\n\t\tbackgroundColor: globalDefaults.defaultColor,\n\t\tborderWidth: 3,\n\t\tborderColor: globalDefaults.defaultColor,\n\t\tborderCapStyle: 'butt',\n\t\tborderDash: [],\n\t\tborderDashOffset: 0.0,\n\t\tborderJoinStyle: 'miter',\n\t\tcapBezierPoints: true,\n\t\tfill: true, // do we fill in the area between the line and its base axis\n\t};\n\n\tChart.elements.Line = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar vm = me._view;\n\t\t\tvar ctx = me._chart.ctx;\n\t\t\tvar spanGaps = vm.spanGaps;\n\t\t\tvar points = me._children.slice(); // clone array\n\t\t\tvar globalOptionLineElements = globalDefaults.elements.line;\n\t\t\tvar lastDrawnIndex = -1;\n\t\t\tvar index, current, previous, currentVM;\n\n\t\t\t// If we are looping, adding the first point again\n\t\t\tif (me._loop && points.length) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\tctx.save();\n\n\t\t\t// Stroke Line Options\n\t\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\n\n\t\t\t// IE 9 and 10 do not support line dash\n\t\t\tif (ctx.setLineDash) {\n\t\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\n\t\t\t}\n\n\t\t\tctx.lineDashOffset = vm.borderDashOffset || globalOptionLineElements.borderDashOffset;\n\t\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\n\t\t\tctx.lineWidth = vm.borderWidth || globalOptionLineElements.borderWidth;\n\t\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\n\n\t\t\t// Stroke Line\n\t\t\tctx.beginPath();\n\t\t\tlastDrawnIndex = -1;\n\n\t\t\tfor (index = 0; index < points.length; ++index) {\n\t\t\t\tcurrent = points[index];\n\t\t\t\tprevious = helpers.previousItem(points, index);\n\t\t\t\tcurrentVM = current._view;\n\n\t\t\t\t// First point moves to it's starting position no matter what\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprevious = lastDrawnIndex === -1 ? previous : points[lastDrawnIndex];\n\n\t\t\t\t\tif (!currentVM.skip) {\n\t\t\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\n\t\t\t\t\t\t\t// There was a gap and this is the first point after the gap\n\t\t\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Line to next point\n\t\t\t\t\t\t\thelpers.canvas.lineTo(ctx, previous._view, current._view);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastDrawnIndex = index;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tctx.stroke();\n\t\t\tctx.restore();\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tglobalOpts = Chart.defaults.global,\n\t\tdefaultColor = globalOpts.defaultColor;\n\n\tglobalOpts.elements.point = {\n\t\tradius: 3,\n\t\tpointStyle: 'circle',\n\t\tbackgroundColor: defaultColor,\n\t\tborderWidth: 1,\n\t\tborderColor: defaultColor,\n\t\t// Hover\n\t\thitRadius: 1,\n\t\thoverRadius: 4,\n\t\thoverBorderWidth: 1\n\t};\n\n\tfunction xRange(mouseX) {\n\t\tvar vm = this._view;\n\t\treturn vm ? (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hitRadius, 2)) : false;\n\t}\n\n\tfunction yRange(mouseY) {\n\t\tvar vm = this._view;\n\t\treturn vm ? (Math.pow(mouseY - vm.y, 2) < Math.pow(vm.radius + vm.hitRadius, 2)) : false;\n\t}\n\n\tChart.elements.Point = Chart.Element.extend({\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\n\t\t},\n\n\t\tinLabelRange: xRange,\n\t\tinXRange: xRange,\n\t\tinYRange: yRange,\n\n\t\tgetCenterPoint: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\t\t},\n\t\tgetArea: function() {\n\t\t\treturn Math.PI * Math.pow(this._view.radius, 2);\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y,\n\t\t\t\tpadding: vm.radius + vm.borderWidth\n\t\t\t};\n\t\t},\n\t\tdraw: function(chartArea) {\n\t\t\tvar vm = this._view;\n\t\t\tvar model = this._model;\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar pointStyle = vm.pointStyle;\n\t\t\tvar radius = vm.radius;\n\t\t\tvar x = vm.x;\n\t\t\tvar y = vm.y;\n\t\t\tvar color = Chart.helpers.color;\n\t\t\tvar errMargin = 1.01; // 1.01 is margin for Accumulated error. (Especially Edge, IE.)\n\t\t\tvar ratio = 0;\n\n\t\t\tif (vm.skip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\n\t\t\tctx.lineWidth = helpers.getValueOrDefault(vm.borderWidth, globalOpts.elements.point.borderWidth);\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\n\n\t\t\t// Cliping for Points.\n\t\t\t// going out from inner charArea?\n\t\t\tif ((chartArea !== undefined) && ((model.x < chartArea.left) || (chartArea.right*errMargin < model.x) || (model.y < chartArea.top) || (chartArea.bottom*errMargin < model.y))) {\n\t\t\t\t// Point fade out\n\t\t\t\tif (model.x < chartArea.left) {\n\t\t\t\t\tratio = (x - model.x) / (chartArea.left - model.x);\n\t\t\t\t} else if (chartArea.right*errMargin < model.x) {\n\t\t\t\t\tratio = (model.x - x) / (model.x - chartArea.right);\n\t\t\t\t} else if (model.y < chartArea.top) {\n\t\t\t\t\tratio = (y - model.y) / (chartArea.top - model.y);\n\t\t\t\t} else if (chartArea.bottom*errMargin < model.y) {\n\t\t\t\t\tratio = (model.y - y) / (model.y - chartArea.bottom);\n\t\t\t\t}\n\t\t\t\tratio = Math.round(ratio*100) / 100;\n\t\t\t\tctx.strokeStyle = color(ctx.strokeStyle).alpha(ratio).rgbString();\n\t\t\t\tctx.fillStyle = color(ctx.fillStyle).alpha(ratio).rgbString();\n\t\t\t}\n\n\t\t\tChart.canvasHelpers.drawPoint(ctx, pointStyle, radius, x, y);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar globalOpts = Chart.defaults.global;\n\n\tglobalOpts.elements.rectangle = {\n\t\tbackgroundColor: globalOpts.defaultColor,\n\t\tborderWidth: 0,\n\t\tborderColor: globalOpts.defaultColor,\n\t\tborderSkipped: 'bottom'\n\t};\n\n\tfunction isVertical(bar) {\n\t\treturn bar._view.width !== undefined;\n\t}\n\n\t/**\n\t * Helper function to get the bounds of the bar regardless of the orientation\n\t * @private\n\t * @param bar {Chart.Element.Rectangle} the bar\n\t * @return {Bounds} bounds of the bar\n\t */\n\tfunction getBarBounds(bar) {\n\t\tvar vm = bar._view;\n\t\tvar x1, x2, y1, y2;\n\n\t\tif (isVertical(bar)) {\n\t\t\t// vertical\n\t\t\tvar halfWidth = vm.width / 2;\n\t\t\tx1 = vm.x - halfWidth;\n\t\t\tx2 = vm.x + halfWidth;\n\t\t\ty1 = Math.min(vm.y, vm.base);\n\t\t\ty2 = Math.max(vm.y, vm.base);\n\t\t} else {\n\t\t\t// horizontal bar\n\t\t\tvar halfHeight = vm.height / 2;\n\t\t\tx1 = Math.min(vm.x, vm.base);\n\t\t\tx2 = Math.max(vm.x, vm.base);\n\t\t\ty1 = vm.y - halfHeight;\n\t\t\ty2 = vm.y + halfHeight;\n\t\t}\n\n\t\treturn {\n\t\t\tleft: x1,\n\t\t\ttop: y1,\n\t\t\tright: x2,\n\t\t\tbottom: y2\n\t\t};\n\t}\n\n\tChart.elements.Rectangle = Chart.Element.extend({\n\t\tdraw: function() {\n\t\t\tvar ctx = this._chart.ctx;\n\t\t\tvar vm = this._view;\n\t\t\tvar left, right, top, bottom, signX, signY, borderSkipped;\n\t\t\tvar borderWidth = vm.borderWidth;\n\n\t\t\tif (!vm.horizontal) {\n\t\t\t\t// bar\n\t\t\t\tleft = vm.x - vm.width / 2;\n\t\t\t\tright = vm.x + vm.width / 2;\n\t\t\t\ttop = vm.y;\n\t\t\t\tbottom = vm.base;\n\t\t\t\tsignX = 1;\n\t\t\t\tsignY = bottom > top? 1: -1;\n\t\t\t\tborderSkipped = vm.borderSkipped || 'bottom';\n\t\t\t} else {\n\t\t\t\t// horizontal bar\n\t\t\t\tleft = vm.base;\n\t\t\t\tright = vm.x;\n\t\t\t\ttop = vm.y - vm.height / 2;\n\t\t\t\tbottom = vm.y + vm.height / 2;\n\t\t\t\tsignX = right > left? 1: -1;\n\t\t\t\tsignY = 1;\n\t\t\t\tborderSkipped = vm.borderSkipped || 'left';\n\t\t\t}\n\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\tif (borderWidth) {\n\t\t\t\t// borderWidth shold be less than bar width and bar height.\n\t\t\t\tvar barSize = Math.min(Math.abs(left - right), Math.abs(top - bottom));\n\t\t\t\tborderWidth = borderWidth > barSize? barSize: borderWidth;\n\t\t\t\tvar halfStroke = borderWidth / 2;\n\t\t\t\t// Adjust borderWidth when bar top position is near vm.base(zero).\n\t\t\t\tvar borderLeft = left + (borderSkipped !== 'left'? halfStroke * signX: 0);\n\t\t\t\tvar borderRight = right + (borderSkipped !== 'right'? -halfStroke * signX: 0);\n\t\t\t\tvar borderTop = top + (borderSkipped !== 'top'? halfStroke * signY: 0);\n\t\t\t\tvar borderBottom = bottom + (borderSkipped !== 'bottom'? -halfStroke * signY: 0);\n\t\t\t\t// not become a vertical line?\n\t\t\t\tif (borderLeft !== borderRight) {\n\t\t\t\t\ttop = borderTop;\n\t\t\t\t\tbottom = borderBottom;\n\t\t\t\t}\n\t\t\t\t// not become a horizontal line?\n\t\t\t\tif (borderTop !== borderBottom) {\n\t\t\t\t\tleft = borderLeft;\n\t\t\t\t\tright = borderRight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = vm.backgroundColor;\n\t\t\tctx.strokeStyle = vm.borderColor;\n\t\t\tctx.lineWidth = borderWidth;\n\n\t\t\t// Corner points, from bottom-left to bottom-right clockwise\n\t\t\t// | 1 2 |\n\t\t\t// | 0 3 |\n\t\t\tvar corners = [\n\t\t\t\t[left, bottom],\n\t\t\t\t[left, top],\n\t\t\t\t[right, top],\n\t\t\t\t[right, bottom]\n\t\t\t];\n\n\t\t\t// Find first (starting) corner with fallback to 'bottom'\n\t\t\tvar borders = ['bottom', 'left', 'top', 'right'];\n\t\t\tvar startCorner = borders.indexOf(borderSkipped, 0);\n\t\t\tif (startCorner === -1) {\n\t\t\t\tstartCorner = 0;\n\t\t\t}\n\n\t\t\tfunction cornerAt(index) {\n\t\t\t\treturn corners[(startCorner + index) % 4];\n\t\t\t}\n\n\t\t\t// Draw rectangle from 'startCorner'\n\t\t\tvar corner = cornerAt(0);\n\t\t\tctx.moveTo(corner[0], corner[1]);\n\n\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\tcorner = cornerAt(i);\n\t\t\t\tctx.lineTo(corner[0], corner[1]);\n\t\t\t}\n\n\t\t\tctx.fill();\n\t\t\tif (borderWidth) {\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\theight: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm.base - vm.y;\n\t\t},\n\t\tinRange: function(mouseX, mouseY) {\n\t\t\tvar inRange = false;\n\n\t\t\tif (this._view) {\n\t\t\t\tvar bounds = getBarBounds(this);\n\t\t\t\tinRange = mouseX >= bounds.left && mouseX <= bounds.right && mouseY >= bounds.top && mouseY <= bounds.bottom;\n\t\t\t}\n\n\t\t\treturn inRange;\n\t\t},\n\t\tinLabelRange: function(mouseX, mouseY) {\n\t\t\tvar me = this;\n\t\t\tif (!me._view) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar inRange = false;\n\t\t\tvar bounds = getBarBounds(me);\n\n\t\t\tif (isVertical(me)) {\n\t\t\t\tinRange = mouseX >= bounds.left && mouseX <= bounds.right;\n\t\t\t} else {\n\t\t\t\tinRange = mouseY >= bounds.top && mouseY <= bounds.bottom;\n\t\t\t}\n\n\t\t\treturn inRange;\n\t\t},\n\t\tinXRange: function(mouseX) {\n\t\t\tvar bounds = getBarBounds(this);\n\t\t\treturn mouseX >= bounds.left && mouseX <= bounds.right;\n\t\t},\n\t\tinYRange: function(mouseY) {\n\t\t\tvar bounds = getBarBounds(this);\n\t\t\treturn mouseY >= bounds.top && mouseY <= bounds.bottom;\n\t\t},\n\t\tgetCenterPoint: function() {\n\t\t\tvar vm = this._view;\n\t\t\tvar x, y;\n\t\t\tif (isVertical(this)) {\n\t\t\t\tx = vm.x;\n\t\t\t\ty = (vm.y + vm.base) / 2;\n\t\t\t} else {\n\t\t\t\tx = (vm.x + vm.base) / 2;\n\t\t\t\ty = vm.y;\n\t\t\t}\n\n\t\t\treturn {x: x, y: y};\n\t\t},\n\t\tgetArea: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn vm.width * Math.abs(vm.y - vm.base);\n\t\t},\n\t\ttooltipPosition: function() {\n\t\t\tvar vm = this._view;\n\t\t\treturn {\n\t\t\t\tx: vm.x,\n\t\t\t\ty: vm.y\n\t\t\t};\n\t\t}\n\t});\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tnoop = helpers.noop;\n\n\tChart.LinearScaleBase = Chart.Scale.extend({\n\t\thandleTickRangeOptions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\n\t\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\n\t\t\t// axis, they can manually override it\n\t\t\tif (tickOpts.beginAtZero) {\n\t\t\t\tvar minSign = helpers.sign(me.min);\n\t\t\t\tvar maxSign = helpers.sign(me.max);\n\n\t\t\t\tif (minSign < 0 && maxSign < 0) {\n\t\t\t\t\t// move the top up to 0\n\t\t\t\t\tme.max = 0;\n\t\t\t\t} else if (minSign > 0 && maxSign > 0) {\n\t\t\t\t\t// move the bottom down to 0\n\t\t\t\t\tme.min = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.min !== undefined) {\n\t\t\t\tme.min = tickOpts.min;\n\t\t\t} else if (tickOpts.suggestedMin !== undefined) {\n\t\t\t\tif (me.min === null) {\n\t\t\t\t\tme.min = tickOpts.suggestedMin;\n\t\t\t\t} else {\n\t\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tickOpts.max !== undefined) {\n\t\t\t\tme.max = tickOpts.max;\n\t\t\t} else if (tickOpts.suggestedMax !== undefined) {\n\t\t\t\tif (me.max === null) {\n\t\t\t\t\tme.max = tickOpts.suggestedMax;\n\t\t\t\t} else {\n\t\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tme.max++;\n\n\t\t\t\tif (!tickOpts.beginAtZero) {\n\t\t\t\t\tme.min--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetTickLimit: noop,\n\t\thandleDirectionalChanges: noop,\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\t// Figure out what the max number of ticks we can support it is based on the size of\n\t\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 50\n\t\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n\t\t\t// the graph. Make sure we always have at least 2 ticks\n\t\t\tvar maxTicks = me.getTickLimit();\n\t\t\tmaxTicks = Math.max(2, maxTicks);\n\n\t\t\tvar numericGeneratorOptions = {\n\t\t\t\tmaxTicks: maxTicks,\n\t\t\t\tmin: tickOpts.min,\n\t\t\t\tmax: tickOpts.max,\n\t\t\t\tstepSize: helpers.getValueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize)\n\t\t\t};\n\t\t\tvar ticks = me.ticks = Chart.Ticks.generators.linear(numericGeneratorOptions, me);\n\n\t\t\tme.handleDirectionalChanges();\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.ticksAsNumbers = me.ticks.slice();\n\t\t\tme.zeroLineIndex = me.ticks.indexOf(0);\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(me);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\t// Default config for a category scale\n\tvar defaultConfig = {\n\t\tposition: 'bottom'\n\t};\n\n\tvar DatasetScale = Chart.Scale.extend({\n\t\t/**\n\t\t* Internal function to get the correct labels. If data.xLabels or data.yLabels are defined, use those\n\t\t* else fall back to data.labels\n\t\t* @private\n\t\t*/\n\t\tgetLabels: function() {\n\t\t\tvar data = this.chart.data;\n\t\t\treturn (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels;\n\t\t},\n\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\tme.minIndex = 0;\n\t\t\tme.maxIndex = labels.length - 1;\n\t\t\tvar findIndex;\n\n\t\t\tif (me.options.ticks.min !== undefined) {\n\t\t\t\t// user specified min value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.min);\n\t\t\t\tme.minIndex = findIndex !== -1 ? findIndex : me.minIndex;\n\t\t\t}\n\n\t\t\tif (me.options.ticks.max !== undefined) {\n\t\t\t\t// user specified max value\n\t\t\t\tfindIndex = helpers.indexOf(labels, me.options.ticks.max);\n\t\t\t\tme.maxIndex = findIndex !== -1 ? findIndex : me.maxIndex;\n\t\t\t}\n\n\t\t\tme.min = labels[me.minIndex];\n\t\t\tme.max = labels[me.maxIndex];\n\t\t},\n\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar labels = me.getLabels();\n\t\t\t// If we are viewing some subset of labels, slice the original array\n\t\t\tme.ticks = (me.minIndex === 0 && me.maxIndex === labels.length - 1) ? labels : labels.slice(me.minIndex, me.maxIndex + 1);\n\t\t},\n\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar data = me.chart.data;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif (data.yLabels && !isHorizontal) {\n\t\t\t\treturn me.getRightValue(data.datasets[datasetIndex].data[index]);\n\t\t\t}\n\t\t\treturn me.ticks[index - me.minIndex];\n\t\t},\n\n\t\t// Used to get data value locations.  Value can either be an index or a numerical value\n\t\tgetPixelForValue: function(value, index, datasetIndex, includeOffset) {\n\t\t\tvar me = this;\n\t\t\t// 1 is added because we need the length but we have the indexes\n\t\t\tvar offsetAmt = Math.max((me.maxIndex + 1 - me.minIndex - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\n\t\t\t// If value is a data object, then index is the index in the data array,\n\t\t\t// not the index of the scale. We need to change that.\n\t\t\tvar valueCategory;\n\t\t\tif (value !== undefined && value !== null) {\n\t\t\t\tvalueCategory = me.isHorizontal() ? value.x : value.y;\n\t\t\t}\n\t\t\tif (valueCategory !== undefined || (value !== undefined && isNaN(index))) {\n\t\t\t\tvar labels = me.getLabels();\n\t\t\t\tvalue = valueCategory || value;\n\t\t\t\tvar idx = labels.indexOf(value);\n\t\t\t\tindex = idx !== -1 ? idx : index;\n\t\t\t}\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar valueWidth = me.width / offsetAmt;\n\t\t\t\tvar widthOffset = (valueWidth * (index - me.minIndex));\n\n\t\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset || me.maxIndex === me.minIndex && includeOffset) {\n\t\t\t\t\twidthOffset += (valueWidth / 2);\n\t\t\t\t}\n\n\t\t\t\treturn me.left + Math.round(widthOffset);\n\t\t\t}\n\t\t\tvar valueHeight = me.height / offsetAmt;\n\t\t\tvar heightOffset = (valueHeight * (index - me.minIndex));\n\n\t\t\tif (me.options.gridLines.offsetGridLines && includeOffset) {\n\t\t\t\theightOffset += (valueHeight / 2);\n\t\t\t}\n\n\t\t\treturn me.top + Math.round(heightOffset);\n\t\t},\n\t\tgetPixelForTick: function(index, includeOffset) {\n\t\t\treturn this.getPixelForValue(this.ticks[index], index + this.minIndex, null, includeOffset);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar value;\n\t\t\tvar offsetAmt = Math.max((me.ticks.length - ((me.options.gridLines.offsetGridLines) ? 0 : 1)), 1);\n\t\t\tvar horz = me.isHorizontal();\n\t\t\tvar valueDimension = (horz ? me.width : me.height) / offsetAmt;\n\n\t\t\tpixel -= horz ? me.left : me.top;\n\n\t\t\tif (me.options.gridLines.offsetGridLines) {\n\t\t\t\tpixel -= (valueDimension / 2);\n\t\t\t}\n\n\t\t\tif (pixel <= 0) {\n\t\t\t\tvalue = 0;\n\t\t\t} else {\n\t\t\t\tvalue = Math.round(pixel / valueDimension);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\t\tgetBasePixel: function() {\n\t\t\treturn this.bottom;\n\t\t}\n\t});\n\n\tChart.scaleService.registerScaleType('category', DatasetScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\t\tticks: {\n\t\t\tcallback: Chart.Ticks.formatters.linear\n\t\t}\n\t};\n\n\tvar LinearScale = Chart.LinearScaleBase.extend({\n\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tvar DEFAULT_MIN = 0;\n\t\t\tvar DEFAULT_MAX = 1;\n\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// First Calculate the range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\n\t\t\tvar hasStacks = opts.stacked;\n\t\t\tif (hasStacks === undefined) {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tif (hasStacks) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta) &&\n\t\t\t\t\t\tmeta.stack !== undefined) {\n\t\t\t\t\t\thasStacks = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (opts.stacked || hasStacks) {\n\t\t\t\tvar valuesPerStack = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tvar key = [\n\t\t\t\t\t\tmeta.type,\n\t\t\t\t\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\n\t\t\t\t\t\t((opts.stacked === undefined && meta.stack === undefined) ? datasetIndex : ''),\n\t\t\t\t\t\tmeta.stack\n\t\t\t\t\t].join('.');\n\n\t\t\t\t\tif (valuesPerStack[key] === undefined) {\n\t\t\t\t\t\tvaluesPerStack[key] = {\n\t\t\t\t\t\t\tpositiveValues: [],\n\t\t\t\t\t\t\tnegativeValues: []\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Store these per type\n\t\t\t\t\tvar positiveValues = valuesPerStack[key].positiveValues;\n\t\t\t\t\tvar negativeValues = valuesPerStack[key].negativeValues;\n\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpositiveValues[index] = positiveValues[index] || 0;\n\t\t\t\t\t\t\tnegativeValues[index] = negativeValues[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tpositiveValues[index] = 100;\n\t\t\t\t\t\t\t} else if (value < 0) {\n\t\t\t\t\t\t\t\tnegativeValues[index] += value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpositiveValues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerStack, function(valuesForType) {\n\t\t\t\t\tvar values = valuesForType.positiveValues.concat(valuesForType.negativeValues);\n\t\t\t\t\tvar minVal = helpers.min(values);\n\t\t\t\t\tvar maxVal = helpers.max(values);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tme.min = isFinite(me.min) ? me.min : DEFAULT_MIN;\n\t\t\tme.max = isFinite(me.max) ? me.max : DEFAULT_MAX;\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tthis.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar maxTicks;\n\t\t\tvar me = this;\n\t\t\tvar tickOpts = me.options.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.width / 50));\n\t\t\t} else {\n\t\t\t\t// The factor of 2 used to scale the font size has been experimentally determined.\n\t\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\t\tmaxTicks = Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(me.height / (2 * tickFontSize)));\n\t\t\t}\n\n\t\t\treturn maxTicks;\n\t\t},\n\t\t// Called after the ticks are built. We need\n\t\thandleDirectionalChanges: function() {\n\t\t\tif (!this.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tthis.ticks.reverse();\n\t\t\t}\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\t// Utils\n\t\tgetPixelForValue: function(value) {\n\t\t\t// This must be called after fit has been run so that\n\t\t\t// this.left, this.top, this.right, and this.bottom have been defined\n\t\t\tvar me = this;\n\t\t\tvar start = me.start;\n\n\t\t\tvar rightValue = +me.getRightValue(value);\n\t\t\tvar pixel;\n\t\t\tvar range = me.end - start;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tpixel = me.left + (me.width / range * (rightValue - start));\n\t\t\t\treturn Math.round(pixel);\n\t\t\t}\n\n\t\t\tpixel = me.bottom - (me.height / range * (rightValue - start));\n\t\t\treturn Math.round(pixel);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tvar innerDimension = isHorizontal ? me.width : me.height;\n\t\t\tvar offset = (isHorizontal ? pixel - me.left : me.bottom - pixel) / innerDimension;\n\t\t\treturn me.start + ((me.end - me.start) * offset);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.ticksAsNumbers[index]);\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('linear', LinearScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\tposition: 'left',\n\n\t\t// label settings\n\t\tticks: {\n\t\t\tcallback: Chart.Ticks.formatters.logarithmic\n\t\t}\n\t};\n\n\tvar LogarithmicScale = Chart.Scale.extend({\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar chart = me.chart;\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\tfunction IDMatches(meta) {\n\t\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\n\t\t\t}\n\n\t\t\t// Calculate Range\n\t\t\tme.min = null;\n\t\t\tme.max = null;\n\t\t\tme.minNotZero = null;\n\n\t\t\tvar hasStacks = opts.stacked;\n\t\t\tif (hasStacks === undefined) {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tif (hasStacks) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta) &&\n\t\t\t\t\t\tmeta.stack !== undefined) {\n\t\t\t\t\t\thasStacks = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (opts.stacked || hasStacks) {\n\t\t\t\tvar valuesPerStack = {};\n\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tvar key = [\n\t\t\t\t\t\tmeta.type,\n\t\t\t\t\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\n\t\t\t\t\t\t((opts.stacked === undefined && meta.stack === undefined) ? datasetIndex : ''),\n\t\t\t\t\t\tmeta.stack\n\t\t\t\t\t].join('.');\n\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\tif (valuesPerStack[key] === undefined) {\n\t\t\t\t\t\t\tvaluesPerStack[key] = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar values = valuesPerStack[key];\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvalues[index] = values[index] || 0;\n\n\t\t\t\t\t\t\tif (opts.relativePoints) {\n\t\t\t\t\t\t\t\tvalues[index] = 100;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Don't need to split positive and negative since the log scale can't handle a 0 crossing\n\t\t\t\t\t\t\t\tvalues[index] += value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\thelpers.each(valuesPerStack, function(valuesForType) {\n\t\t\t\t\tvar minVal = helpers.min(valuesForType);\n\t\t\t\t\tvar maxVal = helpers.max(valuesForType);\n\t\t\t\t\tme.min = me.min === null ? minVal : Math.min(me.min, minVal);\n\t\t\t\t\tme.max = me.max === null ? maxVal : Math.max(me.max, maxVal);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\thelpers.each(datasets, function(dataset, datasetIndex) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\t\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\n\t\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.min === null) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t} else if (value < me.min) {\n\t\t\t\t\t\t\t\tme.min = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (me.max === null) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t} else if (value > me.max) {\n\t\t\t\t\t\t\t\tme.max = value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (value !== 0 && (me.minNotZero === null || value < me.minNotZero)) {\n\t\t\t\t\t\t\t\tme.minNotZero = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tme.min = getValueOrDefault(tickOpts.min, me.min);\n\t\t\tme.max = getValueOrDefault(tickOpts.max, me.max);\n\n\t\t\tif (me.min === me.max) {\n\t\t\t\tif (me.min !== 0 && me.min !== null) {\n\t\t\t\t\tme.min = Math.pow(10, Math.floor(helpers.log10(me.min)) - 1);\n\t\t\t\t\tme.max = Math.pow(10, Math.floor(helpers.log10(me.max)) + 1);\n\t\t\t\t} else {\n\t\t\t\t\tme.min = 1;\n\t\t\t\t\tme.max = 10;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\tvar generationOptions = {\n\t\t\t\tmin: tickOpts.min,\n\t\t\t\tmax: tickOpts.max\n\t\t\t};\n\t\t\tvar ticks = me.ticks = Chart.Ticks.generators.logarithmic(generationOptions, me);\n\n\t\t\tif (!me.isHorizontal()) {\n\t\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\n\t\t\t\tticks.reverse();\n\t\t\t}\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(ticks);\n\t\t\tme.min = helpers.min(ticks);\n\n\t\t\tif (tickOpts.reverse) {\n\t\t\t\tticks.reverse();\n\n\t\t\t\tme.start = me.max;\n\t\t\t\tme.end = me.min;\n\t\t\t} else {\n\t\t\t\tme.start = me.min;\n\t\t\t\tme.end = me.max;\n\t\t\t}\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tthis.tickValues = this.ticks.slice();\n\n\t\t\tChart.Scale.prototype.convertTicksToLabels.call(this);\n\t\t},\n\t\t// Get the correct tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForValue(this.tickValues[index]);\n\t\t},\n\t\tgetPixelForValue: function(value) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension;\n\t\t\tvar pixel;\n\n\t\t\tvar start = me.start;\n\t\t\tvar newVal = +me.getRightValue(value);\n\t\t\tvar range;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start); // todo: if start === 0\n\t\t\t\tif (newVal === 0) {\n\t\t\t\t\tpixel = me.left;\n\t\t\t\t} else {\n\t\t\t\t\tinnerDimension = me.width;\n\t\t\t\t\tpixel = me.left + (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Bottom - top since pixels increase downward on a screen\n\t\t\t\tinnerDimension = me.height;\n\t\t\t\tif (start === 0 && !tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === start) {\n\t\t\t\t\t\tpixel = me.bottom;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.bottom - innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.bottom - innerDimension * 0.02 - (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else if (me.end === 0 && tickOpts.reverse) {\n\t\t\t\t\trange = helpers.log10(me.start) - helpers.log10(me.minNotZero);\n\t\t\t\t\tif (newVal === me.end) {\n\t\t\t\t\t\tpixel = me.top;\n\t\t\t\t\t} else if (newVal === me.minNotZero) {\n\t\t\t\t\t\tpixel = me.top + innerDimension * 0.02;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpixel = me.top + innerDimension * 0.02 + (innerDimension * 0.98/ range * (helpers.log10(newVal)-helpers.log10(me.minNotZero)));\n\t\t\t\t\t}\n\t\t\t\t} else if (newVal === 0) {\n\t\t\t\t\tpixel = tickOpts.reverse ? me.top : me.bottom;\n\t\t\t\t} else {\n\t\t\t\t\trange = helpers.log10(me.end) - helpers.log10(start);\n\t\t\t\t\tinnerDimension = me.height;\n\t\t\t\t\tpixel = me.bottom - (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn pixel;\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar range = helpers.log10(me.end) - helpers.log10(me.start);\n\t\t\tvar value, innerDimension;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tinnerDimension = me.width;\n\t\t\t\tvalue = me.start * Math.pow(10, (pixel - me.left) * range / innerDimension);\n\t\t\t} else {  // todo: if start === 0\n\t\t\t\tinnerDimension = me.height;\n\t\t\t\tvalue = Math.pow(10, (me.bottom - pixel) * range / innerDimension) / me.start;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('logarithmic', LogarithmicScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar globalDefaults = Chart.defaults.global;\n\n\tvar defaultConfig = {\n\t\tdisplay: true,\n\n\t\t// Boolean - Whether to animate scaling the chart from the centre\n\t\tanimate: true,\n\t\tposition: 'chartArea',\n\n\t\tangleLines: {\n\t\t\tdisplay: true,\n\t\t\tcolor: 'rgba(0, 0, 0, 0.1)',\n\t\t\tlineWidth: 1\n\t\t},\n\n\t\tgridLines: {\n\t\t\tcircular: false\n\t\t},\n\n\t\t// label settings\n\t\tticks: {\n\t\t\t// Boolean - Show a backdrop to the scale label\n\t\t\tshowLabelBackdrop: true,\n\n\t\t\t// String - The colour of the label backdrop\n\t\t\tbackdropColor: 'rgba(255,255,255,0.75)',\n\n\t\t\t// Number - The backdrop padding above & below the label in pixels\n\t\t\tbackdropPaddingY: 2,\n\n\t\t\t// Number - The backdrop padding to the side of the label in pixels\n\t\t\tbackdropPaddingX: 2,\n\n\t\t\tcallback: Chart.Ticks.formatters.linear\n\t\t},\n\n\t\tpointLabels: {\n\t\t\t// Boolean - if true, show point labels\n\t\t\tdisplay: true,\n\n\t\t\t// Number - Point label font size in pixels\n\t\t\tfontSize: 10,\n\n\t\t\t// Function - Used to convert point labels\n\t\t\tcallback: function(label) {\n\t\t\t\treturn label;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction getValueCount(scale) {\n\t\tvar opts = scale.options;\n\t\treturn opts.angleLines.display || opts.pointLabels.display ? scale.chart.data.labels.length : 0;\n\t}\n\n\tfunction getPointLabelFontOptions(scale) {\n\t\tvar pointLabelOptions = scale.options.pointLabels;\n\t\tvar fontSize = helpers.getValueOrDefault(pointLabelOptions.fontSize, globalDefaults.defaultFontSize);\n\t\tvar fontStyle = helpers.getValueOrDefault(pointLabelOptions.fontStyle, globalDefaults.defaultFontStyle);\n\t\tvar fontFamily = helpers.getValueOrDefault(pointLabelOptions.fontFamily, globalDefaults.defaultFontFamily);\n\t\tvar font = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\treturn {\n\t\t\tsize: fontSize,\n\t\t\tstyle: fontStyle,\n\t\t\tfamily: fontFamily,\n\t\t\tfont: font\n\t\t};\n\t}\n\n\tfunction measureLabelSize(ctx, fontSize, label) {\n\t\tif (helpers.isArray(label)) {\n\t\t\treturn {\n\t\t\t\tw: helpers.longestText(ctx, ctx.font, label),\n\t\t\t\th: (label.length * fontSize) + ((label.length - 1) * 1.5 * fontSize)\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tw: ctx.measureText(label).width,\n\t\t\th: fontSize\n\t\t};\n\t}\n\n\tfunction determineLimits(angle, pos, size, min, max) {\n\t\tif (angle === min || angle === max) {\n\t\t\treturn {\n\t\t\t\tstart: pos - (size / 2),\n\t\t\t\tend: pos + (size / 2)\n\t\t\t};\n\t\t} else if (angle < min || angle > max) {\n\t\t\treturn {\n\t\t\t\tstart: pos - size - 5,\n\t\t\t\tend: pos\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tstart: pos,\n\t\t\tend: pos + size + 5\n\t\t};\n\t}\n\n\t/**\n\t * Helper function to fit a radial linear scale with point labels\n\t */\n\tfunction fitWithPointLabels(scale) {\n\t\t/*\n\t\t * Right, this is really confusing and there is a lot of maths going on here\n\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n\t\t *\n\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n\t\t *\n\t\t * Solution:\n\t\t *\n\t\t * We assume the radius of the polygon is half the size of the canvas at first\n\t\t * at each index we check if the text overlaps.\n\t\t *\n\t\t * Where it does, we store that angle and that index.\n\t\t *\n\t\t * After finding the largest index and angle we calculate how much we need to remove\n\t\t * from the shape radius to move the point inwards by that x.\n\t\t *\n\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\n\t\t * along with labels.\n\t\t *\n\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\n\t\t *\n\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n\t\t * and position it in the most space efficient manner\n\t\t *\n\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\t\t */\n\n\t\tvar plFont = getPointLabelFontOptions(scale);\n\n\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n\t\tvar largestPossibleRadius = Math.min(scale.height / 2, scale.width / 2);\n\t\tvar furthestLimits = {\n\t\t\tr: scale.width,\n\t\t\tl: 0,\n\t\t\tt: scale.height,\n\t\t\tb: 0\n\t\t};\n\t\tvar furthestAngles = {};\n\t\tvar i;\n\t\tvar textSize;\n\t\tvar pointPosition;\n\n\t\tscale.ctx.font = plFont.font;\n\t\tscale._pointLabelSizes = [];\n\n\t\tvar valueCount = getValueCount(scale);\n\t\tfor (i = 0; i < valueCount; i++) {\n\t\t\tpointPosition = scale.getPointPosition(i, largestPossibleRadius);\n\t\t\ttextSize = measureLabelSize(scale.ctx, plFont.size, scale.pointLabels[i] || '');\n\t\t\tscale._pointLabelSizes[i] = textSize;\n\n\t\t\t// Add quarter circle to make degree 0 mean top of circle\n\t\t\tvar angleRadians = scale.getIndexAngle(i);\n\t\t\tvar angle = helpers.toDegrees(angleRadians) % 360;\n\t\t\tvar hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n\t\t\tvar vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n\n\t\t\tif (hLimits.start < furthestLimits.l) {\n\t\t\t\tfurthestLimits.l = hLimits.start;\n\t\t\t\tfurthestAngles.l = angleRadians;\n\t\t\t}\n\n\t\t\tif (hLimits.end > furthestLimits.r) {\n\t\t\t\tfurthestLimits.r = hLimits.end;\n\t\t\t\tfurthestAngles.r = angleRadians;\n\t\t\t}\n\n\t\t\tif (vLimits.start < furthestLimits.t) {\n\t\t\t\tfurthestLimits.t = vLimits.start;\n\t\t\t\tfurthestAngles.t = angleRadians;\n\t\t\t}\n\n\t\t\tif (vLimits.end > furthestLimits.b) {\n\t\t\t\tfurthestLimits.b = vLimits.end;\n\t\t\t\tfurthestAngles.b = angleRadians;\n\t\t\t}\n\t\t}\n\n\t\tscale.setReductions(largestPossibleRadius, furthestLimits, furthestAngles);\n\t}\n\n\t/**\n\t * Helper function to fit a radial linear scale with no point labels\n\t */\n\tfunction fit(scale) {\n\t\tvar largestPossibleRadius = Math.min(scale.height / 2, scale.width / 2);\n\t\tscale.drawingArea = Math.round(largestPossibleRadius);\n\t\tscale.setCenterPoint(0, 0, 0, 0);\n\t}\n\n\tfunction getTextAlignForAngle(angle) {\n\t\tif (angle === 0 || angle === 180) {\n\t\t\treturn 'center';\n\t\t} else if (angle < 180) {\n\t\t\treturn 'left';\n\t\t}\n\n\t\treturn 'right';\n\t}\n\n\tfunction fillText(ctx, text, position, fontSize) {\n\t\tif (helpers.isArray(text)) {\n\t\t\tvar y = position.y;\n\t\t\tvar spacing = 1.5 * fontSize;\n\n\t\t\tfor (var i = 0; i < text.length; ++i) {\n\t\t\t\tctx.fillText(text[i], position.x, y);\n\t\t\t\ty+= spacing;\n\t\t\t}\n\t\t} else {\n\t\t\tctx.fillText(text, position.x, position.y);\n\t\t}\n\t}\n\n\tfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\n\t\tif (angle === 90 || angle === 270) {\n\t\t\tposition.y -= (textSize.h / 2);\n\t\t} else if (angle > 270 || angle < 90) {\n\t\t\tposition.y -= textSize.h;\n\t\t}\n\t}\n\n\tfunction drawPointLabels(scale) {\n\t\tvar ctx = scale.ctx;\n\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\t\tvar opts = scale.options;\n\t\tvar angleLineOpts = opts.angleLines;\n\t\tvar pointLabelOpts = opts.pointLabels;\n\n\t\tctx.lineWidth = angleLineOpts.lineWidth;\n\t\tctx.strokeStyle = angleLineOpts.color;\n\n\t\tvar outerDistance = scale.getDistanceFromCenterForValue(opts.reverse ? scale.min : scale.max);\n\n\t\t// Point Label Font\n\t\tvar plFont = getPointLabelFontOptions(scale);\n\n\t\tctx.textBaseline = 'top';\n\n\t\tfor (var i = getValueCount(scale) - 1; i >= 0; i--) {\n\t\t\tif (angleLineOpts.display) {\n\t\t\t\tvar outerPosition = scale.getPointPosition(i, outerDistance);\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(scale.xCenter, scale.yCenter);\n\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tif (pointLabelOpts.display) {\n\t\t\t\t// Extra 3px out for some label spacing\n\t\t\t\tvar pointLabelPosition = scale.getPointPosition(i, outerDistance + 5);\n\n\t\t\t\t// Keep this in loop since we may support array properties here\n\t\t\t\tvar pointLabelFontColor = getValueOrDefault(pointLabelOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\tctx.font = plFont.font;\n\t\t\t\tctx.fillStyle = pointLabelFontColor;\n\n\t\t\t\tvar angleRadians = scale.getIndexAngle(i);\n\t\t\t\tvar angle = helpers.toDegrees(angleRadians);\n\t\t\t\tctx.textAlign = getTextAlignForAngle(angle);\n\t\t\t\tadjustPointPositionForLabelHeight(angle, scale._pointLabelSizes[i], pointLabelPosition);\n\t\t\t\tfillText(ctx, scale.pointLabels[i] || '', pointLabelPosition, plFont.size);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawRadiusLine(scale, gridLineOpts, radius, index) {\n\t\tvar ctx = scale.ctx;\n\t\tctx.strokeStyle = helpers.getValueAtIndexOrDefault(gridLineOpts.color, index - 1);\n\t\tctx.lineWidth = helpers.getValueAtIndexOrDefault(gridLineOpts.lineWidth, index - 1);\n\n\t\tif (scale.options.gridLines.circular) {\n\t\t\t// Draw circular arcs between the points\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(scale.xCenter, scale.yCenter, radius, 0, Math.PI * 2);\n\t\t\tctx.closePath();\n\t\t\tctx.stroke();\n\t\t} else {\n\t\t\t// Draw straight lines connecting each index\n\t\t\tvar valueCount = getValueCount(scale);\n\n\t\t\tif (valueCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tvar pointPosition = scale.getPointPosition(0, radius);\n\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\n\n\t\t\tfor (var i = 1; i < valueCount; i++) {\n\t\t\t\tpointPosition = scale.getPointPosition(i, radius);\n\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\n\t\t\t}\n\n\t\t\tctx.closePath();\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\n\tfunction numberOrZero(param) {\n\t\treturn helpers.isNumber(param) ? param : 0;\n\t}\n\n\tvar LinearRadialScale = Chart.LinearScaleBase.extend({\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tme.width = me.maxWidth;\n\t\t\tme.height = me.maxHeight;\n\t\t\tme.xCenter = Math.round(me.width / 2);\n\t\t\tme.yCenter = Math.round(me.height / 2);\n\n\t\t\tvar minSize = helpers.min([me.height, me.width]);\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tme.drawingArea = opts.display ? (minSize / 2) - (tickFontSize / 2 + tickOpts.backdropPaddingY) : (minSize / 2);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar min = Number.POSITIVE_INFINITY;\n\t\t\tvar max = Number.NEGATIVE_INFINITY;\n\n\t\t\thelpers.each(chart.data.datasets, function(dataset, datasetIndex) {\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\n\n\t\t\t\t\thelpers.each(dataset.data, function(rawValue, index) {\n\t\t\t\t\t\tvar value = +me.getRightValue(rawValue);\n\t\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmin = Math.min(value, min);\n\t\t\t\t\t\tmax = Math.max(value, max);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tme.min = (min === Number.POSITIVE_INFINITY ? 0 : min);\n\t\t\tme.max = (max === Number.NEGATIVE_INFINITY ? 0 : max);\n\n\t\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\n\t\t\tme.handleTickRangeOptions();\n\t\t},\n\t\tgetTickLimit: function() {\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\treturn Math.min(tickOpts.maxTicksLimit ? tickOpts.maxTicksLimit : 11, Math.ceil(this.drawingArea / (1.5 * tickFontSize)));\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tChart.LinearScaleBase.prototype.convertTicksToLabels.call(me);\n\n\t\t\t// Point labels\n\t\t\tme.pointLabels = me.chart.data.labels.map(me.options.pointLabels.callback, me);\n\t\t},\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\n\t\t},\n\t\tfit: function() {\n\t\t\tif (this.options.pointLabels.display) {\n\t\t\t\tfitWithPointLabels(this);\n\t\t\t} else {\n\t\t\t\tfit(this);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set radius reductions and determine new radius and center point\n\t\t * @private\n\t\t */\n\t\tsetReductions: function(largestPossibleRadius, furthestLimits, furthestAngles) {\n\t\t\tvar me = this;\n\t\t\tvar radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n\t\t\tvar radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\n\t\t\tvar radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n\t\t\tvar radiusReductionBottom = -Math.max(furthestLimits.b - me.height, 0) / Math.cos(furthestAngles.b);\n\n\t\t\tradiusReductionLeft = numberOrZero(radiusReductionLeft);\n\t\t\tradiusReductionRight = numberOrZero(radiusReductionRight);\n\t\t\tradiusReductionTop = numberOrZero(radiusReductionTop);\n\t\t\tradiusReductionBottom = numberOrZero(radiusReductionBottom);\n\n\t\t\tme.drawingArea = Math.min(\n\t\t\t\tMath.round(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\n\t\t\t\tMath.round(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2));\n\t\t\tme.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n\t\t},\n\t\tsetCenterPoint: function(leftMovement, rightMovement, topMovement, bottomMovement) {\n\t\t\tvar me = this;\n\t\t\tvar maxRight = me.width - rightMovement - me.drawingArea,\n\t\t\t\tmaxLeft = leftMovement + me.drawingArea,\n\t\t\t\tmaxTop = topMovement + me.drawingArea,\n\t\t\t\tmaxBottom = me.height - bottomMovement - me.drawingArea;\n\n\t\t\tme.xCenter = Math.round(((maxLeft + maxRight) / 2) + me.left);\n\t\t\tme.yCenter = Math.round(((maxTop + maxBottom) / 2) + me.top);\n\t\t},\n\n\t\tgetIndexAngle: function(index) {\n\t\t\tvar angleMultiplier = (Math.PI * 2) / getValueCount(this);\n\t\t\tvar startAngle = this.chart.options && this.chart.options.startAngle ?\n\t\t\t\tthis.chart.options.startAngle :\n\t\t\t\t0;\n\n\t\t\tvar startAngleRadians = startAngle * Math.PI * 2 / 360;\n\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\n\t\t\treturn index * angleMultiplier + startAngleRadians;\n\t\t},\n\t\tgetDistanceFromCenterForValue: function(value) {\n\t\t\tvar me = this;\n\n\t\t\tif (value === null) {\n\t\t\t\treturn 0; // null always in center\n\t\t\t}\n\n\t\t\t// Take into account half font size + the yPadding of the top value\n\t\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\n\t\t\tif (me.options.reverse) {\n\t\t\t\treturn (me.max - value) * scalingFactor;\n\t\t\t}\n\t\t\treturn (value - me.min) * scalingFactor;\n\t\t},\n\t\tgetPointPosition: function(index, distanceFromCenter) {\n\t\t\tvar me = this;\n\t\t\tvar thisAngle = me.getIndexAngle(index) - (Math.PI / 2);\n\t\t\treturn {\n\t\t\t\tx: Math.round(Math.cos(thisAngle) * distanceFromCenter) + me.xCenter,\n\t\t\t\ty: Math.round(Math.sin(thisAngle) * distanceFromCenter) + me.yCenter\n\t\t\t};\n\t\t},\n\t\tgetPointPositionForValue: function(index, value) {\n\t\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n\t\t},\n\n\t\tgetBasePosition: function() {\n\t\t\tvar me = this;\n\t\t\tvar min = me.min;\n\t\t\tvar max = me.max;\n\n\t\t\treturn me.getPointPositionForValue(0,\n\t\t\t\tme.beginAtZero? 0:\n\t\t\t\tmin < 0 && max < 0? max :\n\t\t\t\tmin > 0 && max > 0? min :\n\t\t\t\t0);\n\t\t},\n\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar gridLineOpts = opts.gridLines;\n\t\t\tvar tickOpts = opts.ticks;\n\t\t\tvar getValueOrDefault = helpers.getValueOrDefault;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx;\n\n\t\t\t\t// Tick Font\n\t\t\t\tvar tickFontSize = getValueOrDefault(tickOpts.fontSize, globalDefaults.defaultFontSize);\n\t\t\t\tvar tickFontStyle = getValueOrDefault(tickOpts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\t\tvar tickFontFamily = getValueOrDefault(tickOpts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\t\tvar tickLabelFont = helpers.fontString(tickFontSize, tickFontStyle, tickFontFamily);\n\n\t\t\t\thelpers.each(me.ticks, function(label, index) {\n\t\t\t\t\t// Don't draw a centre value (if it is minimum)\n\t\t\t\t\tif (index > 0 || opts.reverse) {\n\t\t\t\t\t\tvar yCenterOffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\n\t\t\t\t\t\tvar yHeight = me.yCenter - yCenterOffset;\n\n\t\t\t\t\t\t// Draw circular lines around the scale\n\t\t\t\t\t\tif (gridLineOpts.display && index !== 0) {\n\t\t\t\t\t\t\tdrawRadiusLine(me, gridLineOpts, yCenterOffset, index);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tickOpts.display) {\n\t\t\t\t\t\t\tvar tickFontColor = getValueOrDefault(tickOpts.fontColor, globalDefaults.defaultFontColor);\n\t\t\t\t\t\t\tctx.font = tickLabelFont;\n\n\t\t\t\t\t\t\tif (tickOpts.showLabelBackdrop) {\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\n\t\t\t\t\t\t\t\tctx.fillRect(\n\t\t\t\t\t\t\t\t\tme.xCenter - labelWidth / 2 - tickOpts.backdropPaddingX,\n\t\t\t\t\t\t\t\t\tyHeight - tickFontSize / 2 - tickOpts.backdropPaddingY,\n\t\t\t\t\t\t\t\t\tlabelWidth + tickOpts.backdropPaddingX * 2,\n\t\t\t\t\t\t\t\t\ttickFontSize + tickOpts.backdropPaddingY * 2\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t\tctx.fillStyle = tickFontColor;\n\t\t\t\t\t\t\tctx.fillText(label, me.xCenter, yHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (opts.angleLines.display || opts.pointLabels.display) {\n\t\t\t\t\tdrawPointLabels(me);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('radialLinear', LinearRadialScale, defaultConfig);\n\n};\n","var some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nexport { some as default };\n","import hasOwnProp from './has-own-prop';\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nexport { keys as default };\n","export var YEAR = 0;\nexport var MONTH = 1;\nexport var DATE = 2;\nexport var HOUR = 3;\nexport var MINUTE = 4;\nexport var SECOND = 5;\nexport var MILLISECOND = 6;\nexport var WEEK = 7;\nexport var WEEKDAY = 8;\n","var indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nexport { indexOf as default };\n","import { defaultCalendar } from './calendar';\nimport { defaultLongDateFormat } from './formats';\nimport { defaultInvalidDate } from './invalid';\nimport { defaultOrdinal, defaultDayOfMonthOrdinalParse } from './ordinal';\nimport { defaultRelativeTime } from './relative';\n\n// months\nimport {\n    defaultLocaleMonths,\n    defaultLocaleMonthsShort,\n} from '../units/month';\n\n// week\nimport { defaultLocaleWeek } from '../units/week';\n\n// weekdays\nimport {\n    defaultLocaleWeekdays,\n    defaultLocaleWeekdaysMin,\n    defaultLocaleWeekdaysShort,\n} from '../units/day-of-week';\n\n// meridiem\nimport { defaultLocaleMeridiemParse } from '../units/hour';\n\nexport var baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n","export var now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { DATE } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    return isStrict ?\n      (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n      locale._dayOfMonthOrdinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0], 10);\n});\n\n// MOMENTS\n\nexport var getSetDayOfMonth = makeGetSet('Date', true);\n","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { MINUTE } from './constants';\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nexport var getSetMinute = makeGetSet('Minutes', false);\n","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { SECOND } from './constants';\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nexport var getSetSecond = makeGetSet('Seconds', false);\n","import { Moment } from './constructor';\n\nvar proto = Moment.prototype;\n\nimport { add, subtract } from './add-subtract';\nimport { calendar, getCalendarFormat } from './calendar';\nimport { clone } from './clone';\nimport { isBefore, isBetween, isSame, isAfter, isSameOrAfter, isSameOrBefore } from './compare';\nimport { diff } from './diff';\nimport { format, toString, toISOString, inspect } from './format';\nimport { from, fromNow } from './from';\nimport { to, toNow } from './to';\nimport { stringGet, stringSet } from './get-set';\nimport { locale, localeData, lang } from './locale';\nimport { prototypeMin, prototypeMax } from './min-max';\nimport { startOf, endOf } from './start-end-of';\nimport { valueOf, toDate, toArray, toObject, toJSON, unix } from './to-type';\nimport { isValid, parsingFlags, invalidAt } from './valid';\nimport { creationData } from './creation-data';\n\nproto.add               = add;\nproto.calendar          = calendar;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nimport { getSetYear, getIsLeapYear } from '../units/year';\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nimport { getSetWeekYear, getSetISOWeekYear, getWeeksInYear, getISOWeeksInYear } from '../units/week-year';\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nimport { getSetQuarter } from '../units/quarter';\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nimport { getSetMonth, getDaysInMonth } from '../units/month';\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nimport { getSetWeek, getSetISOWeek } from '../units/week';\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nimport { getSetDayOfMonth } from '../units/day-of-month';\nimport { getSetDayOfWeek, getSetISODayOfWeek, getSetLocaleDayOfWeek } from '../units/day-of-week';\nimport { getSetDayOfYear } from '../units/day-of-year';\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nimport { getSetHour } from '../units/hour';\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nimport { getSetMinute } from '../units/minute';\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nimport { getSetSecond } from '../units/second';\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nimport { getSetMillisecond } from '../units/millisecond';\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nimport {\n    getSetOffset,\n    setOffsetToUTC,\n    setOffsetToLocal,\n    setOffsetToParsedOffset,\n    hasAlignedHourOffset,\n    isDaylightSavingTime,\n    isDaylightSavingTimeShifted,\n    getSetZone,\n    isLocal,\n    isUtcOffset,\n    isUtc\n} from '../units/offset';\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nimport { getZoneAbbr, getZoneName } from '../units/timezone';\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nimport { deprecate } from '../utils/deprecate';\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nexport default proto;\n","import { Locale } from './constructor';\n\nvar proto = Locale.prototype;\n\nimport { calendar } from './calendar';\nimport { longDateFormat } from './formats';\nimport { invalidDate } from './invalid';\nimport { ordinal } from './ordinal';\nimport { preParsePostFormat } from './pre-post-format';\nimport { relativeTime, pastFuture } from './relative';\nimport { set } from './set';\n\nproto.calendar        = calendar;\nproto.longDateFormat  = longDateFormat;\nproto.invalidDate     = invalidDate;\nproto.ordinal         = ordinal;\nproto.preparse        = preParsePostFormat;\nproto.postformat      = preParsePostFormat;\nproto.relativeTime    = relativeTime;\nproto.pastFuture      = pastFuture;\nproto.set             = set;\n\n// Month\nimport {\n    localeMonthsParse,\n    localeMonths,\n    localeMonthsShort,\n    monthsRegex,\n    monthsShortRegex\n} from '../units/month';\n\nproto.months            =        localeMonths;\nproto.monthsShort       =        localeMonthsShort;\nproto.monthsParse       =        localeMonthsParse;\nproto.monthsRegex       = monthsRegex;\nproto.monthsShortRegex  = monthsShortRegex;\n\n// Week\nimport { localeWeek, localeFirstDayOfYear, localeFirstDayOfWeek } from '../units/week';\nproto.week = localeWeek;\nproto.firstDayOfYear = localeFirstDayOfYear;\nproto.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nimport {\n    localeWeekdaysParse,\n    localeWeekdays,\n    localeWeekdaysMin,\n    localeWeekdaysShort,\n\n    weekdaysRegex,\n    weekdaysShortRegex,\n    weekdaysMinRegex\n} from '../units/day-of-week';\n\nproto.weekdays       =        localeWeekdays;\nproto.weekdaysMin    =        localeWeekdaysMin;\nproto.weekdaysShort  =        localeWeekdaysShort;\nproto.weekdaysParse  =        localeWeekdaysParse;\n\nproto.weekdaysRegex       =        weekdaysRegex;\nproto.weekdaysShortRegex  =        weekdaysShortRegex;\nproto.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nimport { localeIsPM, localeMeridiem } from '../units/hour';\n\nproto.isPM = localeIsPM;\nproto.meridiem = localeMeridiem;\n","import './prototype';\nimport { getSetGlobalLocale } from './locales';\nimport toInt from '../utils/to-int';\n\ngetSetGlobalLocale('en', {\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n","// Side effect imports\nimport './prototype';\n\nimport {\n    getSetGlobalLocale,\n    defineLocale,\n    updateLocale,\n    getLocale,\n    listLocales\n} from './locales';\n\nimport {\n    listMonths,\n    listMonthsShort,\n    listWeekdays,\n    listWeekdaysShort,\n    listWeekdaysMin\n} from './lists';\n\nexport {\n    getSetGlobalLocale,\n    defineLocale,\n    updateLocale,\n    getLocale,\n    listLocales,\n    listMonths,\n    listMonthsShort,\n    listWeekdays,\n    listWeekdaysShort,\n    listWeekdaysMin\n};\n\nimport { deprecate } from '../utils/deprecate';\nimport { hooks } from '../utils/hooks';\n\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nimport './en';\n","import { Duration } from './constructor';\n\nvar proto = Duration.prototype;\n\nimport { abs } from './abs';\nimport { add, subtract } from './add-subtract';\nimport { as, asMilliseconds, asSeconds, asMinutes, asHours, asDays, asWeeks, asMonths, asYears, valueOf } from './as';\nimport { bubble } from './bubble';\nimport { get, milliseconds, seconds, minutes, hours, days, months, years, weeks } from './get';\nimport { humanize } from './humanize';\nimport { toISOString } from './iso-string';\nimport { lang, locale, localeData } from '../moment/locale';\nimport { isValid } from './valid';\n\nproto.isValid        = isValid;\nproto.abs            = abs;\nproto.add            = add;\nproto.subtract       = subtract;\nproto.as             = as;\nproto.asMilliseconds = asMilliseconds;\nproto.asSeconds      = asSeconds;\nproto.asMinutes      = asMinutes;\nproto.asHours        = asHours;\nproto.asDays         = asDays;\nproto.asWeeks        = asWeeks;\nproto.asMonths       = asMonths;\nproto.asYears        = asYears;\nproto.valueOf        = valueOf;\nproto._bubble        = bubble;\nproto.get            = get;\nproto.milliseconds   = milliseconds;\nproto.seconds        = seconds;\nproto.minutes        = minutes;\nproto.hours          = hours;\nproto.days           = days;\nproto.weeks          = weeks;\nproto.months         = months;\nproto.years          = years;\nproto.humanize       = humanize;\nproto.toISOString    = toISOString;\nproto.toString       = toISOString;\nproto.toJSON         = toISOString;\nproto.locale         = locale;\nproto.localeData     = localeData;\n\n// Deprecations\nimport { deprecate } from '../utils/deprecate';\n\nproto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString);\nproto.lang = lang;\n","import { addFormatToken } from '../format/format';\nimport { addRegexToken, matchTimestamp, matchSigned } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n","//! moment.js\n//! version : 2.18.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\nimport { hooks as moment, setHookCallback } from './lib/utils/hooks';\n\nmoment.version = '2.18.1';\n\nimport {\n    min,\n    max,\n    now,\n    isMoment,\n    momentPrototype as fn,\n    createUTC       as utc,\n    createUnix      as unix,\n    createLocal     as local,\n    createInvalid   as invalid,\n    createInZone    as parseZone\n} from './lib/moment/moment';\n\nimport {\n    getCalendarFormat\n} from './lib/moment/calendar';\n\nimport {\n    defineLocale,\n    updateLocale,\n    getSetGlobalLocale as locale,\n    getLocale          as localeData,\n    listLocales        as locales,\n    listMonths         as months,\n    listMonthsShort    as monthsShort,\n    listWeekdays       as weekdays,\n    listWeekdaysMin    as weekdaysMin,\n    listWeekdaysShort  as weekdaysShort\n} from './lib/locale/locale';\n\nimport {\n    isDuration,\n    createDuration as duration,\n    getSetRelativeTimeRounding as relativeTimeRounding,\n    getSetRelativeTimeThreshold as relativeTimeThreshold\n} from './lib/duration/duration';\n\nimport { normalizeUnits } from './lib/units/units';\n\nimport isDate from './lib/utils/is-date';\n\nsetHookCallback(local);\n\nmoment.fn                    = fn;\nmoment.min                   = min;\nmoment.max                   = max;\nmoment.now                   = now;\nmoment.utc                   = utc;\nmoment.unix                  = unix;\nmoment.months                = months;\nmoment.isDate                = isDate;\nmoment.locale                = locale;\nmoment.invalid               = invalid;\nmoment.duration              = duration;\nmoment.isMoment              = isMoment;\nmoment.weekdays              = weekdays;\nmoment.parseZone             = parseZone;\nmoment.localeData            = localeData;\nmoment.isDuration            = isDuration;\nmoment.monthsShort           = monthsShort;\nmoment.weekdaysMin           = weekdaysMin;\nmoment.defineLocale          = defineLocale;\nmoment.updateLocale          = updateLocale;\nmoment.locales               = locales;\nmoment.weekdaysShort         = weekdaysShort;\nmoment.normalizeUnits        = normalizeUnits;\nmoment.relativeTimeRounding = relativeTimeRounding;\nmoment.relativeTimeThreshold = relativeTimeThreshold;\nmoment.calendarFormat        = getCalendarFormat;\nmoment.prototype             = fn;\n\nexport default moment;\n","/* global window: false */\n'use strict';\n\nvar moment = require('moment');\nmoment = typeof(moment) === 'function' ? moment : window.moment;\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar interval = {\n\t\tmillisecond: {\n\t\t\tsize: 1,\n\t\t\tsteps: [1, 2, 5, 10, 20, 50, 100, 250, 500]\n\t\t},\n\t\tsecond: {\n\t\t\tsize: 1000,\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t},\n\t\tminute: {\n\t\t\tsize: 60000,\n\t\t\tsteps: [1, 2, 5, 10, 30]\n\t\t},\n\t\thour: {\n\t\t\tsize: 3600000,\n\t\t\tsteps: [1, 2, 3, 6, 12]\n\t\t},\n\t\tday: {\n\t\t\tsize: 86400000,\n\t\t\tsteps: [1, 2, 5]\n\t\t},\n\t\tweek: {\n\t\t\tsize: 604800000,\n\t\t\tmaxStep: 4\n\t\t},\n\t\tmonth: {\n\t\t\tsize: 2.628e9,\n\t\t\tmaxStep: 3\n\t\t},\n\t\tquarter: {\n\t\t\tsize: 7.884e9,\n\t\t\tmaxStep: 4\n\t\t},\n\t\tyear: {\n\t\t\tsize: 3.154e10,\n\t\t\tmaxStep: false\n\t\t}\n\t};\n\n\tvar defaultConfig = {\n\t\tposition: 'bottom',\n\n\t\ttime: {\n\t\t\tparser: false, // false == a pattern string from http://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\n\t\t\tformat: false, // DEPRECATED false == date objects, moment object, callback or a pattern string from http://momentjs.com/docs/#/parsing/string-format/\n\t\t\tunit: false, // false == automatic or override with week, month, year, etc.\n\t\t\tround: false, // none, or override with week, month, year, etc.\n\t\t\tdisplayFormat: false, // DEPRECATED\n\t\t\tisoWeekday: false, // override week start day - see http://momentjs.com/docs/#/get-set/iso-weekday/\n\t\t\tminUnit: 'millisecond',\n\n\t\t\t// defaults to unit's corresponding unitFormat below or override using pattern string from http://momentjs.com/docs/#/displaying/format/\n\t\t\tdisplayFormats: {\n\t\t\t\tmillisecond: 'h:mm:ss.SSS a', // 11:20:01.123 AM,\n\t\t\t\tsecond: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\tminute: 'h:mm:ss a', // 11:20:01 AM\n\t\t\t\thour: 'MMM D, hA', // Sept 4, 5PM\n\t\t\t\tday: 'll', // Sep 4 2015\n\t\t\t\tweek: 'll', // Week 46, or maybe \"[W]WW - YYYY\" ?\n\t\t\t\tmonth: 'MMM YYYY', // Sept 2015\n\t\t\t\tquarter: '[Q]Q - YYYY', // Q3\n\t\t\t\tyear: 'YYYY' // 2015\n\t\t\t},\n\t\t},\n\t\tticks: {\n\t\t\tautoSkip: false\n\t\t}\n\t};\n\n\t/**\n\t * Helper function to parse time to a moment object\n\t * @param axis {TimeAxis} the time axis\n\t * @param label {Date|string|number|Moment} The thing to parse\n\t * @return {Moment} parsed time\n\t */\n\tfunction parseTime(axis, label) {\n\t\tvar timeOpts = axis.options.time;\n\t\tif (typeof timeOpts.parser === 'string') {\n\t\t\treturn moment(label, timeOpts.parser);\n\t\t}\n\t\tif (typeof timeOpts.parser === 'function') {\n\t\t\treturn timeOpts.parser(label);\n\t\t}\n\t\tif (typeof label.getMonth === 'function' || typeof label === 'number') {\n\t\t\t// Date objects\n\t\t\treturn moment(label);\n\t\t}\n\t\tif (label.isValid && label.isValid()) {\n\t\t\t// Moment support\n\t\t\treturn label;\n\t\t}\n\t\tvar format = timeOpts.format;\n\t\tif (typeof format !== 'string' && format.call) {\n\t\t\t// Custom parsing (return an instance of moment)\n\t\t\tconsole.warn('options.time.format is deprecated and replaced by options.time.parser.');\n\t\t\treturn format(label);\n\t\t}\n\t\t// Moment format parsing\n\t\treturn moment(label, format);\n\t}\n\n\t/**\n\t * Figure out which is the best unit for the scale\n\t * @param minUnit {String} minimum unit to use\n\t * @param min {Number} scale minimum\n\t * @param max {Number} scale maximum\n\t * @return {String} the unit to use\n\t */\n\tfunction determineUnit(minUnit, min, max, maxTicks) {\n\t\tvar units = Object.keys(interval);\n\t\tvar unit;\n\t\tvar numUnits = units.length;\n\n\t\tfor (var i = units.indexOf(minUnit); i < numUnits; i++) {\n\t\t\tunit = units[i];\n\t\t\tvar unitDetails = interval[unit];\n\t\t\tvar steps = (unitDetails.steps && unitDetails.steps[unitDetails.steps.length - 1]) || unitDetails.maxStep;\n\t\t\tif (steps === undefined || Math.ceil((max - min) / (steps * unitDetails.size)) <= maxTicks) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn unit;\n\t}\n\n\t/**\n\t * Determines how we scale the unit\n\t * @param min {Number} the scale minimum\n\t * @param max {Number} the scale maximum\n\t * @param unit {String} the unit determined by the {@see determineUnit} method\n\t * @return {Number} the axis step size as a multiple of unit\n\t */\n\tfunction determineStepSize(min, max, unit, maxTicks) {\n\t\t// Using our unit, figoure out what we need to scale as\n\t\tvar unitDefinition = interval[unit];\n\t\tvar unitSizeInMilliSeconds = unitDefinition.size;\n\t\tvar sizeInUnits = Math.ceil((max - min) / unitSizeInMilliSeconds);\n\t\tvar multiplier = 1;\n\t\tvar range = max - min;\n\n\t\tif (unitDefinition.steps) {\n\t\t\t// Have an array of steps\n\t\t\tvar numSteps = unitDefinition.steps.length;\n\t\t\tfor (var i = 0; i < numSteps && sizeInUnits > maxTicks; i++) {\n\t\t\t\tmultiplier = unitDefinition.steps[i];\n\t\t\t\tsizeInUnits = Math.ceil(range / (unitSizeInMilliSeconds * multiplier));\n\t\t\t}\n\t\t} else {\n\t\t\twhile (sizeInUnits > maxTicks && maxTicks > 0) {\n\t\t\t\t++multiplier;\n\t\t\t\tsizeInUnits = Math.ceil(range / (unitSizeInMilliSeconds * multiplier));\n\t\t\t}\n\t\t}\n\n\t\treturn multiplier;\n\t}\n\n\t/**\n\t * Helper for generating axis labels.\n\t * @param options {ITimeGeneratorOptions} the options for generation\n\t * @param dataRange {IRange} the data range\n\t * @param niceRange {IRange} the pretty range to display\n\t * @return {Number[]} ticks\n\t */\n\tfunction generateTicks(options, dataRange, niceRange) {\n\t\tvar ticks = [];\n\t\tif (options.maxTicks) {\n\t\t\tvar stepSize = options.stepSize;\n\t\t\tticks.push(options.min !== undefined ? options.min : niceRange.min);\n\t\t\tvar cur = moment(niceRange.min);\n\t\t\twhile (cur.add(stepSize, options.unit).valueOf() < niceRange.max) {\n\t\t\t\tticks.push(cur.valueOf());\n\t\t\t}\n\t\t\tvar realMax = options.max || niceRange.max;\n\t\t\tif (ticks[ticks.length - 1] !== realMax) {\n\t\t\t\tticks.push(realMax);\n\t\t\t}\n\t\t}\n\t\treturn ticks;\n\t}\n\n\t/**\n\t * @function Chart.Ticks.generators.time\n\t * @param options {ITimeGeneratorOptions} the options for generation\n\t * @param dataRange {IRange} the data range\n\t * @return {Number[]} ticks\n\t */\n\tChart.Ticks.generators.time = function(options, dataRange) {\n\t\tvar niceMin;\n\t\tvar niceMax;\n\t\tvar isoWeekday = options.isoWeekday;\n\t\tif (options.unit === 'week' && isoWeekday !== false) {\n\t\t\tniceMin = moment(dataRange.min).startOf('isoWeek').isoWeekday(isoWeekday).valueOf();\n\t\t\tniceMax = moment(dataRange.max).startOf('isoWeek').isoWeekday(isoWeekday);\n\t\t\tif (dataRange.max - niceMax > 0) {\n\t\t\t\tniceMax.add(1, 'week');\n\t\t\t}\n\t\t\tniceMax = niceMax.valueOf();\n\t\t} else {\n\t\t\tniceMin = moment(dataRange.min).startOf(options.unit).valueOf();\n\t\t\tniceMax = moment(dataRange.max).startOf(options.unit);\n\t\t\tif (dataRange.max - niceMax > 0) {\n\t\t\t\tniceMax.add(1, options.unit);\n\t\t\t}\n\t\t\tniceMax = niceMax.valueOf();\n\t\t}\n\t\treturn generateTicks(options, dataRange, {\n\t\t\tmin: niceMin,\n\t\t\tmax: niceMax\n\t\t});\n\t};\n\n\tvar TimeScale = Chart.Scale.extend({\n\t\tinitialize: function() {\n\t\t\tif (!moment) {\n\t\t\t\tthrow new Error('Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com');\n\t\t\t}\n\n\t\t\tChart.Scale.prototype.initialize.call(this);\n\t\t},\n\t\tdetermineDataLimits: function() {\n\t\t\tvar me = this;\n\t\t\tvar timeOpts = me.options.time;\n\n\t\t\t// We store the data range as unix millisecond timestamps so dataMin and dataMax will always be integers.\n\t\t\tvar dataMin = Number.MAX_SAFE_INTEGER;\n\t\t\tvar dataMax = Number.MIN_SAFE_INTEGER;\n\n\t\t\tvar chartData = me.chart.data;\n\t\t\tvar parsedData = {\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: []\n\t\t\t};\n\n\t\t\tvar timestamp;\n\n\t\t\thelpers.each(chartData.labels, function(label, labelIndex) {\n\t\t\t\tvar labelMoment = parseTime(me, label);\n\n\t\t\t\tif (labelMoment.isValid()) {\n\t\t\t\t\t// We need to round the time\n\t\t\t\t\tif (timeOpts.round) {\n\t\t\t\t\t\tlabelMoment.startOf(timeOpts.round);\n\t\t\t\t\t}\n\n\t\t\t\t\ttimestamp = labelMoment.valueOf();\n\t\t\t\t\tdataMin = Math.min(timestamp, dataMin);\n\t\t\t\t\tdataMax = Math.max(timestamp, dataMax);\n\n\t\t\t\t\t// Store this value for later\n\t\t\t\t\tparsedData.labels[labelIndex] = timestamp;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\thelpers.each(chartData.datasets, function(dataset, datasetIndex) {\n\t\t\t\tvar timestamps = [];\n\n\t\t\t\tif (typeof dataset.data[0] === 'object' && dataset.data[0] !== null && me.chart.isDatasetVisible(datasetIndex)) {\n\t\t\t\t\t// We have potential point data, so we need to parse this\n\t\t\t\t\thelpers.each(dataset.data, function(value, dataIndex) {\n\t\t\t\t\t\tvar dataMoment = parseTime(me, me.getRightValue(value));\n\n\t\t\t\t\t\tif (dataMoment.isValid()) {\n\t\t\t\t\t\t\tif (timeOpts.round) {\n\t\t\t\t\t\t\t\tdataMoment.startOf(timeOpts.round);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttimestamp = dataMoment.valueOf();\n\t\t\t\t\t\t\tdataMin = Math.min(timestamp, dataMin);\n\t\t\t\t\t\t\tdataMax = Math.max(timestamp, dataMax);\n\t\t\t\t\t\t\ttimestamps[dataIndex] = timestamp;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// We have no x coordinates, so use the ones from the labels\n\t\t\t\t\ttimestamps = parsedData.labels.slice();\n\t\t\t\t}\n\n\t\t\t\tparsedData.datasets[datasetIndex] = timestamps;\n\t\t\t});\n\n\t\t\tme.dataMin = dataMin;\n\t\t\tme.dataMax = dataMax;\n\t\t\tme._parsedData = parsedData;\n\t\t},\n\t\tbuildTicks: function() {\n\t\t\tvar me = this;\n\t\t\tvar timeOpts = me.options.time;\n\n\t\t\tvar minTimestamp;\n\t\t\tvar maxTimestamp;\n\t\t\tvar dataMin = me.dataMin;\n\t\t\tvar dataMax = me.dataMax;\n\n\t\t\tif (timeOpts.min) {\n\t\t\t\tvar minMoment = parseTime(me, timeOpts.min);\n\t\t\t\tif (timeOpts.round) {\n\t\t\t\t\tminMoment.round(timeOpts.round);\n\t\t\t\t}\n\t\t\t\tminTimestamp = minMoment.valueOf();\n\t\t\t}\n\n\t\t\tif (timeOpts.max) {\n\t\t\t\tmaxTimestamp = parseTime(me, timeOpts.max).valueOf();\n\t\t\t}\n\n\t\t\tvar maxTicks = me.getLabelCapacity(minTimestamp || dataMin);\n\t\t\tvar unit = timeOpts.unit || determineUnit(timeOpts.minUnit, minTimestamp || dataMin, maxTimestamp || dataMax, maxTicks);\n\t\t\tme.displayFormat = timeOpts.displayFormats[unit];\n\n\t\t\tvar stepSize = timeOpts.stepSize || determineStepSize(minTimestamp || dataMin, maxTimestamp || dataMax, unit, maxTicks);\n\t\t\tme.ticks = Chart.Ticks.generators.time({\n\t\t\t\tmaxTicks: maxTicks,\n\t\t\t\tmin: minTimestamp,\n\t\t\t\tmax: maxTimestamp,\n\t\t\t\tstepSize: stepSize,\n\t\t\t\tunit: unit,\n\t\t\t\tisoWeekday: timeOpts.isoWeekday\n\t\t\t}, {\n\t\t\t\tmin: dataMin,\n\t\t\t\tmax: dataMax\n\t\t\t});\n\n\t\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\n\t\t\t// range of the scale\n\t\t\tme.max = helpers.max(me.ticks);\n\t\t\tme.min = helpers.min(me.ticks);\n\t\t},\n\t\t// Get tooltip label\n\t\tgetLabelForIndex: function(index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar label = me.chart.data.labels && index < me.chart.data.labels.length ? me.chart.data.labels[index] : '';\n\t\t\tvar value = me.chart.data.datasets[datasetIndex].data[index];\n\n\t\t\tif (value !== null && typeof value === 'object') {\n\t\t\t\tlabel = me.getRightValue(value);\n\t\t\t}\n\n\t\t\t// Format nicely\n\t\t\tif (me.options.time.tooltipFormat) {\n\t\t\t\tlabel = parseTime(me, label).format(me.options.time.tooltipFormat);\n\t\t\t}\n\n\t\t\treturn label;\n\t\t},\n\t\t// Function to format an individual tick mark\n\t\ttickFormatFunction: function(tick, index, ticks) {\n\t\t\tvar formattedTick = tick.format(this.displayFormat);\n\t\t\tvar tickOpts = this.options.ticks;\n\t\t\tvar callback = helpers.getValueOrDefault(tickOpts.callback, tickOpts.userCallback);\n\n\t\t\tif (callback) {\n\t\t\t\treturn callback(formattedTick, index, ticks);\n\t\t\t}\n\t\t\treturn formattedTick;\n\t\t},\n\t\tconvertTicksToLabels: function() {\n\t\t\tvar me = this;\n\t\t\tme.ticksAsTimestamps = me.ticks;\n\t\t\tme.ticks = me.ticks.map(function(tick) {\n\t\t\t\treturn moment(tick);\n\t\t\t}).map(me.tickFormatFunction, me);\n\t\t},\n\t\tgetPixelForOffset: function(offset) {\n\t\t\tvar me = this;\n\t\t\tvar epochWidth = me.max - me.min;\n\t\t\tvar decimal = epochWidth ? (offset - me.min) / epochWidth : 0;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tvar valueOffset = (me.width * decimal);\n\t\t\t\treturn me.left + Math.round(valueOffset);\n\t\t\t}\n\n\t\t\tvar heightOffset = (me.height * decimal);\n\t\t\treturn me.top + Math.round(heightOffset);\n\t\t},\n\t\tgetPixelForValue: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar offset = null;\n\t\t\tif (index !== undefined && datasetIndex !== undefined) {\n\t\t\t\toffset = me._parsedData.datasets[datasetIndex][index];\n\t\t\t}\n\n\t\t\tif (offset === null) {\n\t\t\t\tif (!value || !value.isValid) {\n\t\t\t\t\t// not already a moment object\n\t\t\t\t\tvalue = parseTime(me, me.getRightValue(value));\n\t\t\t\t}\n\n\t\t\t\tif (value && value.isValid && value.isValid()) {\n\t\t\t\t\toffset = value.valueOf();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (offset !== null) {\n\t\t\t\treturn me.getPixelForOffset(offset);\n\t\t\t}\n\t\t},\n\t\tgetPixelForTick: function(index) {\n\t\t\treturn this.getPixelForOffset(this.ticksAsTimestamps[index]);\n\t\t},\n\t\tgetValueForPixel: function(pixel) {\n\t\t\tvar me = this;\n\t\t\tvar innerDimension = me.isHorizontal() ? me.width : me.height;\n\t\t\tvar offset = (pixel - (me.isHorizontal() ? me.left : me.top)) / innerDimension;\n\t\t\treturn moment(me.min + (offset * (me.max - me.min)));\n\t\t},\n\t\t// Crude approximation of what the label width might be\n\t\tgetLabelWidth: function(label) {\n\t\t\tvar me = this;\n\t\t\tvar ticks = me.options.ticks;\n\n\t\t\tvar tickLabelWidth = me.ctx.measureText(label).width;\n\t\t\tvar cosRotation = Math.cos(helpers.toRadians(ticks.maxRotation));\n\t\t\tvar sinRotation = Math.sin(helpers.toRadians(ticks.maxRotation));\n\t\t\tvar tickFontSize = helpers.getValueOrDefault(ticks.fontSize, Chart.defaults.global.defaultFontSize);\n\t\t\treturn (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation);\n\t\t},\n\t\tgetLabelCapacity: function(exampleTime) {\n\t\t\tvar me = this;\n\n\t\t\tme.displayFormat = me.options.time.displayFormats.millisecond;\t// Pick the longest format for guestimation\n\t\t\tvar exampleLabel = me.tickFormatFunction(moment(exampleTime), 0, []);\n\t\t\tvar tickLabelWidth = me.getLabelWidth(exampleLabel);\n\n\t\t\tvar innerWidth = me.isHorizontal() ? me.width : me.height;\n\t\t\tvar labelCapacity = innerWidth / tickLabelWidth;\n\t\t\treturn labelCapacity;\n\t\t}\n\t});\n\tChart.scaleService.registerScaleType('time', TimeScale, defaultConfig);\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear'\n\t\t\t}]\n\t\t}\n\t};\n\n\tChart.controllers.bar = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Rectangle,\n\n\t\tinitialize: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta;\n\n\t\t\tChart.DatasetController.prototype.initialize.apply(me, arguments);\n\n\t\t\tmeta = me.getMeta();\n\t\t\tmeta.stack = me.getDataset().stack;\n\t\t\tmeta.bar = true;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar elements = me.getMeta().data;\n\t\t\tvar i, ilen;\n\n\t\t\tme._ruler = me.getRuler();\n\n\t\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\n\t\t\t\tme.updateElement(elements[i], i, reset);\n\t\t\t}\n\t\t},\n\n\t\tupdateElement: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar rectangleOptions = chart.options.elements.rectangle;\n\n\t\t\trectangle._xScale = me.getScaleForId(meta.xAxisID);\n\t\t\trectangle._yScale = me.getScaleForId(meta.yAxisID);\n\t\t\trectangle._datasetIndex = me.index;\n\t\t\trectangle._index = index;\n\n\t\t\trectangle._model = {\n\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\tlabel: chart.data.labels[index],\n\t\t\t\tborderSkipped: custom.borderSkipped ? custom.borderSkipped : rectangleOptions.borderSkipped,\n\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleOptions.backgroundColor),\n\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleOptions.borderColor),\n\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleOptions.borderWidth)\n\t\t\t};\n\n\t\t\tme.updateElementGeometry(rectangle, index, reset);\n\n\t\t\trectangle.pivot();\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tupdateElementGeometry: function(rectangle, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar model = rectangle._model;\n\t\t\tvar vscale = me.getValueScale();\n\t\t\tvar base = vscale.getBasePixel();\n\t\t\tvar horizontal = vscale.isHorizontal();\n\t\t\tvar ruler = me._ruler || me.getRuler();\n\t\t\tvar vpixels = me.calculateBarValuePixels(me.index, index);\n\t\t\tvar ipixels = me.calculateBarIndexPixels(me.index, index, ruler);\n\n\t\t\tmodel.horizontal = horizontal;\n\t\t\tmodel.base = reset? base : vpixels.base;\n\t\t\tmodel.x = horizontal? reset? base : vpixels.head : ipixels.center;\n\t\t\tmodel.y = horizontal? ipixels.center : reset? base : vpixels.head;\n\t\t\tmodel.height = horizontal? ipixels.size : undefined;\n\t\t\tmodel.width = horizontal? undefined : ipixels.size;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tgetValueScaleId: function() {\n\t\t\treturn this.getMeta().yAxisID;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tgetIndexScaleId: function() {\n\t\t\treturn this.getMeta().xAxisID;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tgetValueScale: function() {\n\t\t\treturn this.getScaleForId(this.getValueScaleId());\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tgetIndexScale: function() {\n\t\t\treturn this.getScaleForId(this.getIndexScaleId());\n\t\t},\n\n\t\t/**\n\t\t * Returns the effective number of stacks based on groups and bar visibility.\n\t\t * @private\n\t\t */\n\t\tgetStackCount: function(last) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar scale = me.getIndexScale();\n\t\t\tvar stacked = scale.options.stacked;\n\t\t\tvar ilen = last === undefined? chart.data.datasets.length : last + 1;\n\t\t\tvar stacks = [];\n\t\t\tvar i, meta;\n\n\t\t\tfor (i = 0; i < ilen; ++i) {\n\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\tif (meta.bar && chart.isDatasetVisible(i) &&\n\t\t\t\t\t(stacked === false ||\n\t\t\t\t\t(stacked === true && stacks.indexOf(meta.stack) === -1) ||\n\t\t\t\t\t(stacked === undefined && (meta.stack === undefined || stacks.indexOf(meta.stack) === -1)))) {\n\t\t\t\t\tstacks.push(meta.stack);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn stacks.length;\n\t\t},\n\n\t\t/**\n\t\t * Returns the stack index for the given dataset based on groups and bar visibility.\n\t\t * @private\n\t\t */\n\t\tgetStackIndex: function(datasetIndex) {\n\t\t\treturn this.getStackCount(datasetIndex) - 1;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tgetRuler: function() {\n\t\t\tvar me = this;\n\t\t\tvar scale = me.getIndexScale();\n\t\t\tvar options = scale.options;\n\t\t\tvar stackCount = me.getStackCount();\n\t\t\tvar fullSize = scale.isHorizontal()? scale.width : scale.height;\n\t\t\tvar tickSize = fullSize / scale.ticks.length;\n\t\t\tvar categorySize = tickSize * options.categoryPercentage;\n\t\t\tvar fullBarSize = categorySize / stackCount;\n\t\t\tvar barSize = fullBarSize * options.barPercentage;\n\n\t\t\tbarSize = Math.min(\n\t\t\t\thelpers.getValueOrDefault(options.barThickness, barSize),\n\t\t\t\thelpers.getValueOrDefault(options.maxBarThickness, Infinity));\n\n\t\t\treturn {\n\t\t\t\tstackCount: stackCount,\n\t\t\t\ttickSize: tickSize,\n\t\t\t\tcategorySize: categorySize,\n\t\t\t\tcategorySpacing: tickSize - categorySize,\n\t\t\t\tfullBarSize: fullBarSize,\n\t\t\t\tbarSize: barSize,\n\t\t\t\tbarSpacing: fullBarSize - barSize,\n\t\t\t\tscale: scale\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Note: pixel values are not clamped to the scale area.\n\t\t * @private\n\t\t */\n\t\tcalculateBarValuePixels: function(datasetIndex, index) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar scale = me.getValueScale();\n\t\t\tvar datasets = chart.data.datasets;\n\t\t\tvar value = Number(datasets[datasetIndex].data[index]);\n\t\t\tvar stacked = scale.options.stacked;\n\t\t\tvar stack = meta.stack;\n\t\t\tvar start = 0;\n\t\t\tvar i, imeta, ivalue, base, head, size;\n\n\t\t\tif (stacked || (stacked === undefined && stack !== undefined)) {\n\t\t\t\tfor (i = 0; i < datasetIndex; ++i) {\n\t\t\t\t\timeta = chart.getDatasetMeta(i);\n\n\t\t\t\t\tif (imeta.bar &&\n\t\t\t\t\t\timeta.stack === stack &&\n\t\t\t\t\t\timeta.controller.getValueScaleId() === scale.id &&\n\t\t\t\t\t\tchart.isDatasetVisible(i)) {\n\n\t\t\t\t\t\tivalue = Number(datasets[i].data[index]);\n\t\t\t\t\t\tif ((value < 0 && ivalue < 0) || (value >= 0 && ivalue > 0)) {\n\t\t\t\t\t\t\tstart += ivalue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbase = scale.getPixelForValue(start);\n\t\t\thead = scale.getPixelForValue(start + value);\n\t\t\tsize = (head - base) / 2;\n\n\t\t\treturn {\n\t\t\t\tsize: size,\n\t\t\t\tbase: base,\n\t\t\t\thead: head,\n\t\t\t\tcenter: head + size / 2\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tcalculateBarIndexPixels: function(datasetIndex, index, ruler) {\n\t\t\tvar me = this;\n\t\t\tvar scale = ruler.scale;\n\t\t\tvar isCombo = me.chart.isCombo;\n\t\t\tvar stackIndex = me.getStackIndex(datasetIndex);\n\t\t\tvar base = scale.getPixelForValue(null, index, datasetIndex, isCombo);\n\t\t\tvar size = ruler.barSize;\n\n\t\t\tbase -= isCombo? ruler.tickSize / 2 : 0;\n\t\t\tbase += ruler.fullBarSize * stackIndex;\n\t\t\tbase += ruler.categorySpacing / 2;\n\t\t\tbase += ruler.barSpacing / 2;\n\n\t\t\treturn {\n\t\t\t\tsize: size,\n\t\t\t\tbase: base,\n\t\t\t\thead: base + size,\n\t\t\t\tcenter: base + size / 2\n\t\t\t};\n\t\t},\n\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar elements = me.getMeta().data;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar ilen = elements.length;\n\t\t\tvar i = 0;\n\t\t\tvar d;\n\n\t\t\thelpers.canvas.clipArea(chart.ctx, chart.chartArea);\n\n\t\t\tfor (; i<ilen; ++i) {\n\t\t\t\td = dataset.data[i];\n\t\t\t\tif (d !== null && d !== undefined && !isNaN(d)) {\n\t\t\t\t\telements[i].draw();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thelpers.canvas.unclipArea(chart.ctx);\n\t\t},\n\n\t\tsetHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.hoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.hoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.hoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(rectangle) {\n\t\t\tvar dataset = this.chart.data.datasets[rectangle._datasetIndex];\n\t\t\tvar index = rectangle._index;\n\t\t\tvar custom = rectangle.custom || {};\n\t\t\tvar model = rectangle._model;\n\t\t\tvar rectangleElementOptions = this.chart.options.elements.rectangle;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.backgroundColor, index, rectangleElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.borderColor, index, rectangleElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.borderWidth, index, rectangleElementOptions.borderWidth);\n\t\t}\n\t});\n\n\n\t// including horizontalBar in the bar file, instead of a file of its own\n\t// it extends bar (like pie extends doughnut)\n\tChart.defaults.horizontalBar = {\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'bottom'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\tposition: 'left',\n\t\t\t\ttype: 'category',\n\n\t\t\t\t// Specific to Horizontal Bar Controller\n\t\t\t\tcategoryPercentage: 0.8,\n\t\t\t\tbarPercentage: 0.9,\n\n\t\t\t\t// grid line settings\n\t\t\t\tgridLines: {\n\t\t\t\t\toffsetGridLines: true\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\telements: {\n\t\t\trectangle: {\n\t\t\t\tborderSkipped: 'left'\n\t\t\t}\n\t\t},\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function(tooltipItems, data) {\n\t\t\t\t\t// Pick first xLabel for now\n\t\t\t\t\tvar title = '';\n\n\t\t\t\t\tif (tooltipItems.length > 0) {\n\t\t\t\t\t\tif (tooltipItems[0].yLabel) {\n\t\t\t\t\t\t\ttitle = tooltipItems[0].yLabel;\n\t\t\t\t\t\t} else if (data.labels.length > 0 && tooltipItems[0].index < data.labels.length) {\n\t\t\t\t\t\t\ttitle = data.labels[tooltipItems[0].index];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\treturn datasetLabel + ': ' + tooltipItem.xLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.horizontalBar = Chart.controllers.bar.extend({\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tgetValueScaleId: function() {\n\t\t\treturn this.getMeta().xAxisID;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tgetIndexScaleId: function() {\n\t\t\treturn this.getMeta().yAxisID;\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.bubble = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\tvar dataPoint = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t\t\treturn datasetLabel + ': (' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ', ' + dataPoint.r + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.bubble = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data;\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar data = dataset.data[index];\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar dsIndex = me.index;\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_xScale: xScale,\n\t\t\t\t_yScale: yScale,\n\t\t\t\t_datasetIndex: dsIndex,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex, me.chart.isCombo),\n\t\t\t\t\ty: reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex),\n\t\t\t\t\t// Appearance\n\t\t\t\t\tradius: reset ? 0 : custom.radius ? custom.radius : me.getRadius(data),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.hitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Trick to reset the styles of the point\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, pointElementOptions);\n\n\t\t\tvar model = point._model;\n\t\t\tmodel.skip = custom.skip ? custom.skip : (isNaN(model.x) || isNaN(model.y));\n\n\t\t\tpoint.pivot();\n\t\t},\n\n\t\tgetRadius: function(value) {\n\t\t\treturn value.r || this.chart.options.elements.point.radius;\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.setHoverStyle.call(me, point);\n\n\t\t\t// Radius\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : (helpers.getValueAtIndexOrDefault(dataset.hoverRadius, index, me.chart.options.elements.point.hoverRadius)) + me.getRadius(dataset.data[index]);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(me, point, me.chart.options.elements.point);\n\n\t\t\tvar dataVal = me.chart.data.datasets[point._datasetIndex].data[point._index];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : me.getRadius(dataVal);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers,\n\t\tdefaults = Chart.defaults;\n\n\tdefaults.doughnut = {\n\t\tanimation: {\n\t\t\t// Boolean - Whether we animate the rotation of the Doughnut\n\t\t\tanimateRotate: true,\n\t\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\n\t\t\tanimateScale: false\n\t\t},\n\t\taspectRatio: 1,\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc && arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\t// toggle visibility of index if exists\n\t\t\t\t\tif (meta.data[index]) {\n\t\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// The percentage of the chart that we cut out of the middle.\n\t\tcutoutPercentage: 50,\n\n\t\t// The rotation of the chart, where the first data arc begins.\n\t\trotation: Math.PI * -0.5,\n\n\t\t// The total circumference of the chart.\n\t\tcircumference: Math.PI * 2.0,\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\tvar dataLabel = data.labels[tooltipItem.index];\n\t\t\t\t\tvar value = ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\n\t\t\t\t\tif (helpers.isArray(dataLabel)) {\n\t\t\t\t\t\t// show value on first line of multiline label\n\t\t\t\t\t\t// need to clone because we are changing the value\n\t\t\t\t\t\tdataLabel = dataLabel.slice();\n\t\t\t\t\t\tdataLabel[0] += value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdataLabel += value;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn dataLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tdefaults.pie = helpers.clone(defaults.doughnut);\n\thelpers.extend(defaults.pie, {\n\t\tcutoutPercentage: 0\n\t});\n\n\n\tChart.controllers.doughnut = Chart.controllers.pie = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\n\t\tgetRingIndex: function(datasetIndex) {\n\t\t\tvar ringIndex = 0;\n\n\t\t\tfor (var j = 0; j < datasetIndex; ++j) {\n\t\t\t\tif (this.chart.isDatasetVisible(j)) {\n\t\t\t\t\t++ringIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ringIndex;\n\t\t},\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tarcOpts = opts.elements.arc,\n\t\t\t\tavailableWidth = chartArea.right - chartArea.left - arcOpts.borderWidth,\n\t\t\t\tavailableHeight = chartArea.bottom - chartArea.top - arcOpts.borderWidth,\n\t\t\t\tminSize = Math.min(availableWidth, availableHeight),\n\t\t\t\toffset = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t},\n\t\t\t\tmeta = me.getMeta(),\n\t\t\t\tcutoutPercentage = opts.cutoutPercentage,\n\t\t\t\tcircumference = opts.circumference;\n\n\t\t\t// If the chart's circumference isn't a full circle, calculate minSize as a ratio of the width/height of the arc\n\t\t\tif (circumference < Math.PI * 2.0) {\n\t\t\t\tvar startAngle = opts.rotation % (Math.PI * 2.0);\n\t\t\t\tstartAngle += Math.PI * 2.0 * (startAngle >= Math.PI ? -1 : startAngle < -Math.PI ? 1 : 0);\n\t\t\t\tvar endAngle = startAngle + circumference;\n\t\t\t\tvar start = {x: Math.cos(startAngle), y: Math.sin(startAngle)};\n\t\t\t\tvar end = {x: Math.cos(endAngle), y: Math.sin(endAngle)};\n\t\t\t\tvar contains0 = (startAngle <= 0 && 0 <= endAngle) || (startAngle <= Math.PI * 2.0 && Math.PI * 2.0 <= endAngle);\n\t\t\t\tvar contains90 = (startAngle <= Math.PI * 0.5 && Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 2.5 && Math.PI * 2.5 <= endAngle);\n\t\t\t\tvar contains180 = (startAngle <= -Math.PI && -Math.PI <= endAngle) || (startAngle <= Math.PI && Math.PI <= endAngle);\n\t\t\t\tvar contains270 = (startAngle <= -Math.PI * 0.5 && -Math.PI * 0.5 <= endAngle) || (startAngle <= Math.PI * 1.5 && Math.PI * 1.5 <= endAngle);\n\t\t\t\tvar cutout = cutoutPercentage / 100.0;\n\t\t\t\tvar min = {x: contains180 ? -1 : Math.min(start.x * (start.x < 0 ? 1 : cutout), end.x * (end.x < 0 ? 1 : cutout)), y: contains270 ? -1 : Math.min(start.y * (start.y < 0 ? 1 : cutout), end.y * (end.y < 0 ? 1 : cutout))};\n\t\t\t\tvar max = {x: contains0 ? 1 : Math.max(start.x * (start.x > 0 ? 1 : cutout), end.x * (end.x > 0 ? 1 : cutout)), y: contains90 ? 1 : Math.max(start.y * (start.y > 0 ? 1 : cutout), end.y * (end.y > 0 ? 1 : cutout))};\n\t\t\t\tvar size = {width: (max.x - min.x) * 0.5, height: (max.y - min.y) * 0.5};\n\t\t\t\tminSize = Math.min(availableWidth / size.width, availableHeight / size.height);\n\t\t\t\toffset = {x: (max.x + min.x) * -0.5, y: (max.y + min.y) * -0.5};\n\t\t\t}\n\n\t\t\tchart.borderWidth = me.getMaxBorderWidth(meta.data);\n\t\t\tchart.outerRadius = Math.max((minSize - chart.borderWidth) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(cutoutPercentage ? (chart.outerRadius / 100) * (cutoutPercentage) : 0, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\t\t\tchart.offsetX = offset.x * chart.outerRadius;\n\t\t\tchart.offsetY = offset.y * chart.outerRadius;\n\n\t\t\tmeta.total = me.calculateTotal();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.getRingIndex(me.index));\n\t\t\tme.innerRadius = Math.max(me.outerRadius - chart.radiusLength, 0);\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart,\n\t\t\t\tchartArea = chart.chartArea,\n\t\t\t\topts = chart.options,\n\t\t\t\tanimationOpts = opts.animation,\n\t\t\t\tcenterX = (chartArea.left + chartArea.right) / 2,\n\t\t\t\tcenterY = (chartArea.top + chartArea.bottom) / 2,\n\t\t\t\tstartAngle = opts.rotation, // non reset case handled later\n\t\t\t\tendAngle = opts.rotation, // non reset case handled later\n\t\t\t\tdataset = me.getDataset(),\n\t\t\t\tcircumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / (2.0 * Math.PI)),\n\t\t\t\tinnerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius,\n\t\t\t\touterRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius,\n\t\t\t\tvalueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX + chart.offsetX,\n\t\t\t\t\ty: centerY + chart.offsetY,\n\t\t\t\t\tstartAngle: startAngle,\n\t\t\t\t\tendAngle: endAngle,\n\t\t\t\t\tcircumference: circumference,\n\t\t\t\t\touterRadius: outerRadius,\n\t\t\t\t\tinnerRadius: innerRadius,\n\t\t\t\t\tlabel: valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar model = arc._model;\n\t\t\t// Resets the visual styles\n\t\t\tthis.removeHoverStyle(arc);\n\n\t\t\t// Set correct angles if not resetting\n\t\t\tif (!reset || !animationOpts.animateRotate) {\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tmodel.startAngle = opts.rotation;\n\t\t\t\t} else {\n\t\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\n\t\t\t\t}\n\n\t\t\t\tmodel.endAngle = model.startAngle + model.circumference;\n\t\t\t}\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcalculateTotal: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar total = 0;\n\t\t\tvar value;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tvalue = dataset.data[index];\n\t\t\t\tif (!isNaN(value) && !element.hidden) {\n\t\t\t\t\ttotal += Math.abs(value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/* if (total === 0) {\n\t\t\t\ttotal = NaN;\n\t\t\t}*/\n\n\t\t\treturn total;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar total = this.getMeta().total;\n\t\t\tif (total > 0 && !isNaN(value)) {\n\t\t\t\treturn (Math.PI * 2.0) * (value / total);\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\t// gets the max border or hover width to properly scale pie charts\n\t\tgetMaxBorderWidth: function(elements) {\n\t\t\tvar max = 0,\n\t\t\t\tindex = this.index,\n\t\t\t\tlength = elements.length,\n\t\t\t\tborderWidth,\n\t\t\t\thoverWidth;\n\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tborderWidth = elements[i]._model ? elements[i]._model.borderWidth : 0;\n\t\t\t\thoverWidth = elements[i]._chart ? elements[i]._chart.config.data.datasets[index].hoverBorderWidth : 0;\n\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\n\t\t\t}\n\t\t\treturn max;\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.line = {\n\t\tshowLines: true,\n\t\tspanGaps: false,\n\n\t\thover: {\n\t\t\tmode: 'label'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'category',\n\t\t\t\tid: 'x-axis-0'\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tid: 'y-axis-0'\n\t\t\t}]\n\t\t}\n\t};\n\n\tfunction lineEnabled(dataset, options) {\n\t\treturn helpers.getValueOrDefault(dataset.showLine, options.showLines);\n\t}\n\n\tChart.controllers.line = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data || [];\n\t\t\tvar options = me.chart.options;\n\t\t\tvar lineElementOptions = options.elements.line;\n\t\t\tvar scale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar i, ilen, custom;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar showLine = lineEnabled(dataset, options);\n\n\t\t\t// Update Line\n\t\t\tif (showLine) {\n\t\t\t\tcustom = line.custom || {};\n\n\t\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t\t}\n\n\t\t\t\t// Utility\n\t\t\t\tline._scale = scale;\n\t\t\t\tline._datasetIndex = me.index;\n\t\t\t\t// Data\n\t\t\t\tline._children = points;\n\t\t\t\t// Model\n\t\t\t\tline._model = {\n\t\t\t\t\t// Appearance\n\t\t\t\t\t// The default behavior of lines is to break at null values, according\n\t\t\t\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\n\t\t\t\t\t// This option gives lines the ability to span gaps\n\t\t\t\t\tspanGaps: dataset.spanGaps ? dataset.spanGaps : options.spanGaps,\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tsteppedLine: custom.steppedLine ? custom.steppedLine : helpers.getValueOrDefault(dataset.steppedLine, lineElementOptions.stepped),\n\t\t\t\t\tcubicInterpolationMode: custom.cubicInterpolationMode ? custom.cubicInterpolationMode : helpers.getValueOrDefault(dataset.cubicInterpolationMode, lineElementOptions.cubicInterpolationMode),\n\t\t\t\t};\n\n\t\t\t\tline.pivot();\n\t\t\t}\n\n\t\t\t// Update Points\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tme.updateElement(points[i], i, reset);\n\t\t\t}\n\n\t\t\tif (showLine && line._model.tension !== 0) {\n\t\t\t\tme.updateBezierControlPoints();\n\t\t\t}\n\n\t\t\t// Now pivot the point for animation\n\t\t\tfor (i=0, ilen=points.length; i<ilen; ++i) {\n\t\t\t\tpoints[i].pivot();\n\t\t\t}\n\t\t},\n\n\t\tgetPointBackgroundColor: function(point, index) {\n\t\t\tvar backgroundColor = this.chart.options.elements.point.backgroundColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.backgroundColor) {\n\t\t\t\tbackgroundColor = custom.backgroundColor;\n\t\t\t} else if (dataset.pointBackgroundColor) {\n\t\t\t\tbackgroundColor = helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, backgroundColor);\n\t\t\t} else if (dataset.backgroundColor) {\n\t\t\t\tbackgroundColor = dataset.backgroundColor;\n\t\t\t}\n\n\t\t\treturn backgroundColor;\n\t\t},\n\n\t\tgetPointBorderColor: function(point, index) {\n\t\t\tvar borderColor = this.chart.options.elements.point.borderColor;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (custom.borderColor) {\n\t\t\t\tborderColor = custom.borderColor;\n\t\t\t} else if (dataset.pointBorderColor) {\n\t\t\t\tborderColor = helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, borderColor);\n\t\t\t} else if (dataset.borderColor) {\n\t\t\t\tborderColor = dataset.borderColor;\n\t\t\t}\n\n\t\t\treturn borderColor;\n\t\t},\n\n\t\tgetPointBorderWidth: function(point, index) {\n\t\t\tvar borderWidth = this.chart.options.elements.point.borderWidth;\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar custom = point.custom || {};\n\n\t\t\tif (!isNaN(custom.borderWidth)) {\n\t\t\t\tborderWidth = custom.borderWidth;\n\t\t\t} else if (!isNaN(dataset.pointBorderWidth)) {\n\t\t\t\tborderWidth = helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, borderWidth);\n\t\t\t} else if (!isNaN(dataset.borderWidth)) {\n\t\t\t\tborderWidth = dataset.borderWidth;\n\t\t\t}\n\n\t\t\treturn borderWidth;\n\t\t},\n\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar datasetIndex = me.index;\n\t\t\tvar value = dataset.data[index];\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar xScale = me.getScaleForId(meta.xAxisID);\n\t\t\tvar pointOptions = me.chart.options.elements.point;\n\t\t\tvar x, y;\n\t\t\tvar labels = me.chart.data.labels || [];\n\t\t\tvar includeOffset = (labels.length === 1 || dataset.data.length === 1) || me.chart.isCombo;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\t\t\tif ((dataset.hitRadius !== undefined) && (dataset.pointHitRadius === undefined)) {\n\t\t\t\tdataset.pointHitRadius = dataset.hitRadius;\n\t\t\t}\n\n\t\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex, includeOffset);\n\t\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\n\n\t\t\t// Utility\n\t\t\tpoint._xScale = xScale;\n\t\t\tpoint._yScale = yScale;\n\t\t\tpoint._datasetIndex = datasetIndex;\n\t\t\tpoint._index = index;\n\n\t\t\t// Desired view properties\n\t\t\tpoint._model = {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\n\t\t\t\t// Appearance\n\t\t\t\tradius: custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointOptions.radius),\n\t\t\t\tpointStyle: custom.pointStyle || helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointOptions.pointStyle),\n\t\t\t\tbackgroundColor: me.getPointBackgroundColor(point, index),\n\t\t\t\tborderColor: me.getPointBorderColor(point, index),\n\t\t\t\tborderWidth: me.getPointBorderWidth(point, index),\n\t\t\t\ttension: meta.dataset._model ? meta.dataset._model.tension : 0,\n\t\t\t\tsteppedLine: meta.dataset._model ? meta.dataset._model.steppedLine : false,\n\t\t\t\t// Tooltip\n\t\t\t\thitRadius: custom.hitRadius || helpers.getValueAtIndexOrDefault(dataset.pointHitRadius, index, pointOptions.hitRadius)\n\t\t\t};\n\t\t},\n\n\t\tcalculatePointY: function(value, index, datasetIndex) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar yScale = me.getScaleForId(meta.yAxisID);\n\t\t\tvar sumPos = 0;\n\t\t\tvar sumNeg = 0;\n\t\t\tvar i, ds, dsMeta;\n\n\t\t\tif (yScale.options.stacked) {\n\t\t\t\tfor (i = 0; i < datasetIndex; i++) {\n\t\t\t\t\tds = chart.data.datasets[i];\n\t\t\t\t\tdsMeta = chart.getDatasetMeta(i);\n\t\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id && chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tvar stackedRightValue = Number(yScale.getRightValue(ds.data[index]));\n\t\t\t\t\t\tif (stackedRightValue < 0) {\n\t\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsumPos += stackedRightValue || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar rightValue = Number(yScale.getRightValue(value));\n\t\t\t\tif (rightValue < 0) {\n\t\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\n\t\t\t\t}\n\t\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\n\t\t\t}\n\n\t\t\treturn yScale.getPixelForValue(value);\n\t\t},\n\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar area = me.chart.chartArea;\n\t\t\tvar points = (meta.data || []);\n\t\t\tvar i, ilen, point, model, controlPoints;\n\n\t\t\t// Only consider points that are drawn in case the spanGaps option is used\n\t\t\tif (meta.dataset._model.spanGaps) {\n\t\t\t\tpoints = points.filter(function(pt) {\n\t\t\t\t\treturn !pt._model.skip;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction capControlPoint(pt, min, max) {\n\t\t\t\treturn Math.max(Math.min(pt, max), min);\n\t\t\t}\n\n\t\t\tif (meta.dataset._model.cubicInterpolationMode === 'monotone') {\n\t\t\t\thelpers.splineCurveMonotone(points);\n\t\t\t} else {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tpoint = points[i];\n\t\t\t\t\tmodel = point._model;\n\t\t\t\t\tcontrolPoints = helpers.splineCurve(\n\t\t\t\t\t\thelpers.previousItem(points, i)._model,\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t\thelpers.nextItem(points, i)._model,\n\t\t\t\t\t\tmeta.dataset._model.tension\n\t\t\t\t\t);\n\t\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\n\t\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\n\t\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\n\t\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (me.chart.options.elements.line.capBezierPoints) {\n\t\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\n\t\t\t\t\tmodel = points[i]._model;\n\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\n\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\n\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar points = meta.data || [];\n\t\t\tvar area = chart.chartArea;\n\t\t\tvar ilen = points.length;\n\t\t\tvar i = 0;\n\n\t\t\tChart.canvasHelpers.clipArea(chart.ctx, area);\n\n\t\t\tif (lineEnabled(me.getDataset(), chart.options)) {\n\t\t\t\tmeta.dataset.draw();\n\t\t\t}\n\n\t\t\tChart.canvasHelpers.unclipArea(chart.ctx);\n\n\t\t\t// Draw the points\n\t\t\tfor (; i<ilen; ++i) {\n\t\t\t\tpoints[i].draw(area);\n\t\t\t}\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius || helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth || helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.chart.data.datasets[point._datasetIndex];\n\t\t\tvar index = point._index;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar model = point._model;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\n\t\t\tmodel.radius = custom.radius || helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, me.chart.options.elements.point.radius);\n\t\t\tmodel.backgroundColor = me.getPointBackgroundColor(point, index);\n\t\t\tmodel.borderColor = me.getPointBorderColor(point, index);\n\t\t\tmodel.borderWidth = me.getPointBorderWidth(point, index);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.polarArea = {\n\n\t\tscale: {\n\t\t\ttype: 'radialLinear',\n\t\t\tangleLines: {\n\t\t\t\tdisplay: false\n\t\t\t},\n\t\t\tgridLines: {\n\t\t\t\tcircular: true\n\t\t\t},\n\t\t\tpointLabels: {\n\t\t\t\tdisplay: false\n\t\t\t},\n\t\t\tticks: {\n\t\t\t\tbeginAtZero: true\n\t\t\t}\n\t\t},\n\n\t\t// Boolean - Whether to animate the rotation of the chart\n\t\tanimation: {\n\t\t\tanimateRotate: true,\n\t\t\tanimateScale: true\n\t\t},\n\n\t\tstartAngle: -0.5 * Math.PI,\n\t\taspectRatio: 1,\n\t\tlegendCallback: function(chart) {\n\t\t\tvar text = [];\n\t\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\t\tvar data = chart.data;\n\t\t\tvar datasets = data.datasets;\n\t\t\tvar labels = data.labels;\n\n\t\t\tif (datasets.length) {\n\t\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\t\t\t\t\tif (labels[i]) {\n\t\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t\t}\n\t\t\t\t\ttext.push('</li>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.push('</ul>');\n\t\t\treturn text.join('');\n\t\t},\n\t\tlegend: {\n\t\t\tlabels: {\n\t\t\t\tgenerateLabels: function(chart) {\n\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\t\tvar custom = arc.custom || {};\n\t\t\t\t\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : getValueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : getValueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : getValueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function(e, legendItem) {\n\t\t\t\tvar index = legendItem.index;\n\t\t\t\tvar chart = this.chart;\n\t\t\t\tvar i, ilen, meta;\n\n\t\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t\t}\n\n\t\t\t\tchart.update();\n\t\t\t}\n\t\t},\n\n\t\t// Need to override these to give a nice default\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\treturn data.labels[tooltipItem.index] + ': ' + tooltipItem.yLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.polarArea = Chart.DatasetController.extend({\n\n\t\tdataElementType: Chart.elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar chartArea = chart.chartArea;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar opts = chart.options;\n\t\t\tvar arcOpts = opts.elements.arc;\n\t\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\t\t\tchart.outerRadius = Math.max((minSize - arcOpts.borderWidth / 2) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\n\t\t\tmeta.count = me.countVisibleElements();\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar opts = chart.options;\n\t\t\tvar animationOpts = opts.animation;\n\t\t\tvar scale = chart.scale;\n\t\t\tvar getValueAtIndexOrDefault = helpers.getValueAtIndexOrDefault;\n\t\t\tvar labels = chart.data.labels;\n\n\t\t\tvar circumference = me.calculateCircumference(dataset.data[index]);\n\t\t\tvar centerX = scale.xCenter;\n\t\t\tvar centerY = scale.yCenter;\n\n\t\t\t// If there is NaN data before us, we need to calculate the starting angle correctly.\n\t\t\t// We could be way more efficient here, but its unlikely that the polar area chart will have a lot of data\n\t\t\tvar visibleCount = 0;\n\t\t\tvar meta = me.getMeta();\n\t\t\tfor (var i = 0; i < index; ++i) {\n\t\t\t\tif (!isNaN(dataset.data[i]) && !meta.data[i].hidden) {\n\t\t\t\t\t++visibleCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// var negHalfPI = -0.5 * Math.PI;\n\t\t\tvar datasetStartAngle = opts.startAngle;\n\t\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\t\t\tvar startAngle = datasetStartAngle + (circumference * visibleCount);\n\t\t\tvar endAngle = startAngle + (arc.hidden ? 0 : circumference);\n\n\t\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX,\n\t\t\t\t\ty: centerY,\n\t\t\t\t\tinnerRadius: 0,\n\t\t\t\t\touterRadius: reset ? resetRadius : distance,\n\t\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\n\t\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\n\t\t\t\t\tlabel: getValueAtIndexOrDefault(labels, index, labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply border and fill style\n\t\t\tme.removeHoverStyle(arc);\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tremoveHoverStyle: function(arc) {\n\t\t\tChart.DatasetController.prototype.removeHoverStyle.call(this, arc, this.chart.options.elements.arc);\n\t\t},\n\n\t\tcountVisibleElements: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar count = 0;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn count;\n\t\t},\n\n\t\tcalculateCircumference: function(value) {\n\t\t\tvar count = this.getMeta().count;\n\t\t\tif (count > 0 && !isNaN(value)) {\n\t\t\t\treturn (2 * Math.PI) / count;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\n\tChart.defaults.radar = {\n\t\taspectRatio: 1,\n\t\tscale: {\n\t\t\ttype: 'radialLinear'\n\t\t},\n\t\telements: {\n\t\t\tline: {\n\t\t\t\ttension: 0 // no bezier in radar\n\t\t\t}\n\t\t}\n\t};\n\n\tChart.controllers.radar = Chart.DatasetController.extend({\n\n\t\tdatasetElementType: Chart.elements.Line,\n\n\t\tdataElementType: Chart.elements.Point,\n\n\t\tlinkScales: helpers.noop,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar line = meta.dataset;\n\t\t\tvar points = meta.data;\n\t\t\tvar custom = line.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar lineElementOptions = me.chart.options.elements.line;\n\t\t\tvar scale = me.chart.scale;\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.tension !== undefined) && (dataset.lineTension === undefined)) {\n\t\t\t\tdataset.lineTension = dataset.tension;\n\t\t\t}\n\n\t\t\thelpers.extend(meta.dataset, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_scale: scale,\n\t\t\t\t// Data\n\t\t\t\t_children: points,\n\t\t\t\t_loop: true,\n\t\t\t\t// Model\n\t\t\t\t_model: {\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, lineElementOptions.tension),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : (dataset.backgroundColor || lineElementOptions.backgroundColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : (dataset.borderWidth || lineElementOptions.borderWidth),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : (dataset.borderColor || lineElementOptions.borderColor),\n\t\t\t\t\tfill: custom.fill ? custom.fill : (dataset.fill !== undefined ? dataset.fill : lineElementOptions.fill),\n\t\t\t\t\tborderCapStyle: custom.borderCapStyle ? custom.borderCapStyle : (dataset.borderCapStyle || lineElementOptions.borderCapStyle),\n\t\t\t\t\tborderDash: custom.borderDash ? custom.borderDash : (dataset.borderDash || lineElementOptions.borderDash),\n\t\t\t\t\tborderDashOffset: custom.borderDashOffset ? custom.borderDashOffset : (dataset.borderDashOffset || lineElementOptions.borderDashOffset),\n\t\t\t\t\tborderJoinStyle: custom.borderJoinStyle ? custom.borderJoinStyle : (dataset.borderJoinStyle || lineElementOptions.borderJoinStyle),\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmeta.dataset.pivot();\n\n\t\t\t// Update Points\n\t\t\thelpers.each(points, function(point, index) {\n\t\t\t\tme.updateElement(point, index, reset);\n\t\t\t}, me);\n\n\t\t\t// Update bezier control points\n\t\t\tme.updateBezierControlPoints();\n\t\t},\n\t\tupdateElement: function(point, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar scale = me.chart.scale;\n\t\t\tvar pointElementOptions = me.chart.options.elements.point;\n\t\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\n\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\n\t\t\tif ((dataset.radius !== undefined) && (dataset.pointRadius === undefined)) {\n\t\t\t\tdataset.pointRadius = dataset.radius;\n\t\t\t}\n\t\t\tif ((dataset.hitRadius !== undefined) && (dataset.pointHitRadius === undefined)) {\n\t\t\t\tdataset.pointHitRadius = dataset.hitRadius;\n\t\t\t}\n\n\t\t\thelpers.extend(point, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: reset ? scale.xCenter : pointPosition.x, // value not used in dataset scale, but we want a consistent API between scales\n\t\t\t\t\ty: reset ? scale.yCenter : pointPosition.y,\n\n\t\t\t\t\t// Appearance\n\t\t\t\t\ttension: custom.tension ? custom.tension : helpers.getValueOrDefault(dataset.lineTension, me.chart.options.elements.line.tension),\n\t\t\t\t\tradius: custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointElementOptions.radius),\n\t\t\t\t\tbackgroundColor: custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor),\n\t\t\t\t\tborderColor: custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor),\n\t\t\t\t\tborderWidth: custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth),\n\t\t\t\t\tpointStyle: custom.pointStyle ? custom.pointStyle : helpers.getValueAtIndexOrDefault(dataset.pointStyle, index, pointElementOptions.pointStyle),\n\n\t\t\t\t\t// Tooltip\n\t\t\t\t\thitRadius: custom.hitRadius ? custom.hitRadius : helpers.getValueAtIndexOrDefault(dataset.pointHitRadius, index, pointElementOptions.hitRadius)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpoint._model.skip = custom.skip ? custom.skip : (isNaN(point._model.x) || isNaN(point._model.y));\n\t\t},\n\t\tupdateBezierControlPoints: function() {\n\t\t\tvar chartArea = this.chart.chartArea;\n\t\t\tvar meta = this.getMeta();\n\n\t\t\thelpers.each(meta.data, function(point, index) {\n\t\t\t\tvar model = point._model;\n\t\t\t\tvar controlPoints = helpers.splineCurve(\n\t\t\t\t\thelpers.previousItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel,\n\t\t\t\t\thelpers.nextItem(meta.data, index, true)._model,\n\t\t\t\t\tmodel.tension\n\t\t\t\t);\n\n\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\n\t\t\t\tmodel.controlPointPreviousX = Math.max(Math.min(controlPoints.previous.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointPreviousY = Math.max(Math.min(controlPoints.previous.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\tmodel.controlPointNextX = Math.max(Math.min(controlPoints.next.x, chartArea.right), chartArea.left);\n\t\t\t\tmodel.controlPointNextY = Math.max(Math.min(controlPoints.next.y, chartArea.bottom), chartArea.top);\n\n\t\t\t\t// Now pivot the point for animation\n\t\t\t\tpoint.pivot();\n\t\t\t});\n\t\t},\n\n\t\tsetHoverStyle: function(point) {\n\t\t\t// Point\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\n\t\t\tmodel.radius = custom.hoverRadius ? custom.hoverRadius : helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius, index, this.chart.options.elements.point.hoverRadius);\n\t\t\tmodel.backgroundColor = custom.hoverBackgroundColor ? custom.hoverBackgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor, index, helpers.getHoverColor(model.backgroundColor));\n\t\t\tmodel.borderColor = custom.hoverBorderColor ? custom.hoverBorderColor : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor, index, helpers.getHoverColor(model.borderColor));\n\t\t\tmodel.borderWidth = custom.hoverBorderWidth ? custom.hoverBorderWidth : helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth, index, model.borderWidth);\n\t\t},\n\n\t\tremoveHoverStyle: function(point) {\n\t\t\tvar dataset = this.chart.data.datasets[point._datasetIndex];\n\t\t\tvar custom = point.custom || {};\n\t\t\tvar index = point._index;\n\t\t\tvar model = point._model;\n\t\t\tvar pointElementOptions = this.chart.options.elements.point;\n\n\t\t\tmodel.radius = custom.radius ? custom.radius : helpers.getValueAtIndexOrDefault(dataset.pointRadius, index, pointElementOptions.radius);\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor, index, pointElementOptions.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : helpers.getValueAtIndexOrDefault(dataset.pointBorderColor, index, pointElementOptions.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth, index, pointElementOptions.borderWidth);\n\t\t}\n\t});\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bar = function(context, config) {\n\t\tconfig.type = 'bar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Bubble = function(context, config) {\n\t\tconfig.type = 'bubble';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Doughnut = function(context, config) {\n\t\tconfig.type = 'doughnut';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Line = function(context, config) {\n\t\tconfig.type = 'line';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.PolarArea = function(context, config) {\n\t\tconfig.type = 'polarArea';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tChart.Radar = function(context, config) {\n\t\tconfig.type = 'radar';\n\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar defaultConfig = {\n\t\thover: {\n\t\t\tmode: 'single'\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [{\n\t\t\t\ttype: 'linear', // scatter should not use a category axis\n\t\t\t\tposition: 'bottom',\n\t\t\t\tid: 'x-axis-1' // need an ID so datasets can reference the scale\n\t\t\t}],\n\t\t\tyAxes: [{\n\t\t\t\ttype: 'linear',\n\t\t\t\tposition: 'left',\n\t\t\t\tid: 'y-axis-1'\n\t\t\t}]\n\t\t},\n\n\t\ttooltips: {\n\t\t\tcallbacks: {\n\t\t\t\ttitle: function() {\n\t\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\n\t\t\t\t\treturn '';\n\t\t\t\t},\n\t\t\t\tlabel: function(tooltipItem) {\n\t\t\t\t\treturn '(' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ')';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Register the default config for this type\n\tChart.defaults.scatter = defaultConfig;\n\n\t// Scatter charts use line controllers\n\tChart.controllers.scatter = Chart.controllers.line;\n\n\tChart.Scatter = function(context, config) {\n\t\tconfig.type = 'scatter';\n\t\treturn new Chart(context, config);\n\t};\n\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\t/**\n\t * Plugin based on discussion from the following Chart.js issues:\n\t * @see https://github.com/chartjs/Chart.js/issues/2380#issuecomment-279961569\n\t * @see https://github.com/chartjs/Chart.js/issues/2440#issuecomment-256461897\n\t */\n\tChart.defaults.global.plugins.filler = {\n\t\tpropagate: true\n\t};\n\n\tvar defaults = Chart.defaults;\n\tvar helpers = Chart.helpers;\n\tvar mappers = {\n\t\tdataset: function(source) {\n\t\t\tvar index = source.fill;\n\t\t\tvar chart = source.chart;\n\t\t\tvar meta = chart.getDatasetMeta(index);\n\t\t\tvar visible = meta && chart.isDatasetVisible(index);\n\t\t\tvar points = (visible && meta.dataset._children) || [];\n\n\t\t\treturn !points.length? null : function(point, i) {\n\t\t\t\treturn points[i]._view || null;\n\t\t\t};\n\t\t},\n\n\t\tboundary: function(source) {\n\t\t\tvar boundary = source.boundary;\n\t\t\tvar x = boundary? boundary.x : null;\n\t\t\tvar y = boundary? boundary.y : null;\n\n\t\t\treturn function(point) {\n\t\t\t\treturn {\n\t\t\t\t\tx: x === null? point.x : x,\n\t\t\t\t\ty: y === null? point.y : y,\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\t};\n\n\t// @todo if (fill[0] === '#')\n\tfunction decodeFill(el, index, count) {\n\t\tvar model = el._model || {};\n\t\tvar fill = model.fill;\n\t\tvar target;\n\n\t\tif (fill === undefined) {\n\t\t\tfill = !!model.backgroundColor;\n\t\t}\n\n\t\tif (fill === false || fill === null) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (fill === true) {\n\t\t\treturn 'origin';\n\t\t}\n\n\t\ttarget = parseFloat(fill, 10);\n\t\tif (isFinite(target) && Math.floor(target) === target) {\n\t\t\tif (fill[0] === '-' || fill[0] === '+') {\n\t\t\t\ttarget = index + target;\n\t\t\t}\n\n\t\t\tif (target === index || target < 0 || target >= count) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn target;\n\t\t}\n\n\t\tswitch (fill) {\n\t\t// compatibility\n\t\tcase 'bottom':\n\t\t\treturn 'start';\n\t\tcase 'top':\n\t\t\treturn 'end';\n\t\tcase 'zero':\n\t\t\treturn 'origin';\n\t\t// supported boundaries\n\t\tcase 'origin':\n\t\tcase 'start':\n\t\tcase 'end':\n\t\t\treturn fill;\n\t\t// invalid fill values\n\t\tdefault:\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction computeBoundary(source) {\n\t\tvar model = source.el._model || {};\n\t\tvar scale = source.el._scale || {};\n\t\tvar fill = source.fill;\n\t\tvar target = null;\n\t\tvar horizontal;\n\n\t\tif (isFinite(fill)) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Backward compatibility: until v3, we still need to support boundary values set on\n\t\t// the model (scaleTop, scaleBottom and scaleZero) because some external plugins and\n\t\t// controllers might still use it (e.g. the Smith chart).\n\n\t\tif (fill === 'start') {\n\t\t\ttarget = model.scaleBottom === undefined? scale.bottom : model.scaleBottom;\n\t\t} else if (fill === 'end') {\n\t\t\ttarget = model.scaleTop === undefined? scale.top : model.scaleTop;\n\t\t} else if (model.scaleZero !== undefined) {\n\t\t\ttarget = model.scaleZero;\n\t\t} else if (scale.getBasePosition) {\n\t\t\ttarget = scale.getBasePosition();\n\t\t} else if (scale.getBasePixel) {\n\t\t\ttarget = scale.getBasePixel();\n\t\t}\n\n\t\tif (target !== undefined && target !== null) {\n\t\t\tif (target.x !== undefined && target.y !== undefined) {\n\t\t\t\treturn target;\n\t\t\t}\n\n\t\t\tif (typeof target === 'number' && isFinite(target)) {\n\t\t\t\thorizontal = scale.isHorizontal();\n\t\t\t\treturn {\n\t\t\t\t\tx: horizontal? target : null,\n\t\t\t\t\ty: horizontal? null : target\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction resolveTarget(sources, index, propagate) {\n\t\tvar source = sources[index];\n\t\tvar fill = source.fill;\n\t\tvar visited = [index];\n\t\tvar target;\n\n\t\tif (!propagate) {\n\t\t\treturn fill;\n\t\t}\n\n\t\twhile (fill !== false && visited.indexOf(fill) === -1) {\n\t\t\tif (!isFinite(fill)) {\n\t\t\t\treturn fill;\n\t\t\t}\n\n\t\t\ttarget = sources[fill];\n\t\t\tif (!target) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (target.visible) {\n\t\t\t\treturn fill;\n\t\t\t}\n\n\t\t\tvisited.push(fill);\n\t\t\tfill = target.fill;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction createMapper(source) {\n\t\tvar fill = source.fill;\n\t\tvar type = 'dataset';\n\n\t\tif (fill === false) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!isFinite(fill)) {\n\t\t\ttype = 'boundary';\n\t\t}\n\n\t\treturn mappers[type](source);\n\t}\n\n\tfunction isDrawable(point) {\n\t\treturn point && !point.skip;\n\t}\n\n\tfunction drawArea(ctx, curve0, curve1, len0, len1) {\n\t\tvar i;\n\n\t\tif (!len0 || !len1) {\n\t\t\treturn;\n\t\t}\n\n\t\t// building first area curve (normal)\n\t\tctx.moveTo(curve0[0].x, curve0[0].y);\n\t\tfor (i=1; i<len0; ++i) {\n\t\t\thelpers.canvas.lineTo(ctx, curve0[i-1], curve0[i]);\n\t\t}\n\n\t\t// joining the two area curves\n\t\tctx.lineTo(curve1[len1-1].x, curve1[len1-1].y);\n\n\t\t// building opposite area curve (reverse)\n\t\tfor (i=len1-1; i>0; --i) {\n\t\t\thelpers.canvas.lineTo(ctx, curve1[i], curve1[i-1], true);\n\t\t}\n\t}\n\n\tfunction doFill(ctx, points, mapper, view, color, loop) {\n\t\tvar count = points.length;\n\t\tvar span = view.spanGaps;\n\t\tvar curve0 = [];\n\t\tvar curve1 = [];\n\t\tvar len0 = 0;\n\t\tvar len1 = 0;\n\t\tvar i, ilen, index, p0, p1, d0, d1;\n\n\t\tctx.beginPath();\n\n\t\tfor (i = 0, ilen = (count + !!loop); i < ilen; ++i) {\n\t\t\tindex = i%count;\n\t\t\tp0 = points[index]._view;\n\t\t\tp1 = mapper(p0, index, view);\n\t\t\td0 = isDrawable(p0);\n\t\t\td1 = isDrawable(p1);\n\n\t\t\tif (d0 && d1) {\n\t\t\t\tlen0 = curve0.push(p0);\n\t\t\t\tlen1 = curve1.push(p1);\n\t\t\t} else if (len0 && len1) {\n\t\t\t\tif (!span) {\n\t\t\t\t\tdrawArea(ctx, curve0, curve1, len0, len1);\n\t\t\t\t\tlen0 = len1 = 0;\n\t\t\t\t\tcurve0 = [];\n\t\t\t\t\tcurve1 = [];\n\t\t\t\t} else {\n\t\t\t\t\tif (d0) {\n\t\t\t\t\t\tcurve0.push(p0);\n\t\t\t\t\t}\n\t\t\t\t\tif (d1) {\n\t\t\t\t\t\tcurve1.push(p1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdrawArea(ctx, curve0, curve1, len0, len1);\n\n\t\tctx.closePath();\n\t\tctx.fillStyle = color;\n\t\tctx.fill();\n\t}\n\n\treturn {\n\t\tid: 'filler',\n\n\t\tafterDatasetsUpdate: function(chart, options) {\n\t\t\tvar count = (chart.data.datasets || []).length;\n\t\t\tvar propagate = options.propagate;\n\t\t\tvar sources = [];\n\t\t\tvar meta, i, el, source;\n\n\t\t\tfor (i = 0; i < count; ++i) {\n\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\tel = meta.dataset;\n\t\t\t\tsource = null;\n\n\t\t\t\tif (el && el._model && el instanceof Chart.elements.Line) {\n\t\t\t\t\tsource = {\n\t\t\t\t\t\tvisible: chart.isDatasetVisible(i),\n\t\t\t\t\t\tfill: decodeFill(el, i, count),\n\t\t\t\t\t\tchart: chart,\n\t\t\t\t\t\tel: el\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tmeta.$filler = source;\n\t\t\t\tsources.push(source);\n\t\t\t}\n\n\t\t\tfor (i=0; i<count; ++i) {\n\t\t\t\tsource = sources[i];\n\t\t\t\tif (!source) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tsource.fill = resolveTarget(sources, i, propagate);\n\t\t\t\tsource.boundary = computeBoundary(source);\n\t\t\t\tsource.mapper = createMapper(source);\n\t\t\t}\n\t\t},\n\n\t\tbeforeDatasetDraw: function(chart, args) {\n\t\t\tvar meta = args.meta.$filler;\n\t\t\tif (!meta) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar el = meta.el;\n\t\t\tvar view = el._view;\n\t\t\tvar points = el._children || [];\n\t\t\tvar mapper = meta.mapper;\n\t\t\tvar color = view.backgroundColor || defaults.global.defaultColor;\n\n\t\t\tif (mapper && color && points.length) {\n\t\t\t\tdoFill(chart.ctx, points, mapper, view, color, el._loop);\n\t\t\t}\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar layout = Chart.layoutService;\n\tvar noop = helpers.noop;\n\n\tChart.defaults.global.legend = {\n\t\tdisplay: true,\n\t\tposition: 'top',\n\t\tfullWidth: true,\n\t\treverse: false,\n\t\tweight: 1000,\n\n\t\t// a callback that will handle\n\t\tonClick: function(e, legendItem) {\n\t\t\tvar index = legendItem.datasetIndex;\n\t\t\tvar ci = this.chart;\n\t\t\tvar meta = ci.getDatasetMeta(index);\n\n\t\t\t// See controller.isDatasetVisible comment\n\t\t\tmeta.hidden = meta.hidden === null? !ci.data.datasets[index].hidden : null;\n\n\t\t\t// We hid a dataset ... rerender the chart\n\t\t\tci.update();\n\t\t},\n\n\t\tonHover: null,\n\n\t\tlabels: {\n\t\t\tboxWidth: 40,\n\t\t\tpadding: 10,\n\t\t\t// Generates labels shown in the legend\n\t\t\t// Valid properties to return:\n\t\t\t// text : text to display\n\t\t\t// fillStyle : fill of coloured box\n\t\t\t// strokeStyle: stroke of coloured box\n\t\t\t// hidden : if this legend item refers to a hidden item\n\t\t\t// lineCap : cap style for line\n\t\t\t// lineDash\n\t\t\t// lineDashOffset :\n\t\t\t// lineJoin :\n\t\t\t// lineWidth :\n\t\t\tgenerateLabels: function(chart) {\n\t\t\t\tvar data = chart.data;\n\t\t\t\treturn helpers.isArray(data.datasets) ? data.datasets.map(function(dataset, i) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttext: dataset.label,\n\t\t\t\t\t\tfillStyle: (!helpers.isArray(dataset.backgroundColor) ? dataset.backgroundColor : dataset.backgroundColor[0]),\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(i),\n\t\t\t\t\t\tlineCap: dataset.borderCapStyle,\n\t\t\t\t\t\tlineDash: dataset.borderDash,\n\t\t\t\t\t\tlineDashOffset: dataset.borderDashOffset,\n\t\t\t\t\t\tlineJoin: dataset.borderJoinStyle,\n\t\t\t\t\t\tlineWidth: dataset.borderWidth,\n\t\t\t\t\t\tstrokeStyle: dataset.borderColor,\n\t\t\t\t\t\tpointStyle: dataset.pointStyle,\n\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\n\t\t\t\t\t\tdatasetIndex: i\n\t\t\t\t\t};\n\t\t\t\t}, this) : [];\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Helper function to get the box width based on the usePointStyle option\n\t * @param labelopts {Object} the label options on the legend\n\t * @param fontSize {Number} the label font size\n\t * @return {Number} width of the color box area\n\t */\n\tfunction getBoxWidth(labelOpts, fontSize) {\n\t\treturn labelOpts.usePointStyle ?\n\t\t\tfontSize * Math.SQRT2 :\n\t\t\tlabelOpts.boxWidth;\n\t}\n\n\tChart.Legend = Chart.Element.extend({\n\n\t\tinitialize: function(config) {\n\t\t\thelpers.extend(this, config);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tthis.legendHitBoxes = [];\n\n\t\t\t// Are we in doughnut mode which has a different data type\n\t\t\tthis.doughnutMode = false;\n\t\t},\n\n\t\t// These methods are ordered by lifecycle. Utilities then follow.\n\t\t// Any function defined here is inherited by all legend types.\n\t\t// Any function can be extended by the legend type\n\n\t\tbeforeUpdate: noop,\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: function() {\n\t\t\tvar me = this;\n\t\t\tvar labelOpts = me.options.labels;\n\t\t\tvar legendItems = labelOpts.generateLabels.call(me, me.chart);\n\n\t\t\tif (labelOpts.filter) {\n\t\t\t\tlegendItems = legendItems.filter(function(item) {\n\t\t\t\t\treturn labelOpts.filter(item, me.chart.data);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (me.options.reverse) {\n\t\t\t\tlegendItems.reverse();\n\t\t\t}\n\n\t\t\tme.legendItems = legendItems;\n\t\t},\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar display = opts.display;\n\n\t\t\tvar ctx = me.ctx;\n\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t// Reset hit boxes\n\t\t\tvar hitboxes = me.legendHitBoxes = [];\n\n\t\t\tvar minSize = me.minSize;\n\t\t\tvar isHorizontal = me.isHorizontal();\n\n\t\t\tif (isHorizontal) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? 10 : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? 10 : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\t// Increase sizes here\n\t\t\tif (display) {\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t// Labels\n\n\t\t\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n\t\t\t\t\tvar lineWidths = me.lineWidths = [0];\n\t\t\t\t\tvar totalHeight = me.legendItems.length ? fontSize + (labelOpts.padding) : 0;\n\n\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\tctx.textBaseline = 'top';\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\n\t\t\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n\t\t\t\t\t\tif (lineWidths[lineWidths.length - 1] + width + labelOpts.padding >= me.width) {\n\t\t\t\t\t\t\ttotalHeight += fontSize + (labelOpts.padding);\n\t\t\t\t\t\t\tlineWidths[lineWidths.length] = me.left;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\n\t\t\t\t\t});\n\n\t\t\t\t\tminSize.height += totalHeight;\n\n\t\t\t\t} else {\n\t\t\t\t\tvar vPadding = labelOpts.padding;\n\t\t\t\t\tvar columnWidths = me.columnWidths = [];\n\t\t\t\t\tvar totalWidth = labelOpts.padding;\n\t\t\t\t\tvar currentColWidth = 0;\n\t\t\t\t\tvar currentColHeight = 0;\n\t\t\t\t\tvar itemHeight = fontSize + vPadding;\n\n\t\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\n\t\t\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n\t\t\t\t\t\t// If too tall, go to new column\n\t\t\t\t\t\tif (currentColHeight + itemHeight > minSize.height) {\n\t\t\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\n\t\t\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\n\n\t\t\t\t\t\t\tcurrentColWidth = 0;\n\t\t\t\t\t\t\tcurrentColHeight = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get max width\n\t\t\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\n\t\t\t\t\t\tcurrentColHeight += itemHeight;\n\n\t\t\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\n\t\t\t\t\t\thitboxes[i] = {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\twidth: itemWidth,\n\t\t\t\t\t\t\theight: fontSize\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\n\t\t\t\t\ttotalWidth += currentColWidth;\n\t\t\t\t\tcolumnWidths.push(currentColWidth);\n\t\t\t\t\tminSize.width += totalWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\n\t\t},\n\n\t\t// Actually draw the legend on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar labelOpts = opts.labels;\n\t\t\tvar globalDefault = Chart.defaults.global,\n\t\t\t\tlineDefault = globalDefault.elements.line,\n\t\t\t\tlegendWidth = me.width,\n\t\t\t\tlineWidths = me.lineWidths;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar ctx = me.ctx,\n\t\t\t\t\tcursor,\n\t\t\t\t\titemOrDefault = helpers.getValueOrDefault,\n\t\t\t\t\tfontColor = itemOrDefault(labelOpts.fontColor, globalDefault.defaultFontColor),\n\t\t\t\t\tfontSize = itemOrDefault(labelOpts.fontSize, globalDefault.defaultFontSize),\n\t\t\t\t\tfontStyle = itemOrDefault(labelOpts.fontStyle, globalDefault.defaultFontStyle),\n\t\t\t\t\tfontFamily = itemOrDefault(labelOpts.fontFamily, globalDefault.defaultFontFamily),\n\t\t\t\t\tlabelFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\n\t\t\t\t// Canvas setup\n\t\t\t\tctx.textAlign = 'left';\n\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\tctx.lineWidth = 0.5;\n\t\t\t\tctx.strokeStyle = fontColor; // for strikethrough effect\n\t\t\t\tctx.fillStyle = fontColor; // render in correct colour\n\t\t\t\tctx.font = labelFont;\n\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize),\n\t\t\t\t\thitboxes = me.legendHitBoxes;\n\n\t\t\t\t// current position\n\t\t\t\tvar drawLegendBox = function(x, y, legendItem) {\n\t\t\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the ctx for the box\n\t\t\t\t\tctx.save();\n\n\t\t\t\t\tctx.fillStyle = itemOrDefault(legendItem.fillStyle, globalDefault.defaultColor);\n\t\t\t\t\tctx.lineCap = itemOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\n\t\t\t\t\tctx.lineDashOffset = itemOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\n\t\t\t\t\tctx.lineJoin = itemOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\n\t\t\t\t\tctx.lineWidth = itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\n\t\t\t\t\tctx.strokeStyle = itemOrDefault(legendItem.strokeStyle, globalDefault.defaultColor);\n\t\t\t\t\tvar isLineWidthZero = (itemOrDefault(legendItem.lineWidth, lineDefault.borderWidth) === 0);\n\n\t\t\t\t\tif (ctx.setLineDash) {\n\t\t\t\t\t\t// IE 9 and 10 do not support line dash\n\t\t\t\t\t\tctx.setLineDash(itemOrDefault(legendItem.lineDash, lineDefault.borderDash));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opts.labels && opts.labels.usePointStyle) {\n\t\t\t\t\t\t// Recalculate x and y for drawPoint() because its expecting\n\t\t\t\t\t\t// x and y to be center of figure (instead of top left)\n\t\t\t\t\t\tvar radius = fontSize * Math.SQRT2 / 2;\n\t\t\t\t\t\tvar offSet = radius / Math.SQRT2;\n\t\t\t\t\t\tvar centerX = x + offSet;\n\t\t\t\t\t\tvar centerY = y + offSet;\n\n\t\t\t\t\t\t// Draw pointStyle as legend symbol\n\t\t\t\t\t\tChart.canvasHelpers.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Draw box as legend symbol\n\t\t\t\t\t\tif (!isLineWidthZero) {\n\t\t\t\t\t\t\tctx.strokeRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tctx.fillRect(x, y, boxWidth, fontSize);\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t};\n\t\t\t\tvar fillText = function(x, y, legendItem, textWidth) {\n\t\t\t\t\tctx.fillText(legendItem.text, boxWidth + (fontSize / 2) + x, y);\n\n\t\t\t\t\tif (legendItem.hidden) {\n\t\t\t\t\t\t// Strikethrough the text if hidden\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\t\tctx.moveTo(boxWidth + (fontSize / 2) + x, y + (fontSize / 2));\n\t\t\t\t\t\tctx.lineTo(boxWidth + (fontSize / 2) + x + textWidth, y + (fontSize / 2));\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Horizontal\n\t\t\t\tvar isHorizontal = me.isHorizontal();\n\t\t\t\tif (isHorizontal) {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + ((legendWidth - lineWidths[0]) / 2),\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcursor = {\n\t\t\t\t\t\tx: me.left + labelOpts.padding,\n\t\t\t\t\t\ty: me.top + labelOpts.padding,\n\t\t\t\t\t\tline: 0\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tvar itemHeight = fontSize + labelOpts.padding;\n\t\t\t\thelpers.each(me.legendItems, function(legendItem, i) {\n\t\t\t\t\tvar textWidth = ctx.measureText(legendItem.text).width,\n\t\t\t\t\t\twidth = boxWidth + (fontSize / 2) + textWidth,\n\t\t\t\t\t\tx = cursor.x,\n\t\t\t\t\t\ty = cursor.y;\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tif (x + width >= legendWidth) {\n\t\t\t\t\t\t\ty = cursor.y += itemHeight;\n\t\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t\t\tx = cursor.x = me.left + ((legendWidth - lineWidths[cursor.line]) / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (y + itemHeight > me.bottom) {\n\t\t\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\n\t\t\t\t\t\ty = cursor.y = me.top + labelOpts.padding;\n\t\t\t\t\t\tcursor.line++;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawLegendBox(x, y, legendItem);\n\n\t\t\t\t\thitboxes[i].left = x;\n\t\t\t\t\thitboxes[i].top = y;\n\n\t\t\t\t\t// Fill the actual label\n\t\t\t\t\tfillText(x, y, legendItem, textWidth);\n\n\t\t\t\t\tif (isHorizontal) {\n\t\t\t\t\t\tcursor.x += width + (labelOpts.padding);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcursor.y += itemHeight;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handle an event\n\t\t * @private\n\t\t * @param {IEvent} event - The event to handle\n\t\t * @return {Boolean} true if a change occured\n\t\t */\n\t\thandleEvent: function(e) {\n\t\t\tvar me = this;\n\t\t\tvar opts = me.options;\n\t\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\n\t\t\tvar changed = false;\n\n\t\t\tif (type === 'mousemove') {\n\t\t\t\tif (!opts.onHover) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (type === 'click') {\n\t\t\t\tif (!opts.onClick) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Chart event already has relative position in it\n\t\t\tvar x = e.x,\n\t\t\t\ty = e.y;\n\n\t\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n\t\t\t\t// See if we are touching one of the dataset boxes\n\t\t\t\tvar lh = me.legendHitBoxes;\n\t\t\t\tfor (var i = 0; i < lh.length; ++i) {\n\t\t\t\t\tvar hitBox = lh[i];\n\n\t\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n\t\t\t\t\t\t// Touching an element\n\t\t\t\t\t\tif (type === 'click') {\n\t\t\t\t\t\t\t// use e.native for backwards compatibility\n\t\t\t\t\t\t\topts.onClick.call(me, e.native, me.legendItems[i]);\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (type === 'mousemove') {\n\t\t\t\t\t\t\t// use e.native for backwards compatibility\n\t\t\t\t\t\t\topts.onHover.call(me, e.native, me.legendItems[i]);\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t}\n\t});\n\n\tfunction createNewLegendAndAttach(chart, legendOpts) {\n\t\tvar legend = new Chart.Legend({\n\t\t\tctx: chart.ctx,\n\t\t\toptions: legendOpts,\n\t\t\tchart: chart\n\t\t});\n\n\t\tlayout.configure(chart, legend, legendOpts);\n\t\tlayout.addBox(chart, legend);\n\t\tchart.legend = legend;\n\t}\n\n\treturn {\n\t\tid: 'legend',\n\n\t\tbeforeInit: function(chart) {\n\t\t\tvar legendOpts = chart.options.legend;\n\n\t\t\tif (legendOpts) {\n\t\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\n\t\t\t}\n\t\t},\n\n\t\tbeforeUpdate: function(chart) {\n\t\t\tvar legendOpts = chart.options.legend;\n\t\t\tvar legend = chart.legend;\n\n\t\t\tif (legendOpts) {\n\t\t\t\tlegendOpts = helpers.configMerge(Chart.defaults.global.legend, legendOpts);\n\n\t\t\t\tif (legend) {\n\t\t\t\t\tlayout.configure(chart, legend, legendOpts);\n\t\t\t\t\tlegend.options = legendOpts;\n\t\t\t\t} else {\n\t\t\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\n\t\t\t\t}\n\t\t\t} else if (legend) {\n\t\t\t\tlayout.removeBox(chart, legend);\n\t\t\t\tdelete chart.legend;\n\t\t\t}\n\t\t},\n\n\t\tafterEvent: function(chart, e) {\n\t\t\tvar legend = chart.legend;\n\t\t\tif (legend) {\n\t\t\t\tlegend.handleEvent(e);\n\t\t\t}\n\t\t}\n\t};\n};\n","'use strict';\n\nmodule.exports = function(Chart) {\n\n\tvar helpers = Chart.helpers;\n\tvar layout = Chart.layoutService;\n\tvar noop = helpers.noop;\n\n\tChart.defaults.global.title = {\n\t\tdisplay: false,\n\t\tposition: 'top',\n\t\tfullWidth: true,\n\t\tweight: 2000,        // by default greater than legend (1000) to be above\n\t\tfontStyle: 'bold',\n\t\tpadding: 10,\n\n\t\t// actual title\n\t\ttext: ''\n\t};\n\n\tChart.Title = Chart.Element.extend({\n\t\tinitialize: function(config) {\n\t\t\tvar me = this;\n\t\t\thelpers.extend(me, config);\n\n\t\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\t\tme.legendHitBoxes = [];\n\t\t},\n\n\t\t// These methods are ordered by lifecycle. Utilities then follow.\n\n\t\tbeforeUpdate: noop,\n\t\tupdate: function(maxWidth, maxHeight, margins) {\n\t\t\tvar me = this;\n\n\t\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\t\tme.beforeUpdate();\n\n\t\t\t// Absorb the master measurements\n\t\t\tme.maxWidth = maxWidth;\n\t\t\tme.maxHeight = maxHeight;\n\t\t\tme.margins = margins;\n\n\t\t\t// Dimensions\n\t\t\tme.beforeSetDimensions();\n\t\t\tme.setDimensions();\n\t\t\tme.afterSetDimensions();\n\t\t\t// Labels\n\t\t\tme.beforeBuildLabels();\n\t\t\tme.buildLabels();\n\t\t\tme.afterBuildLabels();\n\n\t\t\t// Fit\n\t\t\tme.beforeFit();\n\t\t\tme.fit();\n\t\t\tme.afterFit();\n\t\t\t//\n\t\t\tme.afterUpdate();\n\n\t\t\treturn me.minSize;\n\n\t\t},\n\t\tafterUpdate: noop,\n\n\t\t//\n\n\t\tbeforeSetDimensions: noop,\n\t\tsetDimensions: function() {\n\t\t\tvar me = this;\n\t\t\t// Set the unconstrained dimension before label rotation\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.width = me.maxWidth;\n\t\t\t\tme.left = 0;\n\t\t\t\tme.right = me.width;\n\t\t\t} else {\n\t\t\t\tme.height = me.maxHeight;\n\n\t\t\t\t// Reset position before calculating rotation\n\t\t\t\tme.top = 0;\n\t\t\t\tme.bottom = me.height;\n\t\t\t}\n\n\t\t\t// Reset padding\n\t\t\tme.paddingLeft = 0;\n\t\t\tme.paddingTop = 0;\n\t\t\tme.paddingRight = 0;\n\t\t\tme.paddingBottom = 0;\n\n\t\t\t// Reset minSize\n\t\t\tme.minSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\t\tafterSetDimensions: noop,\n\n\t\t//\n\n\t\tbeforeBuildLabels: noop,\n\t\tbuildLabels: noop,\n\t\tafterBuildLabels: noop,\n\n\t\t//\n\n\t\tbeforeFit: noop,\n\t\tfit: function() {\n\t\t\tvar me = this,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global,\n\t\t\t\tdisplay = opts.display,\n\t\t\t\tfontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\tminSize = me.minSize;\n\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\t\tminSize.height = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t} else {\n\t\t\t\tminSize.width = display ? fontSize + (opts.padding * 2) : 0;\n\t\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t\t}\n\n\t\t\tme.width = minSize.width;\n\t\t\tme.height = minSize.height;\n\n\t\t},\n\t\tafterFit: noop,\n\n\t\t// Shared Methods\n\t\tisHorizontal: function() {\n\t\t\tvar pos = this.options.position;\n\t\t\treturn pos === 'top' || pos === 'bottom';\n\t\t},\n\n\t\t// Actually draw the title block on the canvas\n\t\tdraw: function() {\n\t\t\tvar me = this,\n\t\t\t\tctx = me.ctx,\n\t\t\t\tvalueOrDefault = helpers.getValueOrDefault,\n\t\t\t\topts = me.options,\n\t\t\t\tglobalDefaults = Chart.defaults.global;\n\n\t\t\tif (opts.display) {\n\t\t\t\tvar fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize),\n\t\t\t\t\tfontStyle = valueOrDefault(opts.fontStyle, globalDefaults.defaultFontStyle),\n\t\t\t\t\tfontFamily = valueOrDefault(opts.fontFamily, globalDefaults.defaultFontFamily),\n\t\t\t\t\ttitleFont = helpers.fontString(fontSize, fontStyle, fontFamily),\n\t\t\t\t\trotation = 0,\n\t\t\t\t\ttitleX,\n\t\t\t\t\ttitleY,\n\t\t\t\t\ttop = me.top,\n\t\t\t\t\tleft = me.left,\n\t\t\t\t\tbottom = me.bottom,\n\t\t\t\t\tright = me.right,\n\t\t\t\t\tmaxWidth;\n\n\t\t\t\tctx.fillStyle = valueOrDefault(opts.fontColor, globalDefaults.defaultFontColor); // render in correct colour\n\t\t\t\tctx.font = titleFont;\n\n\t\t\t\t// Horizontal\n\t\t\t\tif (me.isHorizontal()) {\n\t\t\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2); // midpoint of the height\n\t\t\t\t\tmaxWidth = right - left;\n\t\t\t\t} else {\n\t\t\t\t\ttitleX = opts.position === 'left' ? left + (fontSize / 2) : right - (fontSize / 2);\n\t\t\t\t\ttitleY = top + ((bottom - top) / 2);\n\t\t\t\t\tmaxWidth = bottom - top;\n\t\t\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\n\t\t\t\t}\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(titleX, titleY);\n\t\t\t\tctx.rotate(rotation);\n\t\t\t\tctx.textAlign = 'center';\n\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\tctx.fillText(opts.text, 0, 0, maxWidth);\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction createNewTitleBlockAndAttach(chart, titleOpts) {\n\t\tvar title = new Chart.Title({\n\t\t\tctx: chart.ctx,\n\t\t\toptions: titleOpts,\n\t\t\tchart: chart\n\t\t});\n\n\t\tlayout.configure(chart, title, titleOpts);\n\t\tlayout.addBox(chart, title);\n\t\tchart.titleBlock = title;\n\t}\n\n\treturn {\n\t\tid: 'title',\n\n\t\tbeforeInit: function(chart) {\n\t\t\tvar titleOpts = chart.options.title;\n\n\t\t\tif (titleOpts) {\n\t\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\n\t\t\t}\n\t\t},\n\n\t\tbeforeUpdate: function(chart) {\n\t\t\tvar titleOpts = chart.options.title;\n\t\t\tvar titleBlock = chart.titleBlock;\n\n\t\t\tif (titleOpts) {\n\t\t\t\ttitleOpts = helpers.configMerge(Chart.defaults.global.title, titleOpts);\n\n\t\t\t\tif (titleBlock) {\n\t\t\t\t\tlayout.configure(chart, titleBlock, titleOpts);\n\t\t\t\t\ttitleBlock.options = titleOpts;\n\t\t\t\t} else {\n\t\t\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\n\t\t\t\t}\n\t\t\t} else if (titleBlock) {\n\t\t\t\tChart.layoutService.removeBox(chart, titleBlock);\n\t\t\t\tdelete chart.titleBlock;\n\t\t\t}\n\t\t}\n\t};\n};\n","/**\n * @namespace Chart\n */\nvar Chart = require('./core/core.js')();\n\nrequire('./core/core.helpers')(Chart);\nrequire('./platforms/platform.js')(Chart);\nrequire('./core/core.canvasHelpers')(Chart);\nrequire('./core/core.element')(Chart);\nrequire('./core/core.plugin.js')(Chart);\nrequire('./core/core.animation')(Chart);\nrequire('./core/core.controller')(Chart);\nrequire('./core/core.datasetController')(Chart);\nrequire('./core/core.layoutService')(Chart);\nrequire('./core/core.scaleService')(Chart);\nrequire('./core/core.ticks.js')(Chart);\nrequire('./core/core.scale')(Chart);\nrequire('./core/core.interaction')(Chart);\nrequire('./core/core.tooltip')(Chart);\n\nrequire('./elements/element.arc')(Chart);\nrequire('./elements/element.line')(Chart);\nrequire('./elements/element.point')(Chart);\nrequire('./elements/element.rectangle')(Chart);\n\nrequire('./scales/scale.linearbase.js')(Chart);\nrequire('./scales/scale.category')(Chart);\nrequire('./scales/scale.linear')(Chart);\nrequire('./scales/scale.logarithmic')(Chart);\nrequire('./scales/scale.radialLinear')(Chart);\nrequire('./scales/scale.time')(Chart);\n\n// Controllers must be loaded after elements\n// See Chart.core.datasetController.dataElementType\nrequire('./controllers/controller.bar')(Chart);\nrequire('./controllers/controller.bubble')(Chart);\nrequire('./controllers/controller.doughnut')(Chart);\nrequire('./controllers/controller.line')(Chart);\nrequire('./controllers/controller.polarArea')(Chart);\nrequire('./controllers/controller.radar')(Chart);\n\nrequire('./charts/Chart.Bar')(Chart);\nrequire('./charts/Chart.Bubble')(Chart);\nrequire('./charts/Chart.Doughnut')(Chart);\nrequire('./charts/Chart.Line')(Chart);\nrequire('./charts/Chart.PolarArea')(Chart);\nrequire('./charts/Chart.Radar')(Chart);\nrequire('./charts/Chart.Scatter')(Chart);\n\n// Loading built-it plugins\nvar plugins = [];\n\nplugins.push(\n    require('./plugins/plugin.filler.js')(Chart),\n    require('./plugins/plugin.legend.js')(Chart),\n    require('./plugins/plugin.title.js')(Chart)\n);\n\nChart.plugins.register(plugins);\n\nmodule.exports = Chart;\nif (typeof window !== 'undefined') {\n\twindow.Chart = Chart;\n}\n","'use strict';\n\nimport m from 'mithril';\nimport Chart from 'chart.js';\n\nimport { randomizeData, reloadData } from '../utils';\n\nexport default {\n  view(vnode) {\n    const model = vnode.attrs.model;\n\n    return m(`.${model.config.type}`, [\n      m('#canvas-holder', [\n        m('canvas#chart-area', {\n          oncreate(vnode) {\n            const ctx = vnode.dom.getContext('2d');\n            model.instance = new Chart(ctx, model.config);\n          }\n        })\n      ]),\n      m('a.button[href=\"#\"]#randomizeData', {\n        onclick: e => {\n          e.preventDefault();\n          randomizeData(model);\n        }\n      }, 'Randomize Data'),\n      ' ',\n      m('a.button[href=\"#\"]#reloadData', {\n        onclick: e => {\n          e.preventDefault();\n          reloadData(model);\n        }\n      }, 'Reload Data')\n    ])\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\n\nimport barModel from '../models/barModel';\nimport barModelTwo from '../models/barModelTwo';\nimport lineModel from '../models/lineModel';\nimport doughnutModel from '../models/doughnutModel';\n\nimport chartComponent from '../components/chartComponent';\n\nexport default {\n  view(vnode) {\n    return [\n      m('h1.title.has-text-centered', 'Mithril + Chart.js'),\n      m('.columns', [\n        barModel.loaded ? m('.column', m(chartComponent, { model: barModel })) : m('.column.has-text-centered', 'Loading...'),\n        barModelTwo.loaded ? m('.column', m(chartComponent, { model: barModelTwo })) : m('.column.has-text-centered', 'Loading after 5 secs...'),\n        lineModel.loaded ? m('.column', m(chartComponent, { model: lineModel })) : m('.column.has-text-centered', 'Loading...')\n      ]),\n      m('.columns', [\n        doughnutModel.loaded ? m('.column', m(chartComponent, { model: doughnutModel })) : m('.column.has-text-centered', 'Loading...'),\n        m('.column', ''),\n        m('.column', '')\n      ])\n    ];\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\n\nimport barModel from '../models/barModel';\nimport barModelTwo from '../models/barModelTwo';\n\nimport chartComponent from '../components/chartComponent';\n\nexport default {\n  view(vnode) {\n    return [\n      m('h1.title.has-text-centered', 'Bar Charts'),\n      m('.columns', [\n        barModel.loaded ? m('.column', m(chartComponent, { model: barModel })) : m('.column', 'Loading...'),\n        barModelTwo.loaded ? m('.column', m(chartComponent, { model: barModelTwo })) : m('.column', 'Loading after 5 secs...')\n      ])\n    ];\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\n\nimport lineModel from '../models/lineModel';\n\nimport chartComponent from '../components/chartComponent';\n\nexport default {\n  view(vnode) {\n    return [\n      m('h1.title.has-text-centered', 'Line Charts'),\n      m('.columns', [\n        lineModel.loaded ? m('.column', m(chartComponent, { model: lineModel })) : m('.column', 'Loading...')\n      ])\n    ];\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\n\nimport doughnutModel from '../models/doughnutModel';\n\nimport chartComponent from '../components/chartComponent';\n\nexport default {\n  view(vnode) {\n    return [\n      m('h1.title.has-text-centered', 'Doughnut Charts'),\n      m('.columns', [\n        doughnutModel.loaded ? m('.column', m(chartComponent, { model: doughnutModel })) : m('.column', 'Loading...')\n      ])\n    ];\n  }\n};\n","'use strict';\n\nimport m from 'mithril';\n\n// models\nimport barModel from './models/barModel';\nimport barModelTwo from './models/barModelTwo';\nimport lineModel from './models/lineModel';\nimport doughnutModel from './models/doughnutModel';\n\n// layout/view wrapper\nimport layoutWrapper from './layout';\n\n// views\nimport allCharts from './views/allCharts';\nimport barCharts from './views/barCharts';\nimport lineCharts from './views/lineCharts';\nimport doughnutCharts from './views/doughnutCharts';\n\n// start fetching data for models\nbarModel.getData();\nbarModelTwo.getData();\nlineModel.getData();\ndoughnutModel.getData();\n\nconst routes = {\n  '/': layoutWrapper(allCharts),\n  '/bar': layoutWrapper(barCharts),\n  '/line': layoutWrapper(lineCharts),\n  '/doughnut': layoutWrapper(doughnutCharts)\n};\n\nconst appEntry = document.getElementById('appEntry');\n// Routing\n// m.route.prefix('');\nm.route(appEntry, '/', routes);\n"],"names":["rgb2hsl","rgb","h","s","l","r","g","b","min","Math","max","delta","rgb2hsv","v","rgb2hwb","rgb2cmyk","c","m","y","k","rgb2keyword","reverseKeywords","JSON","stringify","rgb2xyz","pow","rgb2lab","a","xyz","x","z","rgb2lch","args","lab2lch","hsl2rgb","hsl","t1","t2","t3","val","i","hsl2hsv","sv","hsl2hwb","hsl2cmyk","hsl2keyword","hsv2rgb","hsv","hi","floor","f","p","q","t","hsv2hsl","sl","hsv2hwb","hsv2cmyk","hsv2keyword","hwb2rgb","hwb","n","wh","bl","ratio","hwb2hsl","hwb2hsv","hwb2cmyk","hwb2keyword","cmyk2rgb","cmyk","cmyk2hsl","cmyk2hsv","cmyk2hwb","cmyk2keyword","xyz2rgb","xyz2lab","xyz2lch","lab2xyz","lab","y2","hr","atan2","PI","sqrt","lab2rgb","lch2lab","lch","cos","sin","lch2xyz","lch2rgb","keyword2rgb","keyword","cssKeywords","keyword2hsl","keyword2hsv","keyword2hwb","keyword2cmyk","keyword2lab","keyword2xyz","getRgba","string","abbr","hex","rgba","per","match","length","parseInt","slice","parseFloat","round","colorNames","scale","getHsla","alpha","isNaN","getHwb","getRgb","getHsl","hsla","getAlpha","vals","hexString","hexDouble","rgbString","rgbaString","undefined","percentString","percentaString","hslString","hslaString","hwbString","reverseNames","num","str","toString","toUpperCase","hooks","hookCallback","apply","arguments","setHookCallback","callback","isArray","input","Array","Object","prototype","call","isObject","isObjectEmpty","obj","isUndefined","isNumber","isDate","Date","map","arr","fn","res","push","hasOwnProp","hasOwnProperty","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","defaultParsingFlags","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","getParsingFlags","_pf","isValid","_isValid","flags","parsedParts","some","isNowValid","_d","getTime","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","copyConfig","to","from","prop","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","momentProperties","Moment","config","this","updateInProgress","updateOffset","isMoment","absFloor","number","ceil","toInt","argumentForCoercion","coercedNumber","value","isFinite","compareArrays","array1","array2","dontConvert","len","lengthDiff","abs","diffs","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","arg","key","join","Error","stack","deprecateSimple","name","deprecations","isFunction","Function","set","_config","_dayOfMonthOrdinalParseLenient","RegExp","_dayOfMonthOrdinalParse","source","_ordinalParse","mergeConfigs","parentConfig","childConfig","Locale","calendar","mom","now","output","_calendar","longDateFormat","_longDateFormat","formatUpper","replace","invalidDate","_invalidDate","ordinal","_ordinal","relativeTime","withoutSuffix","isFuture","_relativeTime","pastFuture","diff","addUnitAlias","unit","shorthand","lowerCase","toLowerCase","aliases","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","addUnitPriority","priority","priorities","getPrioritizedUnits","unitsObj","u","sort","makeGetSet","keepTime","get","stringGet","stringSet","prioritized","zeroFill","targetLength","forceSign","absNumber","zerosToFill","substr","addFormatToken","token","padded","func","formatTokenFunctions","localeData","removeFormattingTokens","makeFormatFunction","array","formattingTokens","formatMoment","expandFormat","formatFunctions","replaceLongDateFormatTokens","localFormattingTokens","lastIndex","test","addRegexToken","regex","strictRegex","regexes","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","matched","p1","p2","p3","p4","addParseToken","tokens","addWeekParseToken","_w","addTimeToArrayFromToken","_a","daysInMonth","year","month","UTC","getUTCDate","localeMonths","_months","isFormat","MONTHS_IN_FORMAT","localeMonthsShort","_monthsShort","handleStrictParse","monthName","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","monthsShort","months","indexOf","localeMonthsParse","_monthsParseExact","setMonth","dayOfMonth","monthsParse","date","getSetMonth","getDaysInMonth","monthsShortRegex","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","defaultMonthsShortRegex","monthsRegex","_monthsStrictRegex","_monthsRegex","defaultMonthsRegex","cmpLenRev","shortPieces","longPieces","mixedPieces","daysInYear","isLeapYear","getIsLeapYear","createDate","d","M","ms","getFullYear","setFullYear","createUTCDate","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","dayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","localeWeek","_week","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","add","getSetISOWeek","parseWeekday","weekdaysParse","parseIsoWeekday","localeWeekdays","_weekdays","day","localeWeekdaysShort","_weekdaysShort","localeWeekdaysMin","_weekdaysMin","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","weekdaysMin","weekdaysShort","weekdays","localeWeekdaysParse","_weekdaysParseExact","_fullWeekdaysParse","getSetDayOfWeek","getDay","getSetLocaleDayOfWeek","getSetISODayOfWeek","weekdaysRegex","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","defaultWeekdaysRegex","weekdaysShortRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","defaultWeekdaysShortRegex","weekdaysMinRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","defaultWeekdaysMinRegex","minp","shortp","longp","minPieces","hFormat","hours","kFormat","lowercase","minutes","matchMeridiem","_meridiemParse","localeIsPM","charAt","localeMeridiem","isLower","normalizeLocale","chooseLocale","names","j","next","split","loadLocale","oldLocale","locales","module","exports","globalLocale","_abbr","require","getSetGlobalLocale","e","values","data","getLocale","defineLocale","baseConfig","parentLocale","localeFamilies","forEach","updateLocale","listLocales","keys","checkOverflow","MONTH","DATE","YEAR","HOUR","MINUTE","SECOND","MILLISECOND","_overflowDayOfYear","_overflowWeeks","WEEK","_overflowWeekday","WEEKDAY","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","extendedIsoRegex","exec","basicIsoRegex","isoDates","isoTimes","tzRegex","configFromStringAndFormat","configFromRFC2822","dayFormat","timezone","timezoneIndex","timezones"," GMT"," EDT"," EST"," CDT"," CST"," MDT"," MST"," PDT"," PST","basicRfcRegex","momentDay","splice","configFromString","aspNetJsonRegex","createFromInputFallback","defaults","currentDateArray","nowValue","_useUTC","getUTCMonth","getMonth","getDate","configFromArray","currentDate","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","setUTCMinutes","getUTCMinutes","w","weekYear","temp","weekdayOverflow","GG","W","E","createLocal","curWeek","gg","ISO_8601","RFC_2822","parsedInput","skipped","stringLength","totalParsedInputLength","_meridiem","meridiemFixWrap","hour","isPm","meridiemHour","isPM","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromObject","minute","second","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","pickBy","moments","isDurationValid","ordering","unitHasDecimal","createDuration","Duration","duration","years","quarters","quarter","weeks","days","seconds","milliseconds","_milliseconds","_days","_data","_bubble","isDuration","absRound","offset","separator","utcOffset","sign","offsetFromString","matcher","matches","parts","chunkOffset","cloneWithOffset","model","clone","setTime","local","getDateOffset","getTimezoneOffset","getSetOffset","keepLocalTime","keepMinutes","localAdjust","matchShortOffset","_changeInProgress","addSubtract","getSetZone","setOffsetToUTC","setOffsetToLocal","subtract","setOffsetToParsedOffset","tZone","matchOffset","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","other","toArray","isLocal","isUtcOffset","isUtc","ret","diffRes","aspNetRegex","isoRegex","parseIso","momentsDifference","inp","positiveMomentsDifference","base","isAfter","isBefore","createAdder","direction","period","dur","tmp","isAdding","getCalendarFormat","myMoment","time","formats","sod","startOf","calendarFormat","localInput","endOf","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","asFloat","that","zoneDelta","monthDiff","adjust","wholeMonthDiff","anchor","toISOString","toDate","inspect","zone","prefix","suffix","inputString","defaultFormatUtc","defaultFormat","postformat","humanize","fromNow","toNow","newLocaleData","isoWeekday","unix","toObject","toJSON","parsingFlags","invalidAt","creationData","addWeekYearFormatToken","getter","getSetWeekYear","getSetWeekYearHelper","getSetISOWeekYear","isoWeek","getISOWeeksInYear","getWeeksInYear","weekInfo","weeksTarget","setWeekAll","dayOfYearData","getSetQuarter","getSetDayOfYear","parseMs","getZoneAbbr","getZoneName","createUnix","createInZone","parseZone","preParsePostFormat","index","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","shift","listMonths","listMonthsShort","listWeekdays","listWeekdaysShort","listWeekdaysMin","mathAbs","absCeil","bubble","monthsFromDays","monthsToDays","daysToMonths","as","makeAs","alias","makeGetter","substituteTimeAgo","posNegDuration","thresholds","ss","getSetRelativeTimeRounding","roundingFunction","getSetRelativeTimeThreshold","threshold","limit","withSuffix","Y","D","total","asSeconds","Vnode","tag","attrs0","children","text","dom","attrs","domSize","state","_state","events","instance","skip","compileSelector","selector","classes","selectorParser","type","id","attrValue","className","selectorCache","execSelector","childList","hasAttrs","class","hasOwn","hyperscript","start","view","cached","normalized","normalizeChildren","throttle","last","pending","timeout","requestAnimationFrame","setTimeout","normalize","node","trust","html","fragment","attrs1","PromisePolyfill","executor","handler","list","shouldAbsorb","execute","then","callAsync","error","resolvers","rejectors","retry","self","TypeError","executeOnce","bind","rejectCurrent","run","runs","onerror","resolveCurrent","_instance","setImmediate","onFulfilled","onRejection","handle","resolveNext","rejectNext","promise","resolve","reject","catch","all","count","consume","race","window","Promise","global","buildQueryString","object","destructure","key0","encodeURIComponent","FILE_PROTOCOL_REGEX","requestService","$window","setCompletionCallback","oncompletion","finalizer","complete","finalize","promise0","then0","extra","url","request","method","useBody","serialize","FormData","deserialize","extract","interpolate","assemble","xhr","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","setRequestHeader","withCredentials","headers","onreadystatechange","readyState","response","status","cast","responseText","send","background","jsonp","callbackName","random","callbackCount","script","document","createElement","parentNode","removeChild","callbackKey","src","documentElement","appendChild","querystring","parse","type0","coreRenderer","setEventCallback","onevent","createNodes","parent","vnodes","end","nextSibling","ns","vnode","createNode","createComponent","initLifecycle","createText","createHTML","createFragment","$doc","createTextNode","insertNode","parent1","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","innerHTML","firstChild","childNodes","child","createDocumentFragment","attrs2","is","element","createElementNS","setAttrs","contenteditable","setContentEditable","textContent","setLateAttrs","initComponent","sentinel","create","$$reentrantLock$$","$emptyFragment","updateNodes","old","recycling","removeNodes","isUnkeyed","getNextSibling","updateNode","isRecyclable","pool","concat","oldStart","oldEnd","o","shouldRecycle","toFragment","getKeyMap","oldIndex","movable","oldTag","shouldNotUpdate","updateLifecycle","updateText","updateHTML","updateFragment","updateElement","updateComponent","removeNode","nodeValue","updateAttrs","oldChildrenLength","poolChildrenLength","vnodesChildrenLength","key2","count0","insertBefore","content","context","continuation","called","expected","onremove","removeNodeFromDOM","hasIntegrationMethods","onbeforeremove","result","setAttr","isFormAttribute","isLifecycleMethod","nsLastIndex","setAttributeNS","updateEvent","updateStyle","isAttribute","isCustomElement","activeElement","setAttribute","removeAttribute","selectedIndex","attr","oncreate","onupdate","style","cssText","eventName","removeEventListener","addEventListener","oninit","forceVnodeUpdate","forceComponentUpdate","onbeforeupdate","render","active","focus","redrawService","subscribe","key1","unsubscribe","callbacks","redraw","renderService","mount","redrawService0","root","component","run0","parseQueryString","entries","data0","counters","entry","key5","decodeURIComponent","levels","cursor","pop","level","nextLevel","isValue","coreRouter","normalize1","fragment0","location","debounceAsync","callback0","asyncId","callAsync0","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key4","hashParams","supportsPushState","history","pushState","router","getPath","setPath","options","match2","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","params","pathname","route0","onhashchange","route","render1","attrs3","currentPath","lastUpdate","routeService","identity","defaultRoute","run1","bail","payload","update","routeResolver","comp","onmatch","resolved","prefix0","link","vnode1","onclick","ctrlKey","metaKey","shiftKey","which","preventDefault","getAttribute","param","key3","withAttr","attrName","callback1","currentTarget","_28","version","chartColors","red","orange","yellow","green","blue","purple","grey","randomScalingFactor","reloadData","loaded","getData","randomizeData","datasets","dataset","labels","label","backgroundColor","responsive","display","scales","xAxes","ticks","beginAtZero","items","rooms","const","borderColor","fill","tooltips","mode","intersect","hover","scaleLabel","labelString","yAxes","majors","minors","gray","legend","position","animation","animateScale","animateRotate","employees","links","layout","Chart","item","construct","responsiveAnimationDuration","maintainAspectRatio","onHover","animationDuration","onClick","defaultColor","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","showLines","elements","legendCallback","chart","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellowgreen","convert","Converter","conversions","pair","convs","routeSpace","space","getValues","setValues","fspace","Color","valid","lightness","whiteness","setSpace","rgbArray","hslArray","hsvArray","hwbArray","cmykArray","rgbaArray","hslaArray","setChannel","hue","saturation","saturationv","blackness","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","contrastRatio","dark","light","negate","lighten","darken","saturate","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","target","spaces","maxes","chans","capped","sname","svalues","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","defaultView","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","Number","POSITIVE_INFINITY","helpers","each","loopable","reverse","objClone","setFn","ilen","configMerge","_base","extension","baseHasProperty","baseVal","scaleMerge","scaleService","getScaleDefaults","valueObj","axisType","getValueOrDefault","axisDefaults","getValueAtIndexOrDefault","defaultValue","where","collection","filterCallback","filter","filtered","findIndex","scope","findNextWhere","arrayToSearch","startIndex","currentItem","findPreviousWhere","inherits","extensions","me","ChartElement","constructor","Surrogate","__super__","noop","uid","almostEquals","epsilon","almostWhole","rounded","reduce","NEGATIVE_INFINITY","log10","log","LN10","toRadians","toDegrees","radians","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","distance","distanceBetweenPoints","pt1","pt2","aliasPixel","pixelWidth","splineCurve","firstPoint","middlePoint","afterPoint","previous","current","d01","d12","s01","s12","fa","fb","EPSILON","splineCurveMonotone","points","pointBefore","pointCurrent","pointAfter","pointsWithTangents","point","_model","deltaK","mK","pointsLen","slopeDeltaX","alphaK","betaK","tauK","squaredMagnitude","deltaX","controlPointPreviousX","controlPointPreviousY","controlPointNextX","controlPointNextY","nextItem","loop","previousItem","niceNum","range","exponent","fraction","easingEffects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","requestAnimFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getRelativePosition","evt","mouseX","mouseY","originalEvent","canvas","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","getStyle","paddingTop","paddingRight","paddingBottom","width","right","left","height","bottom","top","currentDevicePixelRatio","addEvent","eventType","attachEvent","removeEvent","detachEvent","getConstraintWidth","getConstraintHeight","getMaximumWidth","container","clientWidth","cw","getMaximumHeight","clientHeight","ch","el","property","currentStyle","getPropertyValue","retinaScale","pixelRatio","devicePixelRatio","ctx","clear","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","font","arrayOfThings","cache","gc","garbageCollect","longest","thing","measureText","nestedThing","gcLen","textWidth","numberOfLabelLines","numberOfLines","drawRoundedRectangle","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","color","CanvasGradient","arrayEquals","a0","a1","v0","v1","thisArg","getHoverColor","colorValue","CanvasPattern","callCallback","readUsedSize","initCanvas","renderHeight","renderWidth","_chartjs","initial","displayWidth","aspectRatio","displayHeight","createEvent","nativeEvent","native","fromNativeEvent","event","eventTypeMap","pos","createResizer","iframe","tabIndex","contentWindow","addResizeListener","listener","stub","ticking","notify","resizer","removeResizeListener","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","acquireContext","getElementById","getContext","releaseContext","proxy","proxies","platform","implementation","canvasHelpers","drawPoint","pointStyle","edgeLength","xOffset","yOffset","size","arc","SQRT2","fillRect","strokeRect","leftX","topY","sideSize","stroke","drawImage","clipArea","save","rect","clip","unclipArea","restore","flip","steppedLine","tension","bezierCurveTo","ease","actual","origin","c0","c1","Element","configuration","initialize","hidden","pivot","_view","_start","transition","tooltipPosition","hasValue","plugins","_plugins","_cacheId","register","plugin","unregister","idx","getAll","hook","descriptor","descriptors","opts","pluginService","PluginBase","easing","onProgress","onComplete","Animation","currentStep","numSteps","onAnimationProgress","onAnimationComplete","animationService","frameDuration","animations","dropFrames","addAnimation","lazy","animating","cancelAnimation","startDigest","startTime","framesToDrop","advance","endTime","defineProperty","initConfig","updateConfig","newOptions","scaleOptions","tooltip","_options","positionIsHorizontal","types","instances","controllers","_bufferedRender","controller","bindEvents","resize","ensureScalesHaveIDs","buildScales","initToolTip","stop","silent","newWidth","newHeight","newSize","onResize","scalesOptions","xAxisOptions","yAxisOptions","dtype","dposition","isDefault","scaleType","scaleClass","getScaleConstructor","addScalesToLayout","buildOrUpdateControllers","newControllers","datasetIndex","meta","getDatasetMeta","updateIndex","ControllerClass","isCombo","resetElements","reset","buildOrUpdateElements","updateLayout","updateDatasets","_bufferedRequest","layoutService","updateDataset","animationOptions","animationObject","easingFunction","stepDecimal","draw","easingValue","boxes","box","chartArea","drawDatasets","isDatasetVisible","drawDataset","getElementAtEvent","Interaction","modes","single","getElementsAtEvent","getElementsAtXAxis","getElementsAtEventForMode","getDatasetAtEvent","_meta","xAxisID","yAxisID","getVisibleDatasetCount","generateLegend","destroy","unbindEvents","toBase64Image","toDataURL","Tooltip","_chart","_chartInstance","listeners","_listeners","eventHandler","updateHoverStyle","enabled","_datasetIndex","changed","handleEvent","bufferedRequest","hoverOptions","lastActive","Controller","listenArrayEvents","configurable","enumerable","arrayEvents","unlistenArrayEvents","DatasetController","datasetElementType","dataElementType","linkScales","addElements","getMeta","getDataset","getScaleForId","scaleID","createMetaDataset","createMetaData","_index","metaData","addElementAndReset","resyncElements","removeHoverStyle","elementOpts","custom","valueOrDefault","borderWidth","setHoverStyle","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","numMeta","numData","insertElements","onDataPush","onDataPop","onDataShift","onDataSplice","onDataUnshift","filterByPosition","sortByWeight","_tmpIndex_","addBox","fullWidth","removeBox","layoutItem","configure","props","getMinimumBoxSize","minSize","isHorizontal","chartWidth","maxChartAreaWidth","horizontalBoxHeight","maxChartAreaHeight","verticalBoxWidth","chartAreaHeight","minBoxSizes","horizontal","fitBox","minBoxSize","minBox","scaleMargin","totalLeftBoxesWidth","maxHorizontalLeftPadding","totalRightBoxesWidth","maxHorizontalRightPadding","chartHeight","finalFitVerticalBox","totalTopBoxesHeight","totalBottomBoxesHeight","placeBox","leftPadding","rightPadding","layoutOptions","padding","topPadding","bottomPadding","leftBoxes","rightBoxes","topBoxes","bottomBoxes","chartAreaBoxes","maxVerticalTopPadding","maxVerticalBottomPadding","horizontalBox","getPadding","boxPadding","verticalBox","leftPaddingAddition","topPaddingAddition","newMaxChartAreaHeight","newMaxChartAreaWidth","constructors","registerScaleType","scaleConstructor","updateScaleDefaults","additions","Ticks","generators","generationOptions","dataRange","spacing","stepSize","niceRange","maxTicks","niceMin","niceMax","numSpaces","logarithmic","exp","significand","tickVal","endExp","endSignificand","minNotZero","lastTick","formatters","tickValue","logDelta","tickString","numDecimal","toFixed","remain","toExponential","computeTextSize","tick","parseFontOptions","globalDefaults","fontSize","family","gridLines","lineWidth","drawBorder","drawOnChartArea","drawTicks","tickMarkLength","zeroLineWidth","zeroLineColor","zeroLineBorderDash","zeroLineBorderDashOffset","offsetGridLines","borderDash","borderDashOffset","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Scale","beforeUpdate","maxWidth","maxHeight","margins","longestTextCache","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","beforeTickToLabelConversion","convertTicksToLabels","afterTickToLabelConversion","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","beforeFit","fit","afterFit","afterUpdate","tickOpts","userCallback","tickFont","labelRotation","cosRotation","originalLabelWidth","labelWidth","tickWidth","getPixelForTick","angleRadians","scaleLabelOpts","gridLineOpts","scaleLabelFontSize","isFullWidth","largestTextWidth","tallestLabelHeightInLines","lineSpace","longestLabelWidth","labelHeight","firstTick","firstLabelWidth","lastLabelWidth","handleMargins","getRightValue","rawValue","getLabelForIndex","getPixelForValue","getValueForPixel","includeOffset","pixel","finalVal","innerHeight","getPixelForDecimal","decimal","valueOffset","getBasePixel","getBaseValue","skipRatio","optionTicks","isRotated","useAutoskipper","maxTicksLimit","tickFontColor","fontColor","tl","scaleLabelFontColor","scaleLabelFont","labelRotationRadians","longestRotatedLabel","fillStyle","itemsToDraw","xTickStart","xTickEnd","yTickStart","yTickEnd","isLastTick","lineColor","zeroLineIndex","tx1","ty1","tx2","ty2","x1","y1","x2","labelX","labelY","textAlign","textBaseline","xLineValue","labelXOffset","isLeft","tickPadding","yLineValue","glWidth","glColor","glBorderDash","glBorderDashOffset","rotation","itemToDraw","strokeStyle","setLineDash","lineDashOffset","translate","fillText","scaleLabelX","scaleLabelY","parseVisibleItems","jlen","getIntersectItems","inRange","getNearestItems","distanceMetric","minDistance","nearestItems","center","getCenterPoint","indexMode","x-axis","nearest","getArea","intersectsItem","inXRange","inYRange","mergeOpacity","colorString","opacity","pushOrConcat","toPush","createTooltipItem","xScale","_xScale","yScale","_yScale","_scale","xLabel","yLabel","getBaseModel","tooltipOpts","xPadding","yPadding","xAlign","yAlign","bodyFontColor","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyAlign","bodyFontSize","bodySpacing","titleFontColor","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontStyle","titleFontSize","_titleAlign","titleAlign","titleSpacing","titleMarginBottom","footerFontColor","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontStyle","footerFontSize","_footerAlign","footerAlign","footerSpacing","footerMarginTop","caretSize","cornerRadius","legendColorBackground","multiKeyBackground","displayColors","getTooltipSize","body","combinedBodyLength","bodyItem","before","lines","after","beforeBody","afterBody","titleLineCount","footerLineCount","footer","widthPadding","maxLineWidth","line","determineAlignment","lf","rf","olf","orf","yf","midX","midY","getBackgroundPoint","vm","alignment","caretPadding","paddingAndSize","radiusAndPadding","beforeTitle","tooltipItems","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","afterLabel","beforeFooter","afterFooter","getTitle","getBeforeBody","getBody","bodyItems","getAfterBody","getFooter","existingModel","_active","backgroundPoint","tooltipSize","caretX","caretY","labelColors","positioners","_eventPosition","itemSort","dataPoints","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","drawTitle","pt","drawBody","textColor","xLinePadding","fillLineOfText","drawColorBoxes","drawFooter","drawBackground","hasTooltipContent","_lastActive","average","eventPosition","nearestElement","tp","globalOpts","Arc","inLabelRange","hoverRadius","chartX","chartY","pointRelativePosition","startAngle","endAngle","betweenAngles","withinRadius","innerRadius","outerRadius","halfAngle","halfRadius","centreAngle","rangeFromCentre","sA","eA","lineJoin","borderCapStyle","borderJoinStyle","capBezierPoints","Line","currentVM","spanGaps","_children","globalOptionLineElements","lastDrawnIndex","_loop","lineCap","xRange","hitRadius","yRange","Point","isVertical","bar","getBarBounds","halfWidth","halfHeight","rectangle","borderSkipped","Rectangle","cornerAt","corners","startCorner","signX","signY","barSize","halfStroke","borderLeft","borderRight","borderTop","borderBottom","corner","bounds","LinearScaleBase","handleTickRangeOptions","minSign","maxSign","suggestedMin","suggestedMax","getTickLimit","handleDirectionalChanges","numericGeneratorOptions","fixedStepSize","ticksAsNumbers","defaultConfig","DatasetScale","getLabels","xLabels","yLabels","minIndex","maxIndex","valueCategory","offsetAmt","valueWidth","widthOffset","valueHeight","heightOffset","horz","valueDimension","LinearScale","IDMatches","hasStacks","stacked","valuesPerStack","positiveValues","negativeValues","relativePoints","valuesForType","minVal","maxVal","tickFontSize","rightValue","innerDimension","LogarithmicScale","tickValues","newVal","getValueCount","angleLines","pointLabels","getPointLabelFontOptions","pointLabelOptions","measureLabelSize","determineLimits","fitWithPointLabels","textSize","pointPosition","plFont","largestPossibleRadius","furthestLimits","furthestAngles","_pointLabelSizes","valueCount","getPointPosition","getIndexAngle","hLimits","vLimits","setReductions","drawingArea","setCenterPoint","getTextAlignForAngle","adjustPointPositionForLabelHeight","drawPointLabels","angleLineOpts","pointLabelOpts","outerDistance","getDistanceFromCenterForValue","outerPosition","xCenter","yCenter","pointLabelPosition","pointLabelFontColor","drawRadiusLine","circular","numberOrZero","animate","showLabelBackdrop","backdropColor","backdropPaddingY","backdropPaddingX","LinearRadialScale","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","scalingFactor","distanceFromCenter","thisAngle","getPointPositionForValue","getBasePosition","tickFontStyle","tickFontFamily","tickLabelFont","yCenterOffset","yHeight","fun","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","defaultInvalidDate","defaultOrdinal","defaultDayOfMonthOrdinalParse","defaultRelativeTime","future","past","mm","hh","dd","MM","yy","match1","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchTimestamp","matchWord","defaultLocaleMonths","defaultLocaleMonthsShort","parseTwoDigitYear","getSetYear","defaultLocaleWeek","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","kInput","_isPm","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","dayOfMonthOrdinalParse","meridiemParse","prototypeMin","prototypeMax","invalid","lang","isoWeekYear","getSetDayOfMonth","getSetMinute","getSetSecond","getSetMillisecond","proto","isoWeeks","isoWeeksInYear","isDST","zoneAbbr","zoneName","dates","isDSTShifted","proto$1","firstDayOfYear","firstDayOfWeek","langData","asMilliseconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","proto$2","toIsoString","moment","relativeTimeRounding","relativeTimeThreshold","require$$0","parseTime","axis","timeOpts","parser","determineUnit","minUnit","interval","numUnits","unitDetails","steps","maxStep","determineStepSize","unitDefinition","unitSizeInMilliSeconds","sizeInUnits","multiplier","generateTicks","cur","realMax","displayFormat","displayFormats","TimeScale","timestamp","dataMin","MAX_SAFE_INTEGER","dataMax","MIN_SAFE_INTEGER","chartData","parsedData","labelIndex","labelMoment","timestamps","dataIndex","dataMoment","_parsedData","minTimestamp","maxTimestamp","minMoment","getLabelCapacity","tooltipFormat","tickFormatFunction","formattedTick","ticksAsTimestamps","getPixelForOffset","epochWidth","getLabelWidth","tickLabelWidth","sinRotation","exampleTime","exampleLabel","categoryPercentage","barPercentage","_ruler","getRuler","rectangleOptions","datasetLabel","updateElementGeometry","vscale","getValueScale","ruler","vpixels","calculateBarValuePixels","ipixels","calculateBarIndexPixels","head","getValueScaleId","getIndexScaleId","getIndexScale","getStackCount","stacks","getStackIndex","stackCount","tickSize","categorySize","fullBarSize","barThickness","maxBarThickness","Infinity","categorySpacing","barSpacing","imeta","ivalue","stackIndex","rectangleElementOptions","horizontalBar","dataPoint","pointElementOptions","dsIndex","getRadius","dataVal","doughnut","generateLabels","ds","arcOpts","legendItem","cutoutPercentage","circumference","dataLabel","pie","getRingIndex","ringIndex","availableWidth","availableHeight","contains0","contains90","contains180","contains270","cutout","getMaxBorderWidth","radiusLength","offsetX","offsetY","calculateTotal","animationOpts","centerX","centerY","calculateCircumference","valueAtIndexOrDefault","hoverWidth","lineEnabled","showLine","lineElementOptions","lineTension","stepped","cubicInterpolationMode","updateBezierControlPoints","getPointBackgroundColor","pointBackgroundColor","getPointBorderColor","pointBorderColor","getPointBorderWidth","pointBorderWidth","pointOptions","pointRadius","pointHitRadius","calculatePointY","dsMeta","sumPos","sumNeg","stackedRightValue","capControlPoint","controlPoints","area","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","polarArea","countVisibleElements","visibleCount","datasetStartAngle","resetRadius","radar","Bar","Bubble","Doughnut","PolarArea","Radar","scatter","Scatter","decodeFill","computeBoundary","scaleBottom","scaleTop","scaleZero","resolveTarget","sources","propagate","visited","visible","createMapper","mappers","isDrawable","drawArea","curve0","curve1","len0","len1","doFill","mapper","p0","d0","d1","span","filler","boundary","afterDatasetsUpdate","$filler","beforeDatasetDraw","getBoxWidth","labelOpts","usePointStyle","boxWidth","createNewLegendAndAttach","legendOpts","Legend","ci","lineDash","legendHitBoxes","doughnutMode","beforeBuildLabels","buildLabels","afterBuildLabels","legendItems","globalDefault","itemOrDefault","labelFont","hitboxes","lineWidths","totalHeight","vPadding","columnWidths","totalWidth","currentColWidth","currentColHeight","itemHeight","itemWidth","lineDefault","legendWidth","drawLegendBox","isLineWidthZero","offSet","lh","hitBox","beforeInit","afterEvent","createNewTitleBlockAndAttach","titleOpts","Title","titleBlock","titleX","titleY","titleFont","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","require$$26","require$$27","require$$28","require$$29","require$$30","require$$31","require$$32","require$$33","require$$34","require$$35","require$$36","require$$37","require$$38","require$$39","require$$40","barModel","chartComponent","barModelTwo","lineModel","doughnutModel","/","layoutWrapper","allCharts","/bar","barCharts","/line","lineCharts","/doughnut","doughnutCharts","appEntry"],"mappings":"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"}